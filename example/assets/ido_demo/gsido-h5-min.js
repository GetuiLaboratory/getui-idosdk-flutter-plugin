(function e(t,r){if(typeof exports==="object"&&typeof module==="object")module.exports=r();else if(typeof define==="function"&&define.amd)define([],r);else if(typeof exports==="object")exports["GsIdo"]=r();else t["GsIdo"]=r()})(self,(()=>(()=>{var e={9504:(e,t,r)=>{var a=r(276);r(3900);r(6370);r(7619);e.exports=a.aes=a.aes||{};a.aes.startEncrypting=function(e,t,r,a){var n=v({key:e,output:r,decrypt:false,mode:a});n.start(t);return n};a.aes.createEncryptionCipher=function(e,t){return v({key:e,output:null,decrypt:false,mode:t})};a.aes.startDecrypting=function(e,t,r,a){var n=v({key:e,output:r,decrypt:true,mode:a});n.start(t);return n};a.aes.createDecryptionCipher=function(e,t){return v({key:e,output:null,decrypt:true,mode:t})};a.aes.Algorithm=function(e,t){if(!i)d();var r=this;r.name=e;r.mode=new t({blockSize:16,cipher:{encrypt:function(e,t){return h(r._w,e,t,false)},decrypt:function(e,t){return h(r._w,e,t,true)}}});r._init=false};a.aes.Algorithm.prototype.initialize=function(e){if(this._init)return;var t=e.key;var r;if(typeof t==="string"&&(t.length===16||t.length===24||t.length===32))t=a.util.createBuffer(t);else if(a.util.isArray(t)&&(t.length===16||t.length===24||t.length===32)){r=t;t=a.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(!a.util.isArray(t)){r=t;t=[];var i=r.length();if(i===16||i===24||i===32){i>>>=2;for(var n=0;n<i;++n)t.push(r.getInt32())}}if(!a.util.isArray(t)||!(t.length===4||t.length===6||t.length===8))throw new Error("Invalid key parameter.");var o=this.mode.name;var s=["CFB","OFB","CTR","GCM"].indexOf(o)!==-1;this._w=p(t,e.decrypt&&!s);this._init=true};a.aes._expandKey=function(e,t){if(!i)d();return p(e,t)};a.aes._updateBlock=h;n("AES-ECB",a.cipher.modes.ecb);n("AES-CBC",a.cipher.modes.cbc);n("AES-CFB",a.cipher.modes.cfb);n("AES-OFB",a.cipher.modes.ofb);n("AES-CTR",a.cipher.modes.ctr);n("AES-GCM",a.cipher.modes.gcm);function n(e,t){var r=function(){return new a.aes.Algorithm(e,t)};a.cipher.registerAlgorithm(e,r)}var i=false;var o=4;var s;var u;var l;var f;var c;function d(){i=true;l=[0,1,2,4,8,16,32,64,128,27,54];var e=new Array(256);for(var t=0;t<128;++t){e[t]=t<<1;e[t+128]=t+128<<1^283}s=new Array(256);u=new Array(256);f=new Array(4);c=new Array(4);for(var t=0;t<4;++t){f[t]=new Array(256);c[t]=new Array(256)}var r=0,a=0,n,o,d,p,h,v,y;for(var t=0;t<256;++t){p=a^a<<1^a<<2^a<<3^a<<4;p=p>>8^p&255^99;s[r]=p;u[p]=r;h=e[p];n=e[r];o=e[n];d=e[o];v=h<<24^p<<16^p<<8^(p^h);y=(n^o^d)<<24^(r^d)<<16^(r^o^d)<<8^(r^n^d);for(var g=0;g<4;++g){f[g][r]=v;c[g][p]=y;v=v<<24|v>>>8;y=y<<24|y>>>8}if(r===0)r=a=1;else{r=n^e[e[e[n^d]]];a^=e[e[a]]}}}function p(e,t){var r=e.slice(0);var a,n=1;var i=r.length;var u=i+6+1;var f=o*u;for(var d=i;d<f;++d){a=r[d-1];if(d%i===0){a=s[a>>>16&255]<<24^s[a>>>8&255]<<16^s[a&255]<<8^s[a>>>24]^l[n]<<24;n++}else if(i>6&&d%i===4)a=s[a>>>24]<<24^s[a>>>16&255]<<16^s[a>>>8&255]<<8^s[a&255];r[d]=r[d-i]^a}if(t){var p;var h=c[0];var v=c[1];var y=c[2];var g=c[3];var m=r.slice(0);f=r.length;for(var d=0,E=f-o;d<f;d+=o,E-=o)if(d===0||d===f-o){m[d]=r[E];m[d+1]=r[E+3];m[d+2]=r[E+2];m[d+3]=r[E+1]}else for(var T=0;T<o;++T){p=r[E+T];m[d+(3&-T)]=h[s[p>>>24]]^v[s[p>>>16&255]]^y[s[p>>>8&255]]^g[s[p&255]]}r=m}return r}function h(e,t,r,a){var n=e.length/4-1;var i,o,l,d,p;if(a){i=c[0];o=c[1];l=c[2];d=c[3];p=u}else{i=f[0];o=f[1];l=f[2];d=f[3];p=s}var h,v,y,g,m,E,T;h=t[0]^e[0];v=t[a?3:1]^e[1];y=t[2]^e[2];g=t[a?1:3]^e[3];var S=3;for(var b=1;b<n;++b){m=i[h>>>24]^o[v>>>16&255]^l[y>>>8&255]^d[g&255]^e[++S];E=i[v>>>24]^o[y>>>16&255]^l[g>>>8&255]^d[h&255]^e[++S];T=i[y>>>24]^o[g>>>16&255]^l[h>>>8&255]^d[v&255]^e[++S];g=i[g>>>24]^o[h>>>16&255]^l[v>>>8&255]^d[y&255]^e[++S];h=m;v=E;y=T}r[0]=p[h>>>24]<<24^p[v>>>16&255]<<16^p[y>>>8&255]<<8^p[g&255]^e[++S];r[a?3:1]=p[v>>>24]<<24^p[y>>>16&255]<<16^p[g>>>8&255]<<8^p[h&255]^e[++S];r[2]=p[y>>>24]<<24^p[g>>>16&255]<<16^p[h>>>8&255]<<8^p[v&255]^e[++S];r[a?1:3]=p[g>>>24]<<24^p[h>>>16&255]<<16^p[v>>>8&255]<<8^p[y&255]^e[++S]}function v(e){e=e||{};var t=(e.mode||"CBC").toUpperCase();var r="AES-"+t;var n;if(e.decrypt)n=a.cipher.createDecipher(r,e.key);else n=a.cipher.createCipher(r,e.key);var i=n.start;n.start=function(e,t){var r=null;if(t instanceof a.util.ByteBuffer){r=t;t={}}t=t||{};t.output=r;t.iv=e;i.call(n,t)};return n}},8678:()=>{},2746:(e,t,r)=>{var a=r(276);r(7619);r(6418);var n=e.exports=a.asn1=a.asn1||{};n.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};n.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};n.create=function(e,t,r,i,o){if(a.util.isArray(i)){var s=[];for(var u=0;u<i.length;++u)if(i[u]!==void 0)s.push(i[u]);i=s}var l={tagClass:e,type:t,constructed:r,composed:r||a.util.isArray(i),value:i};if(o&&"bitStringContents"in o){l.bitStringContents=o.bitStringContents;l.original=n.copy(l)}return l};n.copy=function(e,t){var r;if(a.util.isArray(e)){r=[];for(var i=0;i<e.length;++i)r.push(n.copy(e[i],t));return r}if(typeof e==="string")return e;r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:n.copy(e.value,t)};if(t&&!t.excludeBitStringContents)r.bitStringContents=e.bitStringContents;return r};n.equals=function(e,t,r){if(a.util.isArray(e)){if(!a.util.isArray(t))return false;if(e.length!==t.length)return false;for(var i=0;i<e.length;++i)if(!n.equals(e[i],t[i]))return false;return true}if(typeof e!==typeof t)return false;if(typeof e==="string")return e===t;var o=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&n.equals(e.value,t.value);if(r&&r.includeBitStringContents)o=o&&e.bitStringContents===t.bitStringContents;return o};n.getBerValueLength=function(e){var t=e.getByte();if(t===128)return;var r;var a=t&128;if(!a)r=t;else r=e.getInt((t&127)<<3);return r};function i(e,t,r){if(r>t){var a=new Error("Too few bytes to parse DER.");a.available=e.length();a.remaining=t;a.requested=r;throw a}}var o=function(e,t){var r=e.getByte();t--;if(r===128)return;var a;var n=r&128;if(!n)a=r;else{var o=r&127;i(e,t,o);a=e.getInt(o<<3)}if(a<0)throw new Error("Negative length: "+a);return a};n.fromDer=function(e,t){if(t===void 0)t={strict:true,decodeBitStrings:true};if(typeof t==="boolean")t={strict:t,decodeBitStrings:true};if(!("strict"in t))t.strict=true;if(!("decodeBitStrings"in t))t.decodeBitStrings=true;if(typeof e==="string")e=a.util.createBuffer(e);return s(e,e.length(),0,t)};function s(e,t,r,a){var u;i(e,t,2);var l=e.getByte();t--;var f=l&192;var c=l&31;u=e.length();var d=o(e,t);t-=u-e.length();if(d!==void 0&&d>t){if(a.strict){var p=new Error("Too few bytes to read ASN.1 value.");p.available=e.length();p.remaining=t;p.requested=d;throw p}d=t}var h;var v;var y=(l&32)===32;if(y){h=[];if(d===void 0)for(;;){i(e,t,2);if(e.bytes(2)===String.fromCharCode(0,0)){e.getBytes(2);t-=2;break}u=e.length();h.push(s(e,t,r+1,a));t-=u-e.length()}else while(d>0){u=e.length();h.push(s(e,d,r+1,a));t-=u-e.length();d-=u-e.length()}}if(h===void 0&&f===n.Class.UNIVERSAL&&c===n.Type.BITSTRING)v=e.bytes(d);if(h===void 0&&a.decodeBitStrings&&f===n.Class.UNIVERSAL&&c===n.Type.BITSTRING&&d>1){var g=e.read;var m=t;var E=0;if(c===n.Type.BITSTRING){i(e,t,1);E=e.getByte();t--}if(E===0)try{u=e.length();var T={verbose:a.verbose,strict:true,decodeBitStrings:true};var S=s(e,t,r+1,T);var b=u-e.length();t-=b;if(c==n.Type.BITSTRING)b++;var C=S.tagClass;if(b===d&&(C===n.Class.UNIVERSAL||C===n.Class.CONTEXT_SPECIFIC))h=[S]}catch(e){}if(h===void 0){e.read=g;t=m}}if(h===void 0){if(d===void 0){if(a.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");d=t}if(c===n.Type.BMPSTRING){h="";for(;d>0;d-=2){i(e,t,2);h+=String.fromCharCode(e.getInt16());t-=2}}else h=e.getBytes(d)}var I=v===void 0?null:{bitStringContents:v};return n.create(f,c,y,h,I)}n.toDer=function(e){var t=a.util.createBuffer();var r=e.tagClass|e.type;var i=a.util.createBuffer();var o=false;if("bitStringContents"in e){o=true;if(e.original)o=n.equals(e,e.original)}if(o)i.putBytes(e.bitStringContents);else if(e.composed){if(e.constructed)r|=32;else i.putByte(0);for(var s=0;s<e.value.length;++s)if(e.value[s]!==void 0)i.putBuffer(n.toDer(e.value[s]))}else if(e.type===n.Type.BMPSTRING)for(var s=0;s<e.value.length;++s)i.putInt16(e.value.charCodeAt(s));else if(e.type===n.Type.INTEGER&&e.value.length>1&&(e.value.charCodeAt(0)===0&&(e.value.charCodeAt(1)&128)===0||e.value.charCodeAt(0)===255&&(e.value.charCodeAt(1)&128)===128))i.putBytes(e.value.substr(1));else i.putBytes(e.value);t.putByte(r);if(i.length()<=127)t.putByte(i.length()&127);else{var u=i.length();var l="";do{l+=String.fromCharCode(u&255);u>>>=8}while(u>0);t.putByte(l.length|128);for(var s=l.length-1;s>=0;--s)t.putByte(l.charCodeAt(s))}t.putBuffer(i);return t};n.oidToDer=function(e){var t=e.split(".");var r=a.util.createBuffer();r.putByte(40*parseInt(t[0],10)+parseInt(t[1],10));var n,i,o,s;for(var u=2;u<t.length;++u){n=true;i=[];o=parseInt(t[u],10);do{s=o&127;o>>>=7;if(!n)s|=128;i.push(s);n=false}while(o>0);for(var l=i.length-1;l>=0;--l)r.putByte(i[l])}return r};n.derToOid=function(e){var t;if(typeof e==="string")e=a.util.createBuffer(e);var r=e.getByte();t=Math.floor(r/40)+"."+r%40;var n=0;while(e.length()>0){r=e.getByte();n<<=7;if(r&128)n+=r&127;else{t+="."+(n+r);n=0}}return t};n.utcTimeToDate=function(e){var t=new Date;var r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var a=parseInt(e.substr(2,2),10)-1;var n=parseInt(e.substr(4,2),10);var i=parseInt(e.substr(6,2),10);var o=parseInt(e.substr(8,2),10);var s=0;if(e.length>11){var u=e.charAt(10);var l=10;if(u!=="+"&&u!=="-"){s=parseInt(e.substr(10,2),10);l+=2}}t.setUTCFullYear(r,a,n);t.setUTCHours(i,o,s,0);if(l){u=e.charAt(l);if(u==="+"||u==="-"){var f=parseInt(e.substr(l+1,2),10);var c=parseInt(e.substr(l+4,2),10);var d=f*60+c;d*=6e4;if(u==="+")t.setTime(+t-d);else t.setTime(+t+d)}}return t};n.generalizedTimeToDate=function(e){var t=new Date;var r=parseInt(e.substr(0,4),10);var a=parseInt(e.substr(4,2),10)-1;var n=parseInt(e.substr(6,2),10);var i=parseInt(e.substr(8,2),10);var o=parseInt(e.substr(10,2),10);var s=parseInt(e.substr(12,2),10);var u=0;var l=0;var f=false;if(e.charAt(e.length-1)==="Z")f=true;var c=e.length-5,d=e.charAt(c);if(d==="+"||d==="-"){var p=parseInt(e.substr(c+1,2),10);var h=parseInt(e.substr(c+4,2),10);l=p*60+h;l*=6e4;if(d==="+")l*=-1;f=true}if(e.charAt(14)===".")u=parseFloat(e.substr(14),10)*1e3;if(f){t.setUTCFullYear(r,a,n);t.setUTCHours(i,o,s,u);t.setTime(+t+l)}else{t.setFullYear(r,a,n);t.setHours(i,o,s,u)}return t};n.dateToUtcTime=function(e){if(typeof e==="string")return e;var t="";var r=[];r.push((""+e.getUTCFullYear()).substr(2));r.push(""+(e.getUTCMonth()+1));r.push(""+e.getUTCDate());r.push(""+e.getUTCHours());r.push(""+e.getUTCMinutes());r.push(""+e.getUTCSeconds());for(var a=0;a<r.length;++a){if(r[a].length<2)t+="0";t+=r[a]}t+="Z";return t};n.dateToGeneralizedTime=function(e){if(typeof e==="string")return e;var t="";var r=[];r.push(""+e.getUTCFullYear());r.push(""+(e.getUTCMonth()+1));r.push(""+e.getUTCDate());r.push(""+e.getUTCHours());r.push(""+e.getUTCMinutes());r.push(""+e.getUTCSeconds());for(var a=0;a<r.length;++a){if(r[a].length<2)t+="0";t+=r[a]}t+="Z";return t};n.integerToDer=function(e){var t=a.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");r.integer=e;throw r};n.derToInteger=function(e){if(typeof e==="string")e=a.util.createBuffer(e);var t=e.length()*8;if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)};n.validate=function(e,t,r,i){var o=false;if((e.tagClass===t.tagClass||typeof t.tagClass==="undefined")&&(e.type===t.type||typeof t.type==="undefined")){if(e.constructed===t.constructed||typeof t.constructed==="undefined"){o=true;if(t.value&&a.util.isArray(t.value)){var s=0;for(var u=0;o&&u<t.value.length;++u){o=t.value[u].optional||false;if(e.value[s]){o=n.validate(e.value[s],t.value[u],r,i);if(o)++s;else if(t.value[u].optional)o=true}if(!o&&i)i.push("["+t.name+"] "+'Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"')}}if(o&&r){if(t.capture)r[t.capture]=e.value;if(t.captureAsn1)r[t.captureAsn1]=e;if(t.captureBitStringContents&&"bitStringContents"in e)r[t.captureBitStringContents]=e.bitStringContents;if(t.captureBitStringValue&&"bitStringContents"in e){var l;if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{var f=e.bitStringContents.charCodeAt(0);if(f!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}}}else if(i)i.push("["+t.name+"] "+'Expected constructed "'+t.constructed+'", got "'+e.constructed+'"')}else if(i){if(e.tagClass!==t.tagClass)i.push("["+t.name+"] "+'Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"');if(e.type!==t.type)i.push("["+t.name+"] "+'Expected type "'+t.type+'", got "'+e.type+'"')}return o};var u=/[^\\u0000-\\u00ff]/;n.prettyPrint=function(e,t,r){var i="";t=t||0;r=r||2;if(t>0)i+="\n";var o="";for(var s=0;s<t*r;++s)o+=" ";i+=o+"Tag: ";switch(e.tagClass){case n.Class.UNIVERSAL:i+="Universal:";break;case n.Class.APPLICATION:i+="Application:";break;case n.Class.CONTEXT_SPECIFIC:i+="Context-Specific:";break;case n.Class.PRIVATE:i+="Private:";break}if(e.tagClass===n.Class.UNIVERSAL){i+=e.type;switch(e.type){case n.Type.NONE:i+=" (None)";break;case n.Type.BOOLEAN:i+=" (Boolean)";break;case n.Type.INTEGER:i+=" (Integer)";break;case n.Type.BITSTRING:i+=" (Bit string)";break;case n.Type.OCTETSTRING:i+=" (Octet string)";break;case n.Type.NULL:i+=" (Null)";break;case n.Type.OID:i+=" (Object Identifier)";break;case n.Type.ODESC:i+=" (Object Descriptor)";break;case n.Type.EXTERNAL:i+=" (External or Instance of)";break;case n.Type.REAL:i+=" (Real)";break;case n.Type.ENUMERATED:i+=" (Enumerated)";break;case n.Type.EMBEDDED:i+=" (Embedded PDV)";break;case n.Type.UTF8:i+=" (UTF8)";break;case n.Type.ROID:i+=" (Relative Object Identifier)";break;case n.Type.SEQUENCE:i+=" (Sequence)";break;case n.Type.SET:i+=" (Set)";break;case n.Type.PRINTABLESTRING:i+=" (Printable String)";break;case n.Type.IA5String:i+=" (IA5String (ASCII))";break;case n.Type.UTCTIME:i+=" (UTC time)";break;case n.Type.GENERALIZEDTIME:i+=" (Generalized time)";break;case n.Type.BMPSTRING:i+=" (BMP String)";break}}else i+=e.type;i+="\n";i+=o+"Constructed: "+e.constructed+"\n";if(e.composed){var l=0;var f="";for(var s=0;s<e.value.length;++s)if(e.value[s]!==void 0){l+=1;f+=n.prettyPrint(e.value[s],t+1,r);if(s+1<e.value.length)f+=","}i+=o+"Sub values: "+l+f}else{i+=o+"Value: ";if(e.type===n.Type.OID){var c=n.derToOid(e.value);i+=c;if(a.pki&&a.pki.oids)if(c in a.pki.oids)i+=" ("+a.pki.oids[c]+") "}if(e.type===n.Type.INTEGER)try{i+=n.derToInteger(e.value)}catch(t){i+="0x"+a.util.bytesToHex(e.value)}else if(e.type===n.Type.BITSTRING){if(e.value.length>1)i+="0x"+a.util.bytesToHex(e.value.slice(1));else i+="(none)";if(e.value.length>0){var d=e.value.charCodeAt(0);if(d==1)i+=" (1 unused bit shown)";else if(d>1)i+=" ("+d+" unused bits shown)"}}else if(e.type===n.Type.OCTETSTRING){if(!u.test(e.value))i+="("+e.value+") ";i+="0x"+a.util.bytesToHex(e.value)}else if(e.type===n.Type.UTF8)i+=a.util.decodeUtf8(e.value);else if(e.type===n.Type.PRINTABLESTRING||e.type===n.Type.IA5String)i+=e.value;else if(u.test(e.value))i+="0x"+a.util.bytesToHex(e.value);else if(e.value.length===0)i+="[null]";else i+=e.value}return i}},4058:()=>{},3900:(e,t,r)=>{var a=r(276);r(7619);e.exports=a.cipher=a.cipher||{};a.cipher.algorithms=a.cipher.algorithms||{};a.cipher.createCipher=function(e,t){var r=e;if(typeof r==="string"){r=a.cipher.getAlgorithm(r);if(r)r=r()}if(!r)throw new Error("Unsupported algorithm: "+e);return new a.cipher.BlockCipher({algorithm:r,key:t,decrypt:false})};a.cipher.createDecipher=function(e,t){var r=e;if(typeof r==="string"){r=a.cipher.getAlgorithm(r);if(r)r=r()}if(!r)throw new Error("Unsupported algorithm: "+e);return new a.cipher.BlockCipher({algorithm:r,key:t,decrypt:true})};a.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase();a.cipher.algorithms[e]=t};a.cipher.getAlgorithm=function(e){e=e.toUpperCase();if(e in a.cipher.algorithms)return a.cipher.algorithms[e];return null};var n=a.cipher.BlockCipher=function(e){this.algorithm=e.algorithm;this.mode=this.algorithm.mode;this.blockSize=this.mode.blockSize;this._finish=false;this._input=null;this.output=null;this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt;this._decrypt=e.decrypt;this.algorithm.initialize(e)};n.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt;this._finish=false;this._input=a.util.createBuffer();this.output=e.output||a.util.createBuffer();this.mode.start(t)};n.prototype.update=function(e){if(e)this._input.putBuffer(e);while(!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish);this._input.compact()};n.prototype.finish=function(e){if(e&&(this.mode.name==="ECB"||this.mode.name==="CBC")){this.mode.pad=function(t){return e(this.blockSize,t,false)};this.mode.unpad=function(t){return e(this.blockSize,t,true)}}var t={};t.decrypt=this._decrypt;t.overflow=this._input.length()%this.blockSize;if(!this._decrypt&&this.mode.pad)if(!this.mode.pad(this._input,t))return false;this._finish=true;this.update();if(this._decrypt&&this.mode.unpad)if(!this.mode.unpad(this.output,t))return false;if(this.mode.afterFinish)if(!this.mode.afterFinish(this.output,t))return false;return true}},6370:(e,t,r)=>{var a=r(276);r(7619);a.cipher=a.cipher||{};var n=e.exports=a.cipher.modes=a.cipher.modes||{};n.ecb=function(e){e=e||{};this.name="ECB";this.cipher=e.cipher;this.blockSize=e.blockSize||16;this._ints=this.blockSize/4;this._inBlock=new Array(this._ints);this._outBlock=new Array(this._ints)};n.ecb.prototype.start=function(e){};n.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return true;for(var a=0;a<this._ints;++a)this._inBlock[a]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var a=0;a<this._ints;++a)t.putInt32(this._outBlock[a])};n.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return true;for(var a=0;a<this._ints;++a)this._inBlock[a]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var a=0;a<this._ints;++a)t.putInt32(this._outBlock[a])};n.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();e.fillWithByte(r,r);return true};n.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return false;var r=e.length();var a=e.at(r-1);if(a>this.blockSize<<2)return false;e.truncate(a);return true};n.cbc=function(e){e=e||{};this.name="CBC";this.cipher=e.cipher;this.blockSize=e.blockSize||16;this._ints=this.blockSize/4;this._inBlock=new Array(this._ints);this._outBlock=new Array(this._ints)};n.cbc.prototype.start=function(e){if(e.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if(!("iv"in e))throw new Error("Invalid IV parameter.");else{this._iv=i(e.iv);this._prev=this._iv.slice(0)}};n.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return true;for(var a=0;a<this._ints;++a)this._inBlock[a]=this._prev[a]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var a=0;a<this._ints;++a)t.putInt32(this._outBlock[a]);this._prev=this._outBlock};n.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return true;for(var a=0;a<this._ints;++a)this._inBlock[a]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var a=0;a<this._ints;++a)t.putInt32(this._prev[a]^this._outBlock[a]);this._prev=this._inBlock.slice(0)};n.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();e.fillWithByte(r,r);return true};n.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return false;var r=e.length();var a=e.at(r-1);if(a>this.blockSize<<2)return false;e.truncate(a);return true};n.cfb=function(e){e=e||{};this.name="CFB";this.cipher=e.cipher;this.blockSize=e.blockSize||16;this._ints=this.blockSize/4;this._inBlock=null;this._outBlock=new Array(this._ints);this._partialBlock=new Array(this._ints);this._partialOutput=a.util.createBuffer();this._partialBytes=0};n.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=i(e.iv);this._inBlock=this._iv.slice(0);this._partialBytes=0};n.cfb.prototype.encrypt=function(e,t,r){var a=e.length();if(a===0)return true;this.cipher.encrypt(this._inBlock,this._outBlock);if(this._partialBytes===0&&a>=this.blockSize){for(var n=0;n<this._ints;++n){this._inBlock[n]=e.getInt32()^this._outBlock[n];t.putInt32(this._inBlock[n])}return}var i=(this.blockSize-a)%this.blockSize;if(i>0)i=this.blockSize-i;this._partialOutput.clear();for(var n=0;n<this._ints;++n){this._partialBlock[n]=e.getInt32()^this._outBlock[n];this._partialOutput.putInt32(this._partialBlock[n])}if(i>0)e.read-=this.blockSize;else for(var n=0;n<this._ints;++n)this._inBlock[n]=this._partialBlock[n];if(this._partialBytes>0)this._partialOutput.getBytes(this._partialBytes);if(i>0&&!r){t.putBytes(this._partialOutput.getBytes(i-this._partialBytes));this._partialBytes=i;return true}t.putBytes(this._partialOutput.getBytes(a-this._partialBytes));this._partialBytes=0};n.cfb.prototype.decrypt=function(e,t,r){var a=e.length();if(a===0)return true;this.cipher.encrypt(this._inBlock,this._outBlock);if(this._partialBytes===0&&a>=this.blockSize){for(var n=0;n<this._ints;++n){this._inBlock[n]=e.getInt32();t.putInt32(this._inBlock[n]^this._outBlock[n])}return}var i=(this.blockSize-a)%this.blockSize;if(i>0)i=this.blockSize-i;this._partialOutput.clear();for(var n=0;n<this._ints;++n){this._partialBlock[n]=e.getInt32();this._partialOutput.putInt32(this._partialBlock[n]^this._outBlock[n])}if(i>0)e.read-=this.blockSize;else for(var n=0;n<this._ints;++n)this._inBlock[n]=this._partialBlock[n];if(this._partialBytes>0)this._partialOutput.getBytes(this._partialBytes);if(i>0&&!r){t.putBytes(this._partialOutput.getBytes(i-this._partialBytes));this._partialBytes=i;return true}t.putBytes(this._partialOutput.getBytes(a-this._partialBytes));this._partialBytes=0};n.ofb=function(e){e=e||{};this.name="OFB";this.cipher=e.cipher;this.blockSize=e.blockSize||16;this._ints=this.blockSize/4;this._inBlock=null;this._outBlock=new Array(this._ints);this._partialOutput=a.util.createBuffer();this._partialBytes=0};n.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=i(e.iv);this._inBlock=this._iv.slice(0);this._partialBytes=0};n.ofb.prototype.encrypt=function(e,t,r){var a=e.length();if(e.length()===0)return true;this.cipher.encrypt(this._inBlock,this._outBlock);if(this._partialBytes===0&&a>=this.blockSize){for(var n=0;n<this._ints;++n){t.putInt32(e.getInt32()^this._outBlock[n]);this._inBlock[n]=this._outBlock[n]}return}var i=(this.blockSize-a)%this.blockSize;if(i>0)i=this.blockSize-i;this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialOutput.putInt32(e.getInt32()^this._outBlock[n]);if(i>0)e.read-=this.blockSize;else for(var n=0;n<this._ints;++n)this._inBlock[n]=this._outBlock[n];if(this._partialBytes>0)this._partialOutput.getBytes(this._partialBytes);if(i>0&&!r){t.putBytes(this._partialOutput.getBytes(i-this._partialBytes));this._partialBytes=i;return true}t.putBytes(this._partialOutput.getBytes(a-this._partialBytes));this._partialBytes=0};n.ofb.prototype.decrypt=n.ofb.prototype.encrypt;n.ctr=function(e){e=e||{};this.name="CTR";this.cipher=e.cipher;this.blockSize=e.blockSize||16;this._ints=this.blockSize/4;this._inBlock=null;this._outBlock=new Array(this._ints);this._partialOutput=a.util.createBuffer();this._partialBytes=0};n.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=i(e.iv);this._inBlock=this._iv.slice(0);this._partialBytes=0};n.ctr.prototype.encrypt=function(e,t,r){var a=e.length();if(a===0)return true;this.cipher.encrypt(this._inBlock,this._outBlock);if(this._partialBytes===0&&a>=this.blockSize)for(var n=0;n<this._ints;++n)t.putInt32(e.getInt32()^this._outBlock[n]);else{var i=(this.blockSize-a)%this.blockSize;if(i>0)i=this.blockSize-i;this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialOutput.putInt32(e.getInt32()^this._outBlock[n]);if(i>0)e.read-=this.blockSize;if(this._partialBytes>0)this._partialOutput.getBytes(this._partialBytes);if(i>0&&!r){t.putBytes(this._partialOutput.getBytes(i-this._partialBytes));this._partialBytes=i;return true}t.putBytes(this._partialOutput.getBytes(a-this._partialBytes));this._partialBytes=0}o(this._inBlock)};n.ctr.prototype.decrypt=n.ctr.prototype.encrypt;n.gcm=function(e){e=e||{};this.name="GCM";this.cipher=e.cipher;this.blockSize=e.blockSize||16;this._ints=this.blockSize/4;this._inBlock=new Array(this._ints);this._outBlock=new Array(this._ints);this._partialOutput=a.util.createBuffer();this._partialBytes=0;this._R=3774873600};n.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t=a.util.createBuffer(e.iv);this._cipherLength=0;var r;if("additionalData"in e)r=a.util.createBuffer(e.additionalData);else r=a.util.createBuffer();if("tagLength"in e)this._tagLength=e.tagLength;else this._tagLength=128;this._tag=null;if(e.decrypt){this._tag=a.util.createBuffer(e.tag).getBytes();if(this._tag.length!==this._tagLength/8)throw new Error("Authentication tag does not match tag length.")}this._hashBlock=new Array(this._ints);this.tag=null;this._hashSubkey=new Array(this._ints);this.cipher.encrypt([0,0,0,0],this._hashSubkey);this.componentBits=4;this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=t.length();if(n===12)this._j0=[t.getInt32(),t.getInt32(),t.getInt32(),1];else{this._j0=[0,0,0,0];while(t.length()>0)this._j0=this.ghash(this._hashSubkey,this._j0,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(s(n*8)))}this._inBlock=this._j0.slice(0);o(this._inBlock);this._partialBytes=0;r=a.util.createBuffer(r);this._aDataLength=s(r.length()*8);var i=r.length()%this.blockSize;if(i)r.fillWithByte(0,this.blockSize-i);this._s=[0,0,0,0];while(r.length()>0)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};n.gcm.prototype.encrypt=function(e,t,r){var a=e.length();if(a===0)return true;this.cipher.encrypt(this._inBlock,this._outBlock);if(this._partialBytes===0&&a>=this.blockSize){for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]^=e.getInt32());this._cipherLength+=this.blockSize}else{var i=(this.blockSize-a)%this.blockSize;if(i>0)i=this.blockSize-i;this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialOutput.putInt32(e.getInt32()^this._outBlock[n]);if(i===0||r){if(r){var s=a%this.blockSize;this._cipherLength+=s;this._partialOutput.truncate(this.blockSize-s)}else this._cipherLength+=this.blockSize;for(var n=0;n<this._ints;++n)this._outBlock[n]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0)this._partialOutput.getBytes(this._partialBytes);if(i>0&&!r){e.read-=this.blockSize;t.putBytes(this._partialOutput.getBytes(i-this._partialBytes));this._partialBytes=i;return true}t.putBytes(this._partialOutput.getBytes(a-this._partialBytes));this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock);o(this._inBlock)};n.gcm.prototype.decrypt=function(e,t,r){var a=e.length();if(a<this.blockSize&&!(r&&a>0))return true;this.cipher.encrypt(this._inBlock,this._outBlock);o(this._inBlock);this._hashBlock[0]=e.getInt32();this._hashBlock[1]=e.getInt32();this._hashBlock[2]=e.getInt32();this._hashBlock[3]=e.getInt32();this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]^this._hashBlock[n]);if(a<this.blockSize)this._cipherLength+=a%this.blockSize;else this._cipherLength+=this.blockSize};n.gcm.prototype.afterFinish=function(e,t){var r=true;if(t.decrypt&&t.overflow)e.truncate(this.blockSize-t.overflow);this.tag=a.util.createBuffer();var n=this._aDataLength.concat(s(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var o=0;o<this._ints;++o)this.tag.putInt32(this._s[o]^i[o]);this.tag.truncate(this.tag.length()%(this._tagLength/8));if(t.decrypt&&this.tag.bytes()!==this._tag)r=false;return r};n.gcm.prototype.multiply=function(e,t){var r=[0,0,0,0];var a=t.slice(0);for(var n=0;n<128;++n){var i=e[n/32|0]&1<<31-n%32;if(i){r[0]^=a[0];r[1]^=a[1];r[2]^=a[2];r[3]^=a[3]}this.pow(a,a)}return r};n.gcm.prototype.pow=function(e,t){var r=e[3]&1;for(var a=3;a>0;--a)t[a]=e[a]>>>1|(e[a-1]&1)<<31;t[0]=e[0]>>>1;if(r)t[0]^=this._R};n.gcm.prototype.tableMultiply=function(e){var t=[0,0,0,0];for(var r=0;r<32;++r){var a=r/8|0;var n=e[a]>>>(7-r%8)*4&15;var i=this._m[r][n];t[0]^=i[0];t[1]^=i[1];t[2]^=i[2];t[3]^=i[3]}return t};n.gcm.prototype.ghash=function(e,t,r){t[0]^=r[0];t[1]^=r[1];t[2]^=r[2];t[3]^=r[3];return this.tableMultiply(t)};n.gcm.prototype.generateHashTable=function(e,t){var r=8/t;var a=4*r;var n=16*r;var i=new Array(n);for(var o=0;o<n;++o){var s=[0,0,0,0];var u=o/a|0;var l=(a-1-o%a)*t;s[u]=1<<t-1<<l;i[o]=this.generateSubHashTable(this.multiply(s,e),t)}return i};n.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t;var a=r>>>1;var n=new Array(r);n[a]=e.slice(0);var i=a>>>1;while(i>0){this.pow(n[2*i],n[i]=[]);i>>=1}i=2;while(i<a){for(var o=1;o<i;++o){var s=n[i];var u=n[o];n[i+o]=[s[0]^u[0],s[1]^u[1],s[2]^u[2],s[3]^u[3]]}i*=2}n[0]=[0,0,0,0];for(i=a+1;i<r;++i){var l=n[i^a];n[i]=[e[0]^l[0],e[1]^l[1],e[2]^l[2],e[3]^l[3]]}return n};function i(e){if(typeof e==="string")e=a.util.createBuffer(e);if(a.util.isArray(e)&&e.length>4){var t=e;e=a.util.createBuffer();for(var r=0;r<t.length;++r)e.putByte(t[r])}if(!a.util.isArray(e))e=[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()];return e}function o(e){e[e.length-1]=e[e.length-1]+1&4294967295}function s(e){return[e/4294967296|0,e&4294967295]}},4404:(e,t,r)=>{var a=r(276);e.exports=a.debug=a.debug||{};a.debug.storage={};a.debug.get=function(e,t){var r;if(typeof e==="undefined")r=a.debug.storage;else if(e in a.debug.storage)if(typeof t==="undefined")r=a.debug.storage[e];else r=a.debug.storage[e][t];return r};a.debug.set=function(e,t,r){if(!(e in a.debug.storage))a.debug.storage[e]={};a.debug.storage[e][t]=r};a.debug.clear=function(e,t){if(typeof e==="undefined")a.debug.storage={};else if(e in a.debug.storage)if(typeof t==="undefined")delete a.debug.storage[e];else delete a.debug.storage[e][t]}},9095:()=>{},2926:()=>{},276:e=>{e.exports={options:{usePureJavaScript:false}}},1696:()=>{},9547:(e,t,r)=>{e.exports=r(276);r(9504);r(8678);r(2746);r(3900);r(4404);r(9095);r(2926);r(1696);r(3432);r(2045);r(1355);r(5250);r(3254);r(2385);r(7501);r(5071);r(9343);r(9255);r(268);r(3878);r(1417);r(9356);r(5124);r(149);r(6150);r(3986);r(7619)},3736:(e,t,r)=>{var a=r(276);e.exports=a.jsbn=a.jsbn||{};var n;var i=0xdeadbeefcafe;var o=(i&16777215)==15715070;function s(e,t,r){this.data=[];if(e!=null)if("number"==typeof e)this.fromNumber(e,t,r);else if(t==null&&"string"!=typeof e)this.fromString(e,256);else this.fromString(e,t)}a.jsbn.BigInteger=s;function u(){return new s(null)}function l(e,t,r,a,n,i){while(--i>=0){var o=t*this.data[e++]+r.data[a]+n;n=Math.floor(o/67108864);r.data[a++]=o&67108863}return n}function f(e,t,r,a,n,i){var o=t&32767,s=t>>15;while(--i>=0){var u=this.data[e]&32767;var l=this.data[e++]>>15;var f=s*u+l*o;u=o*u+((f&32767)<<15)+r.data[a]+(n&1073741823);n=(u>>>30)+(f>>>15)+s*l+(n>>>30);r.data[a++]=u&1073741823}return n}function c(e,t,r,a,n,i){var o=t&16383,s=t>>14;while(--i>=0){var u=this.data[e]&16383;var l=this.data[e++]>>14;var f=s*u+l*o;u=o*u+((f&16383)<<14)+r.data[a]+n;n=(u>>28)+(f>>14)+s*l;r.data[a++]=u&268435455}return n}if(typeof navigator==="undefined"){s.prototype.am=c;n=28}else if(o&&navigator.appName=="Microsoft Internet Explorer"){s.prototype.am=f;n=30}else if(o&&navigator.appName!="Netscape"){s.prototype.am=l;n=26}else{s.prototype.am=c;n=28}s.prototype.DB=n;s.prototype.DM=(1<<n)-1;s.prototype.DV=1<<n;var d=52;s.prototype.FV=Math.pow(2,d);s.prototype.F1=d-n;s.prototype.F2=2*n-d;var p="0123456789abcdefghijklmnopqrstuvwxyz";var h=new Array;var v,y;v="0".charCodeAt(0);for(y=0;y<=9;++y)h[v++]=y;v="a".charCodeAt(0);for(y=10;y<36;++y)h[v++]=y;v="A".charCodeAt(0);for(y=10;y<36;++y)h[v++]=y;function g(e){return p.charAt(e)}function m(e,t){var r=h[e.charCodeAt(t)];return r==null?-1:r}function E(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t;e.s=this.s}function T(e){this.t=1;this.s=e<0?-1:0;if(e>0)this.data[0]=e;else if(e<-1)this.data[0]=e+this.DV;else this.t=0}function S(e){var t=u();t.fromInt(e);return t}function b(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==256)r=8;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else{this.fromRadix(e,t);return}this.t=0;this.s=0;var a=e.length,n=false,i=0;while(--a>=0){var o=r==8?e[a]&255:m(e,a);if(o<0){if(e.charAt(a)=="-")n=true;continue}n=false;if(i==0)this.data[this.t++]=o;else if(i+r>this.DB){this.data[this.t-1]|=(o&(1<<this.DB-i)-1)<<i;this.data[this.t++]=o>>this.DB-i}else this.data[this.t-1]|=o<<i;i+=r;if(i>=this.DB)i-=this.DB}if(r==8&&(e[0]&128)!=0){this.s=-1;if(i>0)this.data[this.t-1]|=(1<<this.DB-i)-1<<i}this.clamp();if(n)s.ZERO.subTo(this,this)}function C(){var e=this.s&this.DM;while(this.t>0&&this.data[this.t-1]==e)--this.t}function I(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var r=(1<<t)-1,a,n=false,i="",o=this.t;var s=this.DB-o*this.DB%t;if(o-- >0){if(s<this.DB&&(a=this.data[o]>>s)>0){n=true;i=g(a)}while(o>=0){if(s<t){a=(this.data[o]&(1<<s)-1)<<t-s;a|=this.data[--o]>>(s+=this.DB-t)}else{a=this.data[o]>>(s-=t)&r;if(s<=0){s+=this.DB;--o}}if(a>0)n=true;if(n)i+=g(a)}}return n?i:"0"}function w(){var e=u();s.ZERO.subTo(this,e);return e}function _(){return this.s<0?this.negate():this}function B(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;t=r-e.t;if(t!=0)return this.s<0?-t:t;while(--r>=0)if((t=this.data[r]-e.data[r])!=0)return t;return 0}function A(e){var t=1,r;if((r=e>>>16)!=0){e=r;t+=16}if((r=e>>8)!=0){e=r;t+=8}if((r=e>>4)!=0){e=r;t+=4}if((r=e>>2)!=0){e=r;t+=2}if((r=e>>1)!=0){e=r;t+=1}return t}function P(){if(this.t<=0)return 0;return this.DB*(this.t-1)+A(this.data[this.t-1]^this.s&this.DM)}function k(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e;t.s=this.s}function N(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0);t.s=this.s}function D(e,t){var r=e%this.DB;var a=this.DB-r;var n=(1<<a)-1;var i=Math.floor(e/this.DB),o=this.s<<r&this.DM,s;for(s=this.t-1;s>=0;--s){t.data[s+i+1]=this.data[s]>>a|o;o=(this.data[s]&n)<<r}for(s=i-1;s>=0;--s)t.data[s]=0;t.data[i]=o;t.t=this.t+i+1;t.s=this.s;t.clamp()}function L(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var a=e%this.DB;var n=this.DB-a;var i=(1<<a)-1;t.data[0]=this.data[r]>>a;for(var o=r+1;o<this.t;++o){t.data[o-r-1]|=(this.data[o]&i)<<n;t.data[o-r]=this.data[o]>>a}if(a>0)t.data[this.t-r-1]|=(this.s&i)<<n;t.t=this.t-r;t.clamp()}function R(e,t){var r=0,a=0,n=Math.min(e.t,this.t);while(r<n){a+=this.data[r]-e.data[r];t.data[r++]=a&this.DM;a>>=this.DB}if(e.t<this.t){a-=e.s;while(r<this.t){a+=this.data[r];t.data[r++]=a&this.DM;a>>=this.DB}a+=this.s}else{a+=this.s;while(r<e.t){a-=e.data[r];t.data[r++]=a&this.DM;a>>=this.DB}a-=e.s}t.s=a<0?-1:0;if(a<-1)t.data[r++]=this.DV+a;else if(a>0)t.data[r++]=a;t.t=r;t.clamp()}function U(e,t){var r=this.abs(),a=e.abs();var n=r.t;t.t=n+a.t;while(--n>=0)t.data[n]=0;for(n=0;n<a.t;++n)t.data[n+r.t]=r.am(0,a.data[n],t,n,0,r.t);t.s=0;t.clamp();if(this.s!=e.s)s.ZERO.subTo(t,t)}function O(e){var t=this.abs();var r=e.t=2*t.t;while(--r>=0)e.data[r]=0;for(r=0;r<t.t-1;++r){var a=t.am(r,t.data[r],e,2*r,0,1);if((e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,a,t.t-r-1))>=t.DV){e.data[r+t.t]-=t.DV;e.data[r+t.t+1]=1}}if(e.t>0)e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1);e.s=0;e.clamp()}function K(e,t,r){var a=e.abs();if(a.t<=0)return;var n=this.abs();if(n.t<a.t){if(t!=null)t.fromInt(0);if(r!=null)this.copyTo(r);return}if(r==null)r=u();var i=u(),o=this.s,l=e.s;var f=this.DB-A(a.data[a.t-1]);if(f>0){a.lShiftTo(f,i);n.lShiftTo(f,r)}else{a.copyTo(i);n.copyTo(r)}var c=i.t;var d=i.data[c-1];if(d==0)return;var p=d*(1<<this.F1)+(c>1?i.data[c-2]>>this.F2:0);var h=this.FV/p,v=(1<<this.F1)/p,y=1<<this.F2;var g=r.t,m=g-c,E=t==null?u():t;i.dlShiftTo(m,E);if(r.compareTo(E)>=0){r.data[r.t++]=1;r.subTo(E,r)}s.ONE.dlShiftTo(c,E);E.subTo(i,i);while(i.t<c)i.data[i.t++]=0;while(--m>=0){var T=r.data[--g]==d?this.DM:Math.floor(r.data[g]*h+(r.data[g-1]+y)*v);if((r.data[g]+=i.am(0,T,r,m,0,c))<T){i.dlShiftTo(m,E);r.subTo(E,r);while(r.data[g]<--T)r.subTo(E,r)}}if(t!=null){r.drShiftTo(c,t);if(o!=l)s.ZERO.subTo(t,t)}r.t=c;r.clamp();if(f>0)r.rShiftTo(f,r);if(o<0)s.ZERO.subTo(r,r)}function M(e){var t=u();this.abs().divRemTo(e,null,t);if(this.s<0&&t.compareTo(s.ZERO)>0)e.subTo(t,t);return t}function V(e){this.m=e}function x(e){if(e.s<0||e.compareTo(this.m)>=0)return e.mod(this.m);else return e}function F(e){return e}function H(e){e.divRemTo(this.m,null,e)}function G(e,t,r){e.multiplyTo(t,r);this.reduce(r)}function Y(e,t){e.squareTo(t);this.reduce(t)}V.prototype.convert=x;V.prototype.revert=F;V.prototype.reduce=H;V.prototype.mulTo=G;V.prototype.sqrTo=Y;function j(){if(this.t<1)return 0;var e=this.data[0];if((e&1)==0)return 0;var t=e&3;t=t*(2-(e&15)*t)&15;t=t*(2-(e&255)*t)&255;t=t*(2-((e&65535)*t&65535))&65535;t=t*(2-e*t%this.DV)%this.DV;return t>0?this.DV-t:-t}function z(e){this.m=e;this.mp=e.invDigit();this.mpl=this.mp&32767;this.mph=this.mp>>15;this.um=(1<<e.DB-15)-1;this.mt2=2*e.t}function q(e){var t=u();e.abs().dlShiftTo(this.m.t,t);t.divRemTo(this.m,null,t);if(e.s<0&&t.compareTo(s.ZERO)>0)this.m.subTo(t,t);return t}function Q(e){var t=u();e.copyTo(t);this.reduce(t);return t}function X(e){while(e.t<=this.mt2)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e.data[t]&32767;var a=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;r=t+this.m.t;e.data[r]+=this.m.am(0,a,e,t,0,this.m.t);while(e.data[r]>=e.DV){e.data[r]-=e.DV;e.data[++r]++}}e.clamp();e.drShiftTo(this.m.t,e);if(e.compareTo(this.m)>=0)e.subTo(this.m,e)}function W(e,t){e.squareTo(t);this.reduce(t)}function J(e,t,r){e.multiplyTo(t,r);this.reduce(r)}z.prototype.convert=q;z.prototype.revert=Q;z.prototype.reduce=X;z.prototype.mulTo=J;z.prototype.sqrTo=W;function $(){return(this.t>0?this.data[0]&1:this.s)==0}function Z(e,t){if(e>4294967295||e<1)return s.ONE;var r=u(),a=u(),n=t.convert(this),i=A(e)-1;n.copyTo(r);while(--i>=0){t.sqrTo(r,a);if((e&1<<i)>0)t.mulTo(a,n,r);else{var o=r;r=a;a=o}}return t.revert(r)}function ee(e,t){var r;if(e<256||t.isEven())r=new V(t);else r=new z(t);return this.exp(e,r)}s.prototype.copyTo=E;s.prototype.fromInt=T;s.prototype.fromString=b;s.prototype.clamp=C;s.prototype.dlShiftTo=k;s.prototype.drShiftTo=N;s.prototype.lShiftTo=D;s.prototype.rShiftTo=L;s.prototype.subTo=R;s.prototype.multiplyTo=U;s.prototype.squareTo=O;s.prototype.divRemTo=K;s.prototype.invDigit=j;s.prototype.isEven=$;s.prototype.exp=Z;s.prototype.toString=I;s.prototype.negate=w;s.prototype.abs=_;s.prototype.compareTo=B;s.prototype.bitLength=P;s.prototype.mod=M;s.prototype.modPowInt=ee;s.ZERO=S(0);s.ONE=S(1);function te(){var e=u();this.copyTo(e);return e}function re(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;else if(this.t==0)return-1}else if(this.t==1)return this.data[0];else if(this.t==0)return 0;return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function ae(){return this.t==0?this.s:this.data[0]<<24>>24}function ne(){return this.t==0?this.s:this.data[0]<<16>>16}function ie(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function oe(){if(this.s<0)return-1;else if(this.t<=0||this.t==1&&this.data[0]<=0)return 0;else return 1}function se(e){if(e==null)e=10;if(this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e);var r=Math.pow(e,t);var a=S(r),n=u(),i=u(),o="";this.divRemTo(a,n,i);while(n.signum()>0){o=(r+i.intValue()).toString(e).substr(1)+o;n.divRemTo(a,n,i)}return i.intValue().toString(e)+o}function ue(e,t){this.fromInt(0);if(t==null)t=10;var r=this.chunkSize(t);var a=Math.pow(t,r),n=false,i=0,o=0;for(var u=0;u<e.length;++u){var l=m(e,u);if(l<0){if(e.charAt(u)=="-"&&this.signum()==0)n=true;continue}o=t*o+l;if(++i>=r){this.dMultiply(a);this.dAddOffset(o,0);i=0;o=0}}if(i>0){this.dMultiply(Math.pow(t,i));this.dAddOffset(o,0)}if(n)s.ZERO.subTo(this,this)}function le(e,t,r){if("number"==typeof t)if(e<2)this.fromInt(1);else{this.fromNumber(e,r);if(!this.testBit(e-1))this.bitwiseTo(s.ONE.shiftLeft(e-1),ge,this);if(this.isEven())this.dAddOffset(1,0);while(!this.isProbablePrime(t)){this.dAddOffset(2,0);if(this.bitLength()>e)this.subTo(s.ONE.shiftLeft(e-1),this)}}else{var a=new Array,n=e&7;a.length=(e>>3)+1;t.nextBytes(a);if(n>0)a[0]&=(1<<n)-1;else a[0]=0;this.fromString(a,256)}}function fe(){var e=this.t,t=new Array;t[0]=this.s;var r=this.DB-e*this.DB%8,a,n=0;if(e-- >0){if(r<this.DB&&(a=this.data[e]>>r)!=(this.s&this.DM)>>r)t[n++]=a|this.s<<this.DB-r;while(e>=0){if(r<8){a=(this.data[e]&(1<<r)-1)<<8-r;a|=this.data[--e]>>(r+=this.DB-8)}else{a=this.data[e]>>(r-=8)&255;if(r<=0){r+=this.DB;--e}}if((a&128)!=0)a|=-256;if(n==0&&(this.s&128)!=(a&128))++n;if(n>0||a!=this.s)t[n++]=a}}return t}function ce(e){return this.compareTo(e)==0}function de(e){return this.compareTo(e)<0?this:e}function pe(e){return this.compareTo(e)>0?this:e}function he(e,t,r){var a,n,i=Math.min(e.t,this.t);for(a=0;a<i;++a)r.data[a]=t(this.data[a],e.data[a]);if(e.t<this.t){n=e.s&this.DM;for(a=i;a<this.t;++a)r.data[a]=t(this.data[a],n);r.t=this.t}else{n=this.s&this.DM;for(a=i;a<e.t;++a)r.data[a]=t(n,e.data[a]);r.t=e.t}r.s=t(this.s,e.s);r.clamp()}function ve(e,t){return e&t}function ye(e){var t=u();this.bitwiseTo(e,ve,t);return t}function ge(e,t){return e|t}function me(e){var t=u();this.bitwiseTo(e,ge,t);return t}function Ee(e,t){return e^t}function Te(e){var t=u();this.bitwiseTo(e,Ee,t);return t}function Se(e,t){return e&~t}function be(e){var t=u();this.bitwiseTo(e,Se,t);return t}function Ce(){var e=u();for(var t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];e.t=this.t;e.s=~this.s;return e}function Ie(e){var t=u();if(e<0)this.rShiftTo(-e,t);else this.lShiftTo(e,t);return t}function we(e){var t=u();if(e<0)this.lShiftTo(-e,t);else this.rShiftTo(e,t);return t}function _e(e){if(e==0)return-1;var t=0;if((e&65535)==0){e>>=16;t+=16}if((e&255)==0){e>>=8;t+=8}if((e&15)==0){e>>=4;t+=4}if((e&3)==0){e>>=2;t+=2}if((e&1)==0)++t;return t}function Be(){for(var e=0;e<this.t;++e)if(this.data[e]!=0)return e*this.DB+_e(this.data[e]);if(this.s<0)return this.t*this.DB;return-1}function Ae(e){var t=0;while(e!=0){e&=e-1;++t}return t}function Pe(){var e=0,t=this.s&this.DM;for(var r=0;r<this.t;++r)e+=Ae(this.data[r]^t);return e}function ke(e){var t=Math.floor(e/this.DB);if(t>=this.t)return this.s!=0;return(this.data[t]&1<<e%this.DB)!=0}function Ne(e,t){var r=s.ONE.shiftLeft(e);this.bitwiseTo(r,t,r);return r}function De(e){return this.changeBit(e,ge)}function Le(e){return this.changeBit(e,Se)}function Re(e){return this.changeBit(e,Ee)}function Ue(e,t){var r=0,a=0,n=Math.min(e.t,this.t);while(r<n){a+=this.data[r]+e.data[r];t.data[r++]=a&this.DM;a>>=this.DB}if(e.t<this.t){a+=e.s;while(r<this.t){a+=this.data[r];t.data[r++]=a&this.DM;a>>=this.DB}a+=this.s}else{a+=this.s;while(r<e.t){a+=e.data[r];t.data[r++]=a&this.DM;a>>=this.DB}a+=e.s}t.s=a<0?-1:0;if(a>0)t.data[r++]=a;else if(a<-1)t.data[r++]=this.DV+a;t.t=r;t.clamp()}function Oe(e){var t=u();this.addTo(e,t);return t}function Ke(e){var t=u();this.subTo(e,t);return t}function Me(e){var t=u();this.multiplyTo(e,t);return t}function Ve(e){var t=u();this.divRemTo(e,t,null);return t}function xe(e){var t=u();this.divRemTo(e,null,t);return t}function Fe(e){var t=u(),r=u();this.divRemTo(e,t,r);return new Array(t,r)}function He(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t);++this.t;this.clamp()}function Ge(e,t){if(e==0)return;while(this.t<=t)this.data[this.t++]=0;this.data[t]+=e;while(this.data[t]>=this.DV){this.data[t]-=this.DV;if(++t>=this.t)this.data[this.t++]=0;++this.data[t]}}function Ye(){}function je(e){return e}function ze(e,t,r){e.multiplyTo(t,r)}function qe(e,t){e.squareTo(t)}Ye.prototype.convert=je;Ye.prototype.revert=je;Ye.prototype.mulTo=ze;Ye.prototype.sqrTo=qe;function Qe(e){return this.exp(e,new Ye)}function Xe(e,t,r){var a=Math.min(this.t+e.t,t);r.s=0;r.t=a;while(a>0)r.data[--a]=0;var n;for(n=r.t-this.t;a<n;++a)r.data[a+this.t]=this.am(0,e.data[a],r,a,0,this.t);for(n=Math.min(e.t,t);a<n;++a)this.am(0,e.data[a],r,a,0,t-a);r.clamp()}function We(e,t,r){--t;var a=r.t=this.t+e.t-t;r.s=0;while(--a>=0)r.data[a]=0;for(a=Math.max(t-this.t,0);a<e.t;++a)r.data[this.t+a-t]=this.am(t-a,e.data[a],r,0,0,this.t+a-t);r.clamp();r.drShiftTo(1,r)}function Je(e){this.r2=u();this.q3=u();s.ONE.dlShiftTo(2*e.t,this.r2);this.mu=this.r2.divide(e);this.m=e}function $e(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);else if(e.compareTo(this.m)<0)return e;else{var t=u();e.copyTo(t);this.reduce(t);return t}}function Ze(e){return e}function et(e){e.drShiftTo(this.m.t-1,this.r2);if(e.t>this.m.t+1){e.t=this.m.t+1;e.clamp()}this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3);this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);while(e.compareTo(this.r2)<0)e.dAddOffset(1,this.m.t+1);e.subTo(this.r2,e);while(e.compareTo(this.m)>=0)e.subTo(this.m,e)}function tt(e,t){e.squareTo(t);this.reduce(t)}function rt(e,t,r){e.multiplyTo(t,r);this.reduce(r)}Je.prototype.convert=$e;Je.prototype.revert=Ze;Je.prototype.reduce=et;Je.prototype.mulTo=rt;Je.prototype.sqrTo=tt;function at(e,t){var r=e.bitLength(),a,n=S(1),i;if(r<=0)return n;else if(r<18)a=1;else if(r<48)a=3;else if(r<144)a=4;else if(r<768)a=5;else a=6;if(r<8)i=new V(t);else if(t.isEven())i=new Je(t);else i=new z(t);var o=new Array,s=3,l=a-1,f=(1<<a)-1;o[1]=i.convert(this);if(a>1){var c=u();i.sqrTo(o[1],c);while(s<=f){o[s]=u();i.mulTo(c,o[s-2],o[s]);s+=2}}var d=e.t-1,p,h=true,v=u(),y;r=A(e.data[d])-1;while(d>=0){if(r>=l)p=e.data[d]>>r-l&f;else{p=(e.data[d]&(1<<r+1)-1)<<l-r;if(d>0)p|=e.data[d-1]>>this.DB+r-l}s=a;while((p&1)==0){p>>=1;--s}if((r-=s)<0){r+=this.DB;--d}if(h){o[p].copyTo(n);h=false}else{while(s>1){i.sqrTo(n,v);i.sqrTo(v,n);s-=2}if(s>0)i.sqrTo(n,v);else{y=n;n=v;v=y}i.mulTo(v,o[p],n)}while(d>=0&&(e.data[d]&1<<r)==0){i.sqrTo(n,v);y=n;n=v;v=y;if(--r<0){r=this.DB-1;--d}}}return i.revert(n)}function nt(e){var t=this.s<0?this.negate():this.clone();var r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var a=t;t=r;r=a}var n=t.getLowestSetBit(),i=r.getLowestSetBit();if(i<0)return t;if(n<i)i=n;if(i>0){t.rShiftTo(i,t);r.rShiftTo(i,r)}while(t.signum()>0){if((n=t.getLowestSetBit())>0)t.rShiftTo(n,t);if((n=r.getLowestSetBit())>0)r.rShiftTo(n,r);if(t.compareTo(r)>=0){t.subTo(r,t);t.rShiftTo(1,t)}else{r.subTo(t,r);r.rShiftTo(1,r)}}if(i>0)r.lShiftTo(i,r);return r}function it(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(t==0)r=this.data[0]%e;else for(var a=this.t-1;a>=0;--a)r=(t*r+this.data[a])%e;return r}function ot(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return s.ZERO;var r=e.clone(),a=this.clone();var n=S(1),i=S(0),o=S(0),u=S(1);while(r.signum()!=0){while(r.isEven()){r.rShiftTo(1,r);if(t){if(!n.isEven()||!i.isEven()){n.addTo(this,n);i.subTo(e,i)}n.rShiftTo(1,n)}else if(!i.isEven())i.subTo(e,i);i.rShiftTo(1,i)}while(a.isEven()){a.rShiftTo(1,a);if(t){if(!o.isEven()||!u.isEven()){o.addTo(this,o);u.subTo(e,u)}o.rShiftTo(1,o)}else if(!u.isEven())u.subTo(e,u);u.rShiftTo(1,u)}if(r.compareTo(a)>=0){r.subTo(a,r);if(t)n.subTo(o,n);i.subTo(u,i)}else{a.subTo(r,a);if(t)o.subTo(n,o);u.subTo(i,u)}}if(a.compareTo(s.ONE)!=0)return s.ZERO;if(u.compareTo(e)>=0)return u.subtract(e);if(u.signum()<0)u.addTo(e,u);else return u;if(u.signum()<0)return u.add(e);else return u}var st=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509];var ut=(1<<26)/st[st.length-1];function lt(e){var t,r=this.abs();if(r.t==1&&r.data[0]<=st[st.length-1]){for(t=0;t<st.length;++t)if(r.data[0]==st[t])return true;return false}if(r.isEven())return false;t=1;while(t<st.length){var a=st[t],n=t+1;while(n<st.length&&a<ut)a*=st[n++];a=r.modInt(a);while(t<n)if(a%st[t++]==0)return false}return r.millerRabin(e)}function ft(e){var t=this.subtract(s.ONE);var r=t.getLowestSetBit();if(r<=0)return false;var a=t.shiftRight(r);var n=ct();var i;for(var o=0;o<e;++o){do{i=new s(this.bitLength(),n)}while(i.compareTo(s.ONE)<=0||i.compareTo(t)>=0);var u=i.modPow(a,this);if(u.compareTo(s.ONE)!=0&&u.compareTo(t)!=0){var l=1;while(l++<r&&u.compareTo(t)!=0){u=u.modPowInt(2,this);if(u.compareTo(s.ONE)==0)return false}if(u.compareTo(t)!=0)return false}}return true}function ct(){return{nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(Math.random()*256)}}}s.prototype.chunkSize=ie;s.prototype.toRadix=se;s.prototype.fromRadix=ue;s.prototype.fromNumber=le;s.prototype.bitwiseTo=he;s.prototype.changeBit=Ne;s.prototype.addTo=Ue;s.prototype.dMultiply=He;s.prototype.dAddOffset=Ge;s.prototype.multiplyLowerTo=Xe;s.prototype.multiplyUpperTo=We;s.prototype.modInt=it;s.prototype.millerRabin=ft;s.prototype.clone=te;s.prototype.intValue=re;s.prototype.byteValue=ae;s.prototype.shortValue=ne;s.prototype.signum=oe;s.prototype.toByteArray=fe;s.prototype.equals=ce;s.prototype.min=de;s.prototype.max=pe;s.prototype.and=ye;s.prototype.or=me;s.prototype.xor=Te;s.prototype.andNot=be;s.prototype.not=Ce;s.prototype.shiftLeft=Ie;s.prototype.shiftRight=we;s.prototype.getLowestSetBit=Be;s.prototype.bitCount=Pe;s.prototype.testBit=ke;s.prototype.setBit=De;s.prototype.clearBit=Le;s.prototype.flipBit=Re;s.prototype.add=Oe;s.prototype.subtract=Ke;s.prototype.multiply=Me;s.prototype.divide=Ve;s.prototype.remainder=xe;s.prototype.divideAndRemainder=Fe;s.prototype.modPow=at;s.prototype.modInverse=ot;s.prototype.pow=Qe;s.prototype.gcd=nt;s.prototype.isProbablePrime=lt},3432:()=>{},2045:(e,t,r)=>{var a=r(276);r(7619);e.exports=a.log=a.log||{};a.log.levels=["none","error","warning","info","debug","verbose","max"];var n={};var i=[];var o=null;a.log.LEVEL_LOCKED=1<<1;a.log.NO_LEVEL_CHECK=1<<2;a.log.INTERPOLATE=1<<3;for(var s=0;s<a.log.levels.length;++s){var u=a.log.levels[s];n[u]={index:s,name:u.toUpperCase()}}a.log.logMessage=function(e){var t=n[e.level].index;for(var r=0;r<i.length;++r){var o=i[r];if(o.flags&a.log.NO_LEVEL_CHECK)o.f(e);else{var s=n[o.level].index;if(t<=s)o.f(o,e)}}};a.log.prepareStandard=function(e){if(!("standard"in e))e.standard=n[e.level].name+" ["+e.category+"] "+e.message};a.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]||0);e.full=a.util.format.apply(this,t)}};a.log.prepareStandardFull=function(e){if(!("standardFull"in e)){a.log.prepareStandard(e);e.standardFull=e.standard}};if(true){var l=["error","warning","info","debug","verbose"];for(var s=0;s<l.length;++s)(function(e){a.log[e]=function(t,r){var n=Array.prototype.slice.call(arguments).slice(2);var i={timestamp:new Date,level:e,category:t,message:r,arguments:n};a.log.logMessage(i)}})(l[s])}a.log.makeLogger=function(e){var t={flags:0,f:e};a.log.setLevel(t,"none");return t};a.log.setLevel=function(e,t){var r=false;if(e&&!(e.flags&a.log.LEVEL_LOCKED))for(var n=0;n<a.log.levels.length;++n){var i=a.log.levels[n];if(t==i){e.level=t;r=true;break}}return r};a.log.lock=function(e,t){if(typeof t==="undefined"||t)e.flags|=a.log.LEVEL_LOCKED;else e.flags&=~a.log.LEVEL_LOCKED};a.log.addLogger=function(e){i.push(e)};if(typeof console!=="undefined"&&"log"in console){var f;if(console.error&&console.warn&&console.info&&console.debug){var c={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug};var d=function(e,t){a.log.prepareStandard(t);var r=c[t.level];var n=[t.standard];n=n.concat(t["arguments"].slice());r.apply(console,n)};f=a.log.makeLogger(d)}else{var d=function(e,t){a.log.prepareStandardFull(t);console.log(t.standardFull)};f=a.log.makeLogger(d)}a.log.setLevel(f,"debug");a.log.addLogger(f);o=f}else console={log:function(){}};if(o!==null){var p=a.util.getQueryVariables();if("console.level"in p)a.log.setLevel(o,p["console.level"].slice(-1)[0]);if("console.lock"in p){var h=p["console.lock"].slice(-1)[0];if(h=="true")a.log.lock(o)}}a.log.consoleLogger=o},1355:(e,t,r)=>{e.exports=r(8106);r(1267);r(1598);r(172);r(2313)},8106:(e,t,r)=>{var a=r(276);e.exports=a.md=a.md||{};a.md.algorithms=a.md.algorithms||{}},1267:(e,t,r)=>{var a=r(276);r(8106);r(7619);var n=e.exports=a.md5=a.md5||{};a.md.md5=a.md.algorithms.md5=n;n.create=function(){if(!l)f();var e=null;var t=a.util.createBuffer();var r=new Array(16);var n={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};n.start=function(){n.messageLength=0;n.fullMessageLength=n.messageLength64=[];var r=n.messageLengthSize/4;for(var i=0;i<r;++i)n.fullMessageLength.push(0);t=a.util.createBuffer();e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878};return n};n.start();n.update=function(i,o){if(o==="utf8")i=a.util.encodeUtf8(i);var s=i.length;n.messageLength+=s;s=[s/4294967296>>>0,s>>>0];for(var u=n.fullMessageLength.length-1;u>=0;--u){n.fullMessageLength[u]+=s[1];s[1]=s[0]+(n.fullMessageLength[u]/4294967296>>>0);n.fullMessageLength[u]=n.fullMessageLength[u]>>>0;s[0]=s[1]/4294967296>>>0}t.putBytes(i);c(e,r,t);if(t.read>2048||t.length()===0)t.compact();return n};n.digest=function(){var o=a.util.createBuffer();o.putBytes(t.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize;var u=s&n.blockLength-1;o.putBytes(i.substr(0,n.blockLength-u));var l,f=0;for(var d=n.fullMessageLength.length-1;d>=0;--d){l=n.fullMessageLength[d]*8+f;f=l/4294967296>>>0;o.putInt32Le(l>>>0)}var p={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};c(p,r,o);var h=a.util.createBuffer();h.putInt32Le(p.h0);h.putInt32Le(p.h1);h.putInt32Le(p.h2);h.putInt32Le(p.h3);return h};return n};var i=null;var o=null;var s=null;var u=null;var l=false;function f(){i=String.fromCharCode(128);i+=a.util.fillString(String.fromCharCode(0),64);o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9];s=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21];u=new Array(64);for(var e=0;e<64;++e)u[e]=Math.floor(Math.abs(Math.sin(e+1))*4294967296);l=true}function c(e,t,r){var a,n,i,l,f,c,d,p;var h=r.length();while(h>=64){n=e.h0;i=e.h1;l=e.h2;f=e.h3;for(p=0;p<16;++p){t[p]=r.getInt32Le();c=f^i&(l^f);a=n+c+u[p]+t[p];d=s[p];n=f;f=l;l=i;i+=a<<d|a>>>32-d}for(;p<32;++p){c=l^f&(i^l);a=n+c+u[p]+t[o[p]];d=s[p];n=f;f=l;l=i;i+=a<<d|a>>>32-d}for(;p<48;++p){c=i^l^f;a=n+c+u[p]+t[o[p]];d=s[p];n=f;f=l;l=i;i+=a<<d|a>>>32-d}for(;p<64;++p){c=l^(i|~f);a=n+c+u[p]+t[o[p]];d=s[p];n=f;f=l;l=i;i+=a<<d|a>>>32-d}e.h0=e.h0+n|0;e.h1=e.h1+i|0;e.h2=e.h2+l|0;e.h3=e.h3+f|0;h-=64}}},1373:(e,t,r)=>{var a=r(276);r(5250);e.exports=a.mgf=a.mgf||{};a.mgf.mgf1=a.mgf1},5250:(e,t,r)=>{var a=r(276);r(7619);a.mgf=a.mgf||{};var n=e.exports=a.mgf.mgf1=a.mgf1=a.mgf1||{};n.create=function(e){var t={generate:function(t,r){var n=new a.util.ByteBuffer;var i=Math.ceil(r/e.digestLength);for(var o=0;o<i;o++){var s=new a.util.ByteBuffer;s.putInt32(o);e.start();e.update(t+s.getBytes());n.putBuffer(e.digest())}n.truncate(n.length()-r);return n.getBytes()}};return t}},6418:(e,t,r)=>{var a=r(276);a.pki=a.pki||{};var n=e.exports=a.pki.oids=a.oids=a.oids||{};function i(e,t){n[e]=t;n[t]=e}function o(e,t){n[e]=t}i("1.2.840.113549.1.1.1","rsaEncryption");i("1.2.840.113549.1.1.4","md5WithRSAEncryption");i("1.2.840.113549.1.1.5","sha1WithRSAEncryption");i("1.2.840.113549.1.1.7","RSAES-OAEP");i("1.2.840.113549.1.1.8","mgf1");i("1.2.840.113549.1.1.9","pSpecified");i("1.2.840.113549.1.1.10","RSASSA-PSS");i("1.2.840.113549.1.1.11","sha256WithRSAEncryption");i("1.2.840.113549.1.1.12","sha384WithRSAEncryption");i("1.2.840.113549.1.1.13","sha512WithRSAEncryption");i("1.2.840.10040.4.3","dsa-with-sha1");i("1.3.14.3.2.7","desCBC");i("1.3.14.3.2.26","sha1");i("2.16.840.1.101.3.4.2.1","sha256");i("2.16.840.1.101.3.4.2.2","sha384");i("2.16.840.1.101.3.4.2.3","sha512");i("1.2.840.113549.2.5","md5");i("1.2.840.113549.1.7.1","data");i("1.2.840.113549.1.7.2","signedData");i("1.2.840.113549.1.7.3","envelopedData");i("1.2.840.113549.1.7.4","signedAndEnvelopedData");i("1.2.840.113549.1.7.5","digestedData");i("1.2.840.113549.1.7.6","encryptedData");i("1.2.840.113549.1.9.1","emailAddress");i("1.2.840.113549.1.9.2","unstructuredName");i("1.2.840.113549.1.9.3","contentType");i("1.2.840.113549.1.9.4","messageDigest");i("1.2.840.113549.1.9.5","signingTime");i("1.2.840.113549.1.9.6","counterSignature");i("1.2.840.113549.1.9.7","challengePassword");i("1.2.840.113549.1.9.8","unstructuredAddress");i("1.2.840.113549.1.9.14","extensionRequest");i("1.2.840.113549.1.9.20","friendlyName");i("1.2.840.113549.1.9.21","localKeyId");i("1.2.840.113549.1.9.22.1","x509Certificate");i("1.2.840.113549.1.12.10.1.1","keyBag");i("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");i("1.2.840.113549.1.12.10.1.3","certBag");i("1.2.840.113549.1.12.10.1.4","crlBag");i("1.2.840.113549.1.12.10.1.5","secretBag");i("1.2.840.113549.1.12.10.1.6","safeContentsBag");i("1.2.840.113549.1.5.13","pkcs5PBES2");i("1.2.840.113549.1.5.12","pkcs5PBKDF2");i("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");i("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");i("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");i("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");i("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");i("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");i("1.2.840.113549.2.7","hmacWithSHA1");i("1.2.840.113549.2.8","hmacWithSHA224");i("1.2.840.113549.2.9","hmacWithSHA256");i("1.2.840.113549.2.10","hmacWithSHA384");i("1.2.840.113549.2.11","hmacWithSHA512");i("1.2.840.113549.3.7","des-EDE3-CBC");i("2.16.840.1.101.3.4.1.2","aes128-CBC");i("2.16.840.1.101.3.4.1.22","aes192-CBC");i("2.16.840.1.101.3.4.1.42","aes256-CBC");i("2.5.4.3","commonName");i("2.5.4.5","serialName");i("2.5.4.6","countryName");i("2.5.4.7","localityName");i("2.5.4.8","stateOrProvinceName");i("2.5.4.10","organizationName");i("2.5.4.11","organizationalUnitName");i("2.16.840.1.113730.1.1","nsCertType");o("2.5.29.1","authorityKeyIdentifier");o("2.5.29.2","keyAttributes");o("2.5.29.3","certificatePolicies");o("2.5.29.4","keyUsageRestriction");o("2.5.29.5","policyMapping");o("2.5.29.6","subtreesConstraint");o("2.5.29.7","subjectAltName");o("2.5.29.8","issuerAltName");o("2.5.29.9","subjectDirectoryAttributes");o("2.5.29.10","basicConstraints");o("2.5.29.11","nameConstraints");o("2.5.29.12","policyConstraints");o("2.5.29.13","basicConstraints");i("2.5.29.14","subjectKeyIdentifier");i("2.5.29.15","keyUsage");o("2.5.29.16","privateKeyUsagePeriod");i("2.5.29.17","subjectAltName");i("2.5.29.18","issuerAltName");i("2.5.29.19","basicConstraints");o("2.5.29.20","cRLNumber");o("2.5.29.21","cRLReason");o("2.5.29.22","expirationDate");o("2.5.29.23","instructionCode");o("2.5.29.24","invalidityDate");o("2.5.29.25","cRLDistributionPoints");o("2.5.29.26","issuingDistributionPoint");o("2.5.29.27","deltaCRLIndicator");o("2.5.29.28","issuingDistributionPoint");o("2.5.29.29","certificateIssuer");o("2.5.29.30","nameConstraints");i("2.5.29.31","cRLDistributionPoints");i("2.5.29.32","certificatePolicies");o("2.5.29.33","policyMappings");o("2.5.29.34","policyConstraints");i("2.5.29.35","authorityKeyIdentifier");o("2.5.29.36","policyConstraints");i("2.5.29.37","extKeyUsage");o("2.5.29.46","freshestCRL");o("2.5.29.54","inhibitAnyPolicy");i("1.3.6.1.4.1.11129.2.4.2","timestampList");i("1.3.6.1.5.5.7.1.1","authorityInfoAccess");i("1.3.6.1.5.5.7.3.1","serverAuth");i("1.3.6.1.5.5.7.3.2","clientAuth");i("1.3.6.1.5.5.7.3.3","codeSigning");i("1.3.6.1.5.5.7.3.4","emailProtection");i("1.3.6.1.5.5.7.3.8","timeStamping")},2698:(e,t,r)=>{var a=r(276);r(9504);r(2746);r(9095);r(8106);r(6418);r(3254);r(2385);r(9356);r(5124);r(5805);r(7619);if(typeof n==="undefined")var n=a.jsbn.BigInteger;var i=a.asn1;var o=a.pki=a.pki||{};e.exports=o.pbe=a.pbe=a.pbe||{};var s=o.oids;var u={name:"EncryptedPrivateKeyInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:true,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:true,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:false,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:true,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:false,capture:"encryptedData"}]};var l={name:"PBES2Algorithms",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:true,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:true,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:false,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:true,value:[{name:"PBES2Algorithms.params.salt",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:false,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:false,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:false,optional:true,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:true,optional:true,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:false,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:true,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:false,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:false,capture:"encIv"}]}]};var f={name:"pkcs-12PbeParams",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:true,value:[{name:"pkcs-12PbeParams.salt",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:false,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:false,capture:"iterations"}]};o.encryptPrivateKeyInfo=function(e,t,r){r=r||{};r.saltSize=r.saltSize||8;r.count=r.count||2048;r.algorithm=r.algorithm||"aes128";r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=a.random.getBytesSync(r.saltSize);var u=r.count;var l=i.integerToDer(u);var f;var c;var d;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var v,y,g;switch(r.algorithm){case"aes128":f=16;v=16;y=s["aes128-CBC"];g=a.aes.createEncryptionCipher;break;case"aes192":f=24;v=16;y=s["aes192-CBC"];g=a.aes.createEncryptionCipher;break;case"aes256":f=32;v=16;y=s["aes256-CBC"];g=a.aes.createEncryptionCipher;break;case"des":f=8;v=8;y=s["desCBC"];g=a.des.createEncryptionCipher;break;default:var m=new Error("Cannot encrypt private key. Unknown encryption algorithm.");m.algorithm=r.algorithm;throw m}var E="hmacWith"+r.prfAlgorithm.toUpperCase();var T=p(E);var S=a.pkcs5.pbkdf2(t,n,u,f,T);var b=a.random.getBytesSync(v);var C=g(S);C.start(b);C.update(i.toDer(e));C.finish();d=C.output.getBytes();var I=h(n,l,f,E);c=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,true,[i.create(i.Class.UNIVERSAL,i.Type.OID,false,i.oidToDer(s["pkcs5PBES2"]).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,true,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,true,[i.create(i.Class.UNIVERSAL,i.Type.OID,false,i.oidToDer(s["pkcs5PBKDF2"]).getBytes()),I]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,true,[i.create(i.Class.UNIVERSAL,i.Type.OID,false,i.oidToDer(y).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,false,b)])])])}else if(r.algorithm==="3des"){f=24;var w=new a.util.ByteBuffer(n);var S=o.pbe.generatePkcs12Key(t,w,1,u,f);var b=o.pbe.generatePkcs12Key(t,w,2,u,f);var C=a.des.createEncryptionCipher(S);C.start(b);C.update(i.toDer(e));C.finish();d=C.output.getBytes();c=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,true,[i.create(i.Class.UNIVERSAL,i.Type.OID,false,i.oidToDer(s["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,true,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,false,n),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,false,l.getBytes())])])}else{var m=new Error("Cannot encrypt private key. Unknown encryption algorithm.");m.algorithm=r.algorithm;throw m}var _=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,true,[c,i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,false,d)]);return _};o.decryptPrivateKeyInfo=function(e,t){var r=null;var n={};var s=[];if(!i.validate(e,u,n,s)){var l=new Error("Cannot read encrypted private key. "+"ASN.1 object is not a supported EncryptedPrivateKeyInfo.");l.errors=s;throw l}var f=i.derToOid(n.encryptionOid);var c=o.pbe.getCipher(f,n.encryptionParams,t);var d=a.util.createBuffer(n.encryptedData);c.update(d);if(c.finish())r=i.fromDer(c.output);return r};o.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:i.toDer(e).getBytes()};return a.pem.encode(r,{maxline:t})};o.encryptedPrivateKeyFromPem=function(e){var t=a.pem.decode(e)[0];if(t.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error("Could not convert encrypted private key from PEM; "+'PEM header type is "ENCRYPTED PRIVATE KEY".');r.headerType=t.type;throw r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; "+"PEM is encrypted.");return i.fromDer(t.body)};o.encryptRsaPrivateKey=function(e,t,r){r=r||{};if(!r.legacy){var n=o.wrapRsaPrivateKey(o.privateKeyToAsn1(e));n=o.encryptPrivateKeyInfo(n,t,r);return o.encryptedPrivateKeyToPem(n)}var s;var u;var l;var f;switch(r.algorithm){case"aes128":s="AES-128-CBC";l=16;u=a.random.getBytesSync(16);f=a.aes.createEncryptionCipher;break;case"aes192":s="AES-192-CBC";l=24;u=a.random.getBytesSync(16);f=a.aes.createEncryptionCipher;break;case"aes256":s="AES-256-CBC";l=32;u=a.random.getBytesSync(16);f=a.aes.createEncryptionCipher;break;case"3des":s="DES-EDE3-CBC";l=24;u=a.random.getBytesSync(8);f=a.des.createEncryptionCipher;break;case"des":s="DES-CBC";l=8;u=a.random.getBytesSync(8);f=a.des.createEncryptionCipher;break;default:var c=new Error("Could not encrypt RSA private key; unsupported "+'encryption algorithm "'+r.algorithm+'".');c.algorithm=r.algorithm;throw c}var d=a.pbe.opensslDeriveBytes(t,u.substr(0,8),l);var p=f(d);p.start(u);p.update(i.toDer(o.privateKeyToAsn1(e)));p.finish();var h={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:s,parameters:a.util.bytesToHex(u).toUpperCase()},body:p.output.getBytes()};return a.pem.encode(h)};o.decryptRsaPrivateKey=function(e,t){var r=null;var n=a.pem.decode(e)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var s=new Error("Could not convert private key from PEM; PEM header type "+'is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');s.headerType=s;throw s}if(n.procType&&n.procType.type==="ENCRYPTED"){var u;var l;switch(n.dekInfo.algorithm){case"DES-CBC":u=8;l=a.des.createDecryptionCipher;break;case"DES-EDE3-CBC":u=24;l=a.des.createDecryptionCipher;break;case"AES-128-CBC":u=16;l=a.aes.createDecryptionCipher;break;case"AES-192-CBC":u=24;l=a.aes.createDecryptionCipher;break;case"AES-256-CBC":u=32;l=a.aes.createDecryptionCipher;break;case"RC2-40-CBC":u=5;l=function(e){return a.rc2.createDecryptionCipher(e,40)};break;case"RC2-64-CBC":u=8;l=function(e){return a.rc2.createDecryptionCipher(e,64)};break;case"RC2-128-CBC":u=16;l=function(e){return a.rc2.createDecryptionCipher(e,128)};break;default:var s=new Error("Could not decrypt private key; unsupported "+'encryption algorithm "'+n.dekInfo.algorithm+'".');s.algorithm=n.dekInfo.algorithm;throw s}var f=a.util.hexToBytes(n.dekInfo.parameters);var c=a.pbe.opensslDeriveBytes(t,f.substr(0,8),u);var d=l(c);d.start(f);d.update(a.util.createBuffer(n.body));if(d.finish())r=d.output.getBytes();else return r}else r=n.body;if(n.type==="ENCRYPTED PRIVATE KEY")r=o.decryptPrivateKeyInfo(i.fromDer(r),t);else r=i.fromDer(r);if(r!==null)r=o.privateKeyFromAsn1(r);return r};o.pbe.generatePkcs12Key=function(e,t,r,n,i,o){var s,u;if(typeof o==="undefined"||o===null){if(!("sha1"in a.md))throw new Error('"sha1" hash algorithm unavailable.');o=a.md.sha1.create()}var l=o.digestLength;var f=o.blockLength;var c=new a.util.ByteBuffer;var d=new a.util.ByteBuffer;if(e!==null&&e!==void 0){for(u=0;u<e.length;u++)d.putInt16(e.charCodeAt(u));d.putInt16(0)}var p=d.length();var h=t.length();var v=new a.util.ByteBuffer;v.fillWithByte(r,f);var y=f*Math.ceil(h/f);var g=new a.util.ByteBuffer;for(u=0;u<y;u++)g.putByte(t.at(u%h));var m=f*Math.ceil(p/f);var E=new a.util.ByteBuffer;for(u=0;u<m;u++)E.putByte(d.at(u%p));var T=g;T.putBuffer(E);var S=Math.ceil(i/l);for(var b=1;b<=S;b++){var C=new a.util.ByteBuffer;C.putBytes(v.bytes());C.putBytes(T.bytes());for(var I=0;I<n;I++){o.start();o.update(C.getBytes());C=o.digest()}var w=new a.util.ByteBuffer;for(u=0;u<f;u++)w.putByte(C.at(u%l));var _=Math.ceil(h/f)+Math.ceil(p/f);var B=new a.util.ByteBuffer;for(s=0;s<_;s++){var A=new a.util.ByteBuffer(T.getBytes(f));var P=511;for(u=w.length()-1;u>=0;u--){P>>=8;P+=w.at(u)+A.at(u);A.setAt(u,P&255)}B.putBuffer(A)}T=B;c.putBuffer(C)}c.truncate(c.length()-i);return c};o.pbe.getCipher=function(e,t,r){switch(e){case o.oids["pkcs5PBES2"]:return o.pbe.getCipherForPBES2(e,t,r);case o.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case o.oids["pbewithSHAAnd40BitRC2-CBC"]:return o.pbe.getCipherForPKCS12PBE(e,t,r);default:var a=new Error("Cannot read encrypted PBE data block. Unsupported OID.");a.oid=e;a.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"];throw a}};o.pbe.getCipherForPBES2=function(e,t,r){var n={};var s=[];if(!i.validate(t,l,n,s)){var u=new Error("Cannot read password-based-encryption algorithm "+"parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");u.errors=s;throw u}e=i.derToOid(n.kdfOid);if(e!==o.oids["pkcs5PBKDF2"]){var u=new Error("Cannot read encrypted private key. "+"Unsupported key derivation function OID.");u.oid=e;u.supportedOids=["pkcs5PBKDF2"];throw u}e=i.derToOid(n.encOid);if(e!==o.oids["aes128-CBC"]&&e!==o.oids["aes192-CBC"]&&e!==o.oids["aes256-CBC"]&&e!==o.oids["des-EDE3-CBC"]&&e!==o.oids["desCBC"]){var u=new Error("Cannot read encrypted private key. "+"Unsupported encryption scheme OID.");u.oid=e;u.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"];throw u}var f=n.kdfSalt;var c=a.util.createBuffer(n.kdfIterationCount);c=c.getInt(c.length()<<3);var p;var h;switch(o.oids[e]){case"aes128-CBC":p=16;h=a.aes.createDecryptionCipher;break;case"aes192-CBC":p=24;h=a.aes.createDecryptionCipher;break;case"aes256-CBC":p=32;h=a.aes.createDecryptionCipher;break;case"des-EDE3-CBC":p=24;h=a.des.createDecryptionCipher;break;case"desCBC":p=8;h=a.des.createDecryptionCipher;break}var v=d(n.prfOid);var y=a.pkcs5.pbkdf2(r,f,c,p,v);var g=n.encIv;var m=h(y);m.start(g);return m};o.pbe.getCipherForPKCS12PBE=function(e,t,r){var n={};var s=[];if(!i.validate(t,f,n,s)){var u=new Error("Cannot read password-based-encryption algorithm "+"parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");u.errors=s;throw u}var l=a.util.createBuffer(n.salt);var c=a.util.createBuffer(n.iterations);c=c.getInt(c.length()<<3);var p,h,v;switch(e){case o.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:p=24;h=8;v=a.des.startDecrypting;break;case o.oids["pbewithSHAAnd40BitRC2-CBC"]:p=5;h=8;v=function(e,t){var r=a.rc2.createDecryptionCipher(e,40);r.start(t,null);return r};break;default:var u=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");u.oid=e;throw u}var y=d(n.prfOid);var g=o.pbe.generatePkcs12Key(r,l,1,c,p,y);y.start();var m=o.pbe.generatePkcs12Key(r,l,2,c,h,y);return v(g,m)};o.pbe.opensslDeriveBytes=function(e,t,r,n){if(typeof n==="undefined"||n===null){if(!("md5"in a.md))throw new Error('"md5" hash algorithm unavailable.');n=a.md.md5.create()}if(t===null)t="";var i=[c(n,e+t)];for(var o=16,s=1;o<r;++s,o+=16)i.push(c(n,i[s-1]+e+t));return i.join("").substr(0,r)};function c(e,t){return e.start().update(t).digest().getBytes()}function d(e){var t;if(!e)t="hmacWithSHA1";else{t=o.oids[i.derToOid(e)];if(!t){var r=new Error("Unsupported PRF OID.");r.oid=e;r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"];throw r}}return p(t)}function p(e){var t=a.md;switch(e){case"hmacWithSHA224":t=a.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");r.algorithm=e;r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"];throw r}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}function h(e,t,r,n){var s=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,true,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,false,e),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,false,t.getBytes())]);if(n!=="hmacWithSHA1")s.value.push(i.create(i.Class.UNIVERSAL,i.Type.INTEGER,false,a.util.hexToBytes(r.toString(16))),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,true,[i.create(i.Class.UNIVERSAL,i.Type.OID,false,i.oidToDer(o.oids[n]).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,false,"")]));return s}},3254:()=>{},2385:(e,t,r)=>{var a=r(276);r(7619);var n=e.exports=a.pem=a.pem||{};n.encode=function(e,t){t=t||{};var r="-----BEGIN "+e.type+"-----\r\n";var n;if(e.procType){n={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]};r+=i(n)}if(e.contentDomain){n={name:"Content-Domain",values:[e.contentDomain]};r+=i(n)}if(e.dekInfo){n={name:"DEK-Info",values:[e.dekInfo.algorithm]};if(e.dekInfo.parameters)n.values.push(e.dekInfo.parameters);r+=i(n)}if(e.headers)for(var o=0;o<e.headers.length;++o)r+=i(e.headers[o]);if(e.procType)r+="\r\n";r+=a.util.encode64(e.body,t.maxline||64)+"\r\n";r+="-----END "+e.type+"-----\r\n";return r};n.decode=function(e){var t=[];var r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g;var n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/;var i=/\r?\n/;var s;while(true){s=r.exec(e);if(!s)break;var u={type:s[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:a.util.decode64(s[3])};t.push(u);if(!s[2])continue;var l=s[2].split(i);var f=0;while(s&&f<l.length){var c=l[f].replace(/\s+$/,"");for(var d=f+1;d<l.length;++d){var p=l[d];if(!/\s/.test(p[0]))break;c+=p;f=d}s=c.match(n);if(s){var h={name:s[1],values:[]};var v=s[2].split(",");for(var y=0;y<v.length;++y)h.values.push(o(v[y]));if(!u.procType){if(h.name!=="Proc-Type")throw new Error("Invalid PEM formatted message. The first "+'encapsulated header must be "Proc-Type".');else if(h.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" '+"header must have two subfields.");u.procType={version:v[0],type:v[1]}}else if(!u.contentDomain&&h.name==="Content-Domain")u.contentDomain=v[0]||"";else if(!u.dekInfo&&h.name==="DEK-Info"){if(h.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" '+"header must have at least one subfield.");u.dekInfo={algorithm:v[0],parameters:v[1]||null}}else u.headers.push(h)}++f}if(u.procType==="ENCRYPTED"&&!u.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" '+'header must be present if "Proc-Type" is "ENCRYPTED".')}if(t.length===0)throw new Error("Invalid PEM formatted message.");return t};function i(e){var t=e.name+": ";var r=[];var a=function(e,t){return" "+t};for(var n=0;n<e.values.length;++n)r.push(e.values[n].replace(/^(\S+\r\n)/,a));t+=r.join(",")+"\r\n";var i=0;var o=-1;for(var n=0;n<t.length;++n,++i)if(i>65&&o!==-1){var s=t[o];if(s===","){++o;t=t.substr(0,o)+"\r\n "+t.substr(o)}else t=t.substr(0,o)+"\r\n"+s+t.substr(o+1);i=n-o-1;o=-1;++n}else if(t[n]===" "||t[n]==="\t"||t[n]===",")o=n;return t}function o(e){return e.replace(/^\s+/,"")}},7501:(e,t,r)=>{var a=r(276);r(7619);r(9356);r(1598);var n=e.exports=a.pkcs1=a.pkcs1||{};n.encode_rsa_oaep=function(e,t,r){var n;var o;var s;var u;if(typeof r==="string"){n=r;o=arguments[3]||void 0;s=arguments[4]||void 0}else if(r){n=r.label||void 0;o=r.seed||void 0;s=r.md||void 0;if(r.mgf1&&r.mgf1.md)u=r.mgf1.md}if(!s)s=a.md.sha1.create();else s.start();if(!u)u=s;var l=Math.ceil(e.n.bitLength()/8);var f=l-2*s.digestLength-2;if(t.length>f){var c=new Error("RSAES-OAEP input message length is too long.");c.length=t.length;c.maxLength=f;throw c}if(!n)n="";s.update(n,"raw");var d=s.digest();var p="";var h=f-t.length;for(var v=0;v<h;v++)p+="\0";var y=d.getBytes()+p+""+t;if(!o)o=a.random.getBytes(s.digestLength);else if(o.length!==s.digestLength){var c=new Error("Invalid RSAES-OAEP seed. The seed length must "+"match the digest length.");c.seedLength=o.length;c.digestLength=s.digestLength;throw c}var g=i(o,l-s.digestLength-1,u);var m=a.util.xorBytes(y,g,y.length);var E=i(m,s.digestLength,u);var T=a.util.xorBytes(o,E,o.length);return"\0"+T+m};n.decode_rsa_oaep=function(e,t,r){var n;var o;var s;if(typeof r==="string"){n=r;o=arguments[3]||void 0}else if(r){n=r.label||void 0;o=r.md||void 0;if(r.mgf1&&r.mgf1.md)s=r.mgf1.md}var u=Math.ceil(e.n.bitLength()/8);if(t.length!==u){var l=new Error("RSAES-OAEP encoded message length is invalid.");l.length=t.length;l.expectedLength=u;throw l}if(o===void 0)o=a.md.sha1.create();else o.start();if(!s)s=o;if(u<2*o.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");if(!n)n="";o.update(n,"raw");var f=o.digest().getBytes();var c=t.charAt(0);var d=t.substring(1,o.digestLength+1);var p=t.substring(1+o.digestLength);var h=i(p,o.digestLength,s);var v=a.util.xorBytes(d,h,d.length);var y=i(v,u-o.digestLength-1,s);var g=a.util.xorBytes(p,y,p.length);var m=g.substring(0,o.digestLength);var l=c!=="\0";for(var E=0;E<o.digestLength;++E)l|=f.charAt(E)!==m.charAt(E);var T=1;var S=o.digestLength;for(var b=o.digestLength;b<g.length;b++){var C=g.charCodeAt(b);var I=C&1^1;var w=T?65534:0;l|=C&w;T&=I;S+=T}if(l||g.charCodeAt(S)!==1)throw new Error("Invalid RSAES-OAEP padding.");return g.substring(S+1)};function i(e,t,r){if(!r)r=a.md.sha1.create();var n="";var i=Math.ceil(t/r.digestLength);for(var o=0;o<i;++o){var s=String.fromCharCode(o>>24&255,o>>16&255,o>>8&255,o&255);r.start();r.update(e+s);n+=r.digest().getBytes()}return n.substring(0,t)}},5071:(e,t,r)=>{var a=r(276);r(2746);r(1696);r(6418);r(9954);r(2698);r(9356);r(5805);r(1598);r(7619);r(6011);var n=a.asn1;var i=a.pki;var o=e.exports=a.pkcs12=a.pkcs12||{};var s={name:"ContentInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:true,value:[{name:"ContentInfo.contentType",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:false,capture:"contentType"},{name:"ContentInfo.content",tagClass:n.Class.CONTEXT_SPECIFIC,constructed:true,captureAsn1:"content"}]};var u={name:"PFX",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:true,value:[{name:"PFX.version",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:false,capture:"version"},s,{name:"PFX.macData",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:true,optional:true,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:true,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:true,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:false,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:n.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:n.Class.UNIVERSAL,type:n.Type.OCTETSTRING,constructed:false,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:n.Class.UNIVERSAL,type:n.Type.OCTETSTRING,constructed:false,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:false,optional:true,capture:"macIterations"}]}]};var l={name:"SafeBag",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:true,value:[{name:"SafeBag.bagId",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:false,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:n.Class.CONTEXT_SPECIFIC,constructed:true,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:n.Class.UNIVERSAL,type:n.Type.SET,constructed:true,optional:true,capture:"bagAttributes"}]};var f={name:"Attribute",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:true,value:[{name:"Attribute.attrId",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:false,capture:"oid"},{name:"Attribute.attrValues",tagClass:n.Class.UNIVERSAL,type:n.Type.SET,constructed:true,capture:"values"}]};var c={name:"CertBag",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:true,value:[{name:"CertBag.certId",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:false,capture:"certId"},{name:"CertBag.certValue",tagClass:n.Class.CONTEXT_SPECIFIC,constructed:true,value:[{name:"CertBag.certValue[0]",tagClass:n.Class.UNIVERSAL,type:n.Class.OCTETSTRING,constructed:false,capture:"cert"}]}]};function d(e,t,r,a){var n=[];for(var i=0;i<e.length;i++)for(var o=0;o<e[i].safeBags.length;o++){var s=e[i].safeBags[o];if(a!==void 0&&s.type!==a)continue;if(t===null){n.push(s);continue}if(s.attributes[t]!==void 0&&s.attributes[t].indexOf(r)>=0)n.push(s)}return n}o.pkcs12FromAsn1=function(e,t,r){if(typeof t==="string"){r=t;t=true}else if(t===void 0)t=true;var s={};var l=[];if(!n.validate(e,u,s,l)){var f=new Error("Cannot read PKCS#12 PFX. "+"ASN.1 object is not an PKCS#12 PFX.");f.errors=f;throw f}var c={version:s.version.charCodeAt(0),safeContents:[],getBags:function(e){var t={};var r;if("localKeyId"in e)r=e.localKeyId;else if("localKeyIdHex"in e)r=a.util.hexToBytes(e.localKeyIdHex);if(r===void 0&&!("friendlyName"in e)&&"bagType"in e)t[e.bagType]=d(c.safeContents,null,null,e.bagType);if(r!==void 0)t.localKeyId=d(c.safeContents,"localKeyId",r,e.bagType);if("friendlyName"in e)t.friendlyName=d(c.safeContents,"friendlyName",e.friendlyName,e.bagType);return t},getBagsByFriendlyName:function(e,t){return d(c.safeContents,"friendlyName",e,t)},getBagsByLocalKeyId:function(e,t){return d(c.safeContents,"localKeyId",e,t)}};if(s.version.charCodeAt(0)!==3){var f=new Error("PKCS#12 PFX of version other than 3 not supported.");f.version=s.version.charCodeAt(0);throw f}if(n.derToOid(s.contentType)!==i.oids.data){var f=new Error("Only PKCS#12 PFX in password integrity mode supported.");f.oid=n.derToOid(s.contentType);throw f}var v=s.content.value[0];if(v.tagClass!==n.Class.UNIVERSAL||v.type!==n.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");v=p(v);if(s.mac){var y=null;var g=0;var m=n.derToOid(s.macAlgorithm);switch(m){case i.oids.sha1:y=a.md.sha1.create();g=20;break;case i.oids.sha256:y=a.md.sha256.create();g=32;break;case i.oids.sha384:y=a.md.sha384.create();g=48;break;case i.oids.sha512:y=a.md.sha512.create();g=64;break;case i.oids.md5:y=a.md.md5.create();g=16;break}if(y===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+m);var E=new a.util.ByteBuffer(s.macSalt);var T="macIterations"in s?parseInt(a.util.bytesToHex(s.macIterations),16):1;var S=o.generateKey(r,E,3,T,g,y);var b=a.hmac.create();b.start(y,S);b.update(v.value);var C=b.getMac();if(C.getBytes()!==s.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}h(c,v.value,t,r);return c};function p(e){if(e.composed||e.constructed){var t=a.util.createBuffer();for(var r=0;r<e.value.length;++r)t.putBytes(e.value[r].value);e.composed=e.constructed=false;e.value=t.getBytes()}return e}function h(e,t,r,a){t=n.fromDer(t,r);if(t.tagClass!==n.Class.UNIVERSAL||t.type!==n.Type.SEQUENCE||t.constructed!==true)throw new Error("PKCS#12 AuthenticatedSafe expected to be a "+"SEQUENCE OF ContentInfo");for(var o=0;o<t.value.length;o++){var u=t.value[o];var l={};var f=[];if(!n.validate(u,s,l,f)){var c=new Error("Cannot read ContentInfo.");c.errors=f;throw c}var d={encrypted:false};var h=null;var g=l.content.value[0];switch(n.derToOid(l.contentType)){case i.oids.data:if(g.tagClass!==n.Class.UNIVERSAL||g.type!==n.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");h=p(g).value;break;case i.oids.encryptedData:h=v(g,a);d.encrypted=true;break;default:var c=new Error("Unsupported PKCS#12 contentType.");c.contentType=n.derToOid(l.contentType);throw c}d.safeBags=y(h,r,a);e.safeContents.push(d)}}function v(e,t){var r={};var o=[];if(!n.validate(e,a.pkcs7.asn1.encryptedDataValidator,r,o)){var s=new Error("Cannot read EncryptedContentInfo.");s.errors=o;throw s}var u=n.derToOid(r.contentType);if(u!==i.oids.data){var s=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");s.oid=u;throw s}u=n.derToOid(r.encAlgorithm);var l=i.pbe.getCipher(u,r.encParameter,t);var f=p(r.encryptedContentAsn1);var c=a.util.createBuffer(f.value);l.update(c);if(!l.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return l.output.getBytes()}function y(e,t,r){if(!t&&e.length===0)return[];e=n.fromDer(e,t);if(e.tagClass!==n.Class.UNIVERSAL||e.type!==n.Type.SEQUENCE||e.constructed!==true)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");var a=[];for(var o=0;o<e.value.length;o++){var s=e.value[o];var u={};var f=[];if(!n.validate(s,l,u,f)){var d=new Error("Cannot read SafeBag.");d.errors=f;throw d}var p={type:n.derToOid(u.bagId),attributes:g(u.bagAttributes)};a.push(p);var h,v;var y=u.bagValue.value[0];switch(p.type){case i.oids.pkcs8ShroudedKeyBag:y=i.decryptPrivateKeyInfo(y,r);if(y===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case i.oids.keyBag:try{p.key=i.privateKeyFromAsn1(y)}catch(e){p.key=null;p.asn1=y}continue;case i.oids.certBag:h=c;v=function(){if(n.derToOid(u.certId)!==i.oids.x509Certificate){var e=new Error("Unsupported certificate type, only X.509 supported.");e.oid=n.derToOid(u.certId);throw e}var r=n.fromDer(u.cert,t);try{p.cert=i.certificateFromAsn1(r,true)}catch(e){p.cert=null;p.asn1=r}};break;default:var d=new Error("Unsupported PKCS#12 SafeBag type.");d.oid=p.type;throw d}if(h!==void 0&&!n.validate(y,h,u,f)){var d=new Error("Cannot read PKCS#12 "+h.name);d.errors=f;throw d}v()}return a}function g(e){var t={};if(e!==void 0)for(var r=0;r<e.length;++r){var a={};var o=[];if(!n.validate(e[r],f,a,o)){var s=new Error("Cannot read PKCS#12 BagAttribute.");s.errors=o;throw s}var u=n.derToOid(a.oid);if(i.oids[u]===void 0)continue;t[i.oids[u]]=[];for(var l=0;l<a.values.length;++l)t[i.oids[u]].push(a.values[l].value)}return t}o.toPkcs12Asn1=function(e,t,r,s){s=s||{};s.saltSize=s.saltSize||8;s.count=s.count||2048;s.algorithm=s.algorithm||s.encAlgorithm||"aes128";if(!("useMac"in s))s.useMac=true;if(!("localKeyId"in s))s.localKeyId=null;if(!("generateLocalKeyId"in s))s.generateLocalKeyId=true;var u=s.localKeyId;var l;if(u!==null)u=a.util.hexToBytes(u);else if(s.generateLocalKeyId)if(t){var f=a.util.isArray(t)?t[0]:t;if(typeof f==="string")f=i.certificateFromPem(f);var c=a.md.sha1.create();c.update(n.toDer(i.certificateToAsn1(f)).getBytes());u=c.digest().getBytes()}else u=a.random.getBytes(20);var d=[];if(u!==null)d.push(n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,true,[n.create(n.Class.UNIVERSAL,n.Type.OID,false,n.oidToDer(i.oids.localKeyId).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SET,true,[n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,false,u)])]));if("friendlyName"in s)d.push(n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,true,[n.create(n.Class.UNIVERSAL,n.Type.OID,false,n.oidToDer(i.oids.friendlyName).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SET,true,[n.create(n.Class.UNIVERSAL,n.Type.BMPSTRING,false,s.friendlyName)])]));if(d.length>0)l=n.create(n.Class.UNIVERSAL,n.Type.SET,true,d);var p=[];var h=[];if(t!==null)if(a.util.isArray(t))h=t;else h=[t];var v=[];for(var y=0;y<h.length;++y){t=h[y];if(typeof t==="string")t=i.certificateFromPem(t);var g=y===0?l:void 0;var m=i.certificateToAsn1(t);var E=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,true,[n.create(n.Class.UNIVERSAL,n.Type.OID,false,n.oidToDer(i.oids.certBag).getBytes()),n.create(n.Class.CONTEXT_SPECIFIC,0,true,[n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,true,[n.create(n.Class.UNIVERSAL,n.Type.OID,false,n.oidToDer(i.oids.x509Certificate).getBytes()),n.create(n.Class.CONTEXT_SPECIFIC,0,true,[n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,false,n.toDer(m).getBytes())])])]),g]);v.push(E)}if(v.length>0){var T=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,true,v);var S=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,true,[n.create(n.Class.UNIVERSAL,n.Type.OID,false,n.oidToDer(i.oids.data).getBytes()),n.create(n.Class.CONTEXT_SPECIFIC,0,true,[n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,false,n.toDer(T).getBytes())])]);p.push(S)}var b=null;if(e!==null){var C=i.wrapRsaPrivateKey(i.privateKeyToAsn1(e));if(r===null)b=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,true,[n.create(n.Class.UNIVERSAL,n.Type.OID,false,n.oidToDer(i.oids.keyBag).getBytes()),n.create(n.Class.CONTEXT_SPECIFIC,0,true,[C]),l]);else b=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,true,[n.create(n.Class.UNIVERSAL,n.Type.OID,false,n.oidToDer(i.oids.pkcs8ShroudedKeyBag).getBytes()),n.create(n.Class.CONTEXT_SPECIFIC,0,true,[i.encryptPrivateKeyInfo(C,r,s)]),l]);var I=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,true,[b]);var w=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,true,[n.create(n.Class.UNIVERSAL,n.Type.OID,false,n.oidToDer(i.oids.data).getBytes()),n.create(n.Class.CONTEXT_SPECIFIC,0,true,[n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,false,n.toDer(I).getBytes())])]);p.push(w)}var _=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,true,p);var B;if(s.useMac){var c=a.md.sha1.create();var A=new a.util.ByteBuffer(a.random.getBytes(s.saltSize));var P=s.count;var e=o.generateKey(r,A,3,P,20);var k=a.hmac.create();k.start(c,e);k.update(n.toDer(_).getBytes());var N=k.getMac();B=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,true,[n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,true,[n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,true,[n.create(n.Class.UNIVERSAL,n.Type.OID,false,n.oidToDer(i.oids.sha1).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.NULL,false,"")]),n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,false,N.getBytes())]),n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,false,A.getBytes()),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,false,n.integerToDer(P).getBytes())])}return n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,true,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,false,n.integerToDer(3).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,true,[n.create(n.Class.UNIVERSAL,n.Type.OID,false,n.oidToDer(i.oids.data).getBytes()),n.create(n.Class.CONTEXT_SPECIFIC,0,true,[n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,false,n.toDer(_).getBytes())])]),B])};o.generateKey=a.pbe.generatePkcs12Key},9343:()=>{},9954:()=>{},9255:(e,t,r)=>{var a=r(276);r(2746);r(6418);r(2698);r(2385);r(3254);r(5071);r(1417);r(5805);r(7619);r(6011);var n=a.asn1;var i=e.exports=a.pki=a.pki||{};i.pemToDer=function(e){var t=a.pem.decode(e)[0];if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return a.util.createBuffer(t.body)};i.privateKeyFromPem=function(e){var t=a.pem.decode(e)[0];if(t.type!=="PRIVATE KEY"&&t.type!=="RSA PRIVATE KEY"){var r=new Error("Could not convert private key from PEM; PEM "+'header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');r.headerType=t.type;throw r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var o=n.fromDer(t.body);return i.privateKeyFromAsn1(o)};i.privateKeyToPem=function(e,t){var r={type:"RSA PRIVATE KEY",body:n.toDer(i.privateKeyToAsn1(e)).getBytes()};return a.pem.encode(r,{maxline:t})};i.privateKeyInfoToPem=function(e,t){var r={type:"PRIVATE KEY",body:n.toDer(e).getBytes()};return a.pem.encode(r,{maxline:t})}},268:()=>{},3878:(e,t,r)=>{var a=r(276);r(7619);var n=null;if(a.util.isNodejs&&!a.options.usePureJavaScript&&!process.versions["node-webkit"])n=r(310);var i=e.exports=a.prng=a.prng||{};i.create=function(e){var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""};var r=e.md;var i=new Array(32);for(var o=0;o<32;++o)i[o]=r.create();t.pools=i;t.pool=0;t.generate=function(e,r){if(!r)return t.generateSync(e);var n=t.plugin.cipher;var i=t.plugin.increment;var o=t.plugin.formatKey;var u=t.plugin.formatSeed;var l=a.util.createBuffer();t.key=null;f();function f(c){if(c)return r(c);if(l.length()>=e)return r(null,l.getBytes(e));if(t.generated>1048575)t.key=null;if(t.key===null)return a.util.nextTick((function(){s(f)}));var d=n(t.key,t.seed);t.generated+=d.length;l.putBytes(d);t.key=o(n(t.key,i(t.seed)));t.seed=u(n(t.key,t.seed));a.util.setImmediate(f)}};t.generateSync=function(e){var r=t.plugin.cipher;var n=t.plugin.increment;var i=t.plugin.formatKey;var o=t.plugin.formatSeed;t.key=null;var s=a.util.createBuffer();while(s.length()<e){if(t.generated>1048575)t.key=null;if(t.key===null)u();var l=r(t.key,t.seed);t.generated+=l.length;s.putBytes(l);t.key=i(r(t.key,n(t.seed)));t.seed=o(r(t.key,t.seed))}return s.getBytes(e)};function s(e){if(t.pools[0].messageLength>=32){l();return e()}var r=32-t.pools[0].messageLength<<5;t.seedFile(r,(function(r,a){if(r)return e(r);t.collect(a);l();e()}))}function u(){if(t.pools[0].messageLength>=32)return l();var e=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(e));l()}function l(){t.reseeds=t.reseeds===4294967295?0:t.reseeds+1;var e=t.plugin.md.create();e.update(t.keyBytes);var r=1;for(var a=0;a<32;++a){if(t.reseeds%r===0){e.update(t.pools[a].digest().getBytes());t.pools[a].start()}r<<=1}t.keyBytes=e.digest().getBytes();e.start();e.update(t.keyBytes);var n=e.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes);t.seed=t.plugin.formatSeed(n);t.generated=0}function f(e){var t=null;if(typeof window!=="undefined"){var r=window.crypto||window.msCrypto;if(r&&r.getRandomValues)t=function(e){return r.getRandomValues(e)}}var n=a.util.createBuffer();if(t)while(n.length()<e){var i=Math.max(1,Math.min(e-n.length(),65536)/4);var o=new Uint32Array(Math.floor(i));try{t(o);for(var s=0;s<o.length;++s)n.putInt32(o[s])}catch(e){if(!(typeof QuotaExceededError!=="undefined"&&e instanceof QuotaExceededError))throw e}}if(n.length()<e){var u,l,f;var c=Math.floor(Math.random()*65536);while(n.length()<e){l=16807*(c&65535);u=16807*(c>>16);l+=(u&32767)<<16;l+=u>>15;l=(l&2147483647)+(l>>31);c=l&4294967295;for(var s=0;s<3;++s){f=c>>>(s<<3);f^=Math.floor(Math.random()*256);n.putByte(String.fromCharCode(f&255))}}}return n.getBytes(e)}if(n){t.seedFile=function(e,t){n.randomBytes(e,(function(e,r){if(e)return t(e);t(null,r.toString())}))};t.seedFileSync=function(e){return n.randomBytes(e).toString()}}else{t.seedFile=function(e,t){try{t(null,f(e))}catch(e){t(e)}};t.seedFileSync=f}t.collect=function(e){var r=e.length;for(var a=0;a<r;++a){t.pools[t.pool].update(e.substr(a,1));t.pool=t.pool===31?0:t.pool+1}};t.collectInt=function(e,r){var a="";for(var n=0;n<r;n+=8)a+=String.fromCharCode(e>>n&255);t.collect(a)};t.registerWorker=function(e){if(e===self)t.seedFile=function(e,t){function r(e){var a=e.data;if(a.forge&&a.forge.prng){self.removeEventListener("message",r);t(a.forge.prng.err,a.forge.prng.bytes)}}self.addEventListener("message",r);self.postMessage({forge:{prng:{needed:e}}})};else{var r=function(r){var a=r.data;if(a.forge&&a.forge.prng)t.seedFile(a.forge.prng.needed,(function(t,r){e.postMessage({forge:{prng:{err:t,bytes:r}}})}))};e.addEventListener("message",r)}};return t}},1417:()=>{},9356:(e,t,r)=>{var a=r(276);r(9504);r(172);r(3878);r(7619);(function(){if(a.random&&a.random.getBytes){e.exports=a.random;return}(function(t){var r={};var n=new Array(4);var i=a.util.createBuffer();r.formatKey=function(e){var t=a.util.createBuffer(e);e=new Array(4);e[0]=t.getInt32();e[1]=t.getInt32();e[2]=t.getInt32();e[3]=t.getInt32();return a.aes._expandKey(e,false)};r.formatSeed=function(e){var t=a.util.createBuffer(e);e=new Array(4);e[0]=t.getInt32();e[1]=t.getInt32();e[2]=t.getInt32();e[3]=t.getInt32();return e};r.cipher=function(e,t){a.aes._updateBlock(e,t,n,false);i.putInt32(n[0]);i.putInt32(n[1]);i.putInt32(n[2]);i.putInt32(n[3]);return i.getBytes()};r.increment=function(e){++e[3];return e};r.md=a.md.sha256;function o(){var e=a.prng.create(r);e.getBytes=function(t,r){return e.generate(t,r)};e.getBytesSync=function(t){return e.generate(t)};return e}var s=o();var u=null;if(typeof window!=="undefined"){var l=window.crypto||window.msCrypto;if(l&&l.getRandomValues)u=function(e){return l.getRandomValues(e)}}if(a.options.usePureJavaScript||!a.util.isNodejs&&!u){if(typeof window==="undefined"||window.document===void 0);s.collectInt(+new Date,32);if(typeof navigator!=="undefined"){var f="";for(var c in navigator)try{if(typeof navigator[c]=="string")f+=navigator[c]}catch(e){}s.collect(f);f=null}if(t){t().mousemove((function(e){s.collectInt(e.clientX,16);s.collectInt(e.clientY,16)}));t().keypress((function(e){s.collectInt(e.charCode,8)}))}}if(!a.random)a.random=s;else for(var c in s)a.random[c]=s[c];a.random.createInstance=o;e.exports=a.random})(typeof jQuery!=="undefined"?jQuery:null)})()},5124:()=>{},5805:(e,t,r)=>{var a=r(276);r(2746);r(3736);r(6418);r(7501);r(268);r(9356);r(7619);if(typeof n==="undefined")var n=a.jsbn.BigInteger;var i=a.asn1;a.pki=a.pki||{};e.exports=a.pki.rsa=a.rsa=a.rsa||{};var o=a.pki;var s=[6,4,2,4,2,4,6,2];var u={name:"PrivateKeyInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:true,value:[{name:"PrivateKeyInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:false,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:true,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:false,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:false,capture:"privateKey"}]};var l={name:"RSAPrivateKey",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:true,value:[{name:"RSAPrivateKey.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:false,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:false,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:false,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:false,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:false,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:false,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:false,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:false,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:false,capture:"privateKeyCoefficient"}]};var f={name:"RSAPublicKey",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:true,value:[{name:"RSAPublicKey.modulus",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:false,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:false,capture:"publicKeyExponent"}]};var c=a.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:true,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:true,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:false,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:false,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:true,optional:true,captureAsn1:"rsaPublicKey"}]}]};var d=function(e){var t;if(e.algorithm in o.oids)t=o.oids[e.algorithm];else{var r=new Error("Unknown message digest algorithm.");r.algorithm=e.algorithm;throw r}var a=i.oidToDer(t).getBytes();var n=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,true,[]);var s=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,true,[]);s.value.push(i.create(i.Class.UNIVERSAL,i.Type.OID,false,a));s.value.push(i.create(i.Class.UNIVERSAL,i.Type.NULL,false,""));var u=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,false,e.digest().getBytes());n.value.push(s);n.value.push(u);return i.toDer(n).getBytes()};var p=function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);if(!t.dP)t.dP=t.d.mod(t.p.subtract(n.ONE));if(!t.dQ)t.dQ=t.d.mod(t.q.subtract(n.ONE));if(!t.qInv)t.qInv=t.q.modInverse(t.p);var i;do{i=new n(a.util.bytesToHex(a.random.getBytes(t.n.bitLength()/8)),16)}while(i.compareTo(t.n)>=0||!i.gcd(t.n).equals(n.ONE));e=e.multiply(i.modPow(t.e,t.n)).mod(t.n);var o=e.mod(t.p).modPow(t.dP,t.p);var s=e.mod(t.q).modPow(t.dQ,t.q);while(o.compareTo(s)<0)o=o.add(t.p);var u=o.subtract(s).multiply(t.qInv).mod(t.p).multiply(t.q).add(s);u=u.multiply(i.modInverse(t.n)).mod(t.n);return u};o.rsa.encrypt=function(e,t,r){var i=r;var o;var s=Math.ceil(t.n.bitLength()/8);if(r!==false&&r!==true){i=r===2;o=h(e,t,r)}else{o=a.util.createBuffer();o.putBytes(e)}var u=new n(o.toHex(),16);var l=p(u,t,i);var f=l.toString(16);var c=a.util.createBuffer();var d=s-Math.ceil(f.length/2);while(d>0){c.putByte(0);--d}c.putBytes(a.util.hexToBytes(f));return c.getBytes()};o.rsa.decrypt=function(e,t,r,i){var o=Math.ceil(t.n.bitLength()/8);if(e.length!==o){var s=new Error("Encrypted message length is invalid.");s.length=e.length;s.expected=o;throw s}var u=new n(a.util.createBuffer(e).toHex(),16);if(u.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");var l=p(u,t,r);var f=l.toString(16);var c=a.util.createBuffer();var d=o-Math.ceil(f.length/2);while(d>0){c.putByte(0);--d}c.putBytes(a.util.hexToBytes(f));if(i!==false)return v(c.getBytes(),t,r);return c.getBytes()};o.rsa.createKeyPairGenerationState=function(e,t,r){if(typeof e==="string")e=parseInt(e,10);e=e||2048;r=r||{};var i=r.prng||a.random;var o={nextBytes:function(e){var t=i.getBytesSync(e.length);for(var r=0;r<e.length;++r)e[r]=t.charCodeAt(r)}};var s=r.algorithm||"PRIMEINC";var u;if(s==="PRIMEINC"){u={algorithm:s,state:0,bits:e,rng:o,eInt:t||65537,e:new n(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null};u.e.fromInt(u.eInt)}else throw new Error("Invalid key generation algorithm: "+s);return u};o.rsa.stepKeyPairGenerationState=function(e,t){if(!("algorithm"in e))e.algorithm="PRIMEINC";var r=new n(null);r.fromInt(30);var a=0;var i=function(e,t){return e|t};var u=+new Date;var l;var f=0;while(e.keys===null&&(t<=0||f<t)){if(e.state===0){var c=e.p===null?e.pBits:e.qBits;var d=c-1;if(e.pqState===0){e.num=new n(c,e.rng);if(!e.num.testBit(d))e.num.bitwiseTo(n.ONE.shiftLeft(d),i,e.num);e.num.dAddOffset(31-e.num.mod(r).byteValue(),0);a=0;++e.pqState}else if(e.pqState===1)if(e.num.bitLength()>c)e.pqState=0;else if(e.num.isProbablePrime(m(e.num.bitLength())))++e.pqState;else e.num.dAddOffset(s[a++%8],0);else if(e.pqState===2)e.pqState=e.num.subtract(n.ONE).gcd(e.e).compareTo(n.ONE)===0?3:0;else if(e.pqState===3){e.pqState=0;if(e.p===null)e.p=e.num;else e.q=e.num;if(e.p!==null&&e.q!==null)++e.state;e.num=null}}else if(e.state===1){if(e.p.compareTo(e.q)<0){e.num=e.p;e.p=e.q;e.q=e.num}++e.state}else if(e.state===2){e.p1=e.p.subtract(n.ONE);e.q1=e.q.subtract(n.ONE);e.phi=e.p1.multiply(e.q1);++e.state}else if(e.state===3)if(e.phi.gcd(e.e).compareTo(n.ONE)===0)++e.state;else{e.p=null;e.q=null;e.state=0}else if(e.state===4){e.n=e.p.multiply(e.q);if(e.n.bitLength()===e.bits)++e.state;else{e.q=null;e.state=0}}else if(e.state===5){var p=e.e.modInverse(e.phi);e.keys={privateKey:o.rsa.setPrivateKey(e.n,e.e,p,e.p,e.q,p.mod(e.p1),p.mod(e.q1),e.q.modInverse(e.p)),publicKey:o.rsa.setPublicKey(e.n,e.e)}}l=+new Date;f+=l-u;u=l}return e.keys!==null};o.rsa.generateKeyPair=function(e,t,r,n){if(arguments.length===1){if(typeof e==="object"){r=e;e=void 0}else if(typeof e==="function"){n=e;e=void 0}}else if(arguments.length===2)if(typeof e==="number"){if(typeof t==="function"){n=t;t=void 0}else if(typeof t!=="number"){r=t;t=void 0}}else{r=e;n=t;e=void 0;t=void 0}else if(arguments.length===3)if(typeof t==="number"){if(typeof r==="function"){n=r;r=void 0}}else{n=r;r=t;t=void 0}r=r||{};if(e===void 0)e=r.bits||2048;if(t===void 0)t=r.e||65537;if(!a.options.usePureJavaScript&&n&&e>=256&&e<=16384&&(t===65537||t===3)){if(E("generateKey")&&E("exportKey"))return window.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:S(t),hash:{name:"SHA-256"}},true,["sign","verify"]).then((function(e){return window.crypto.subtle.exportKey("pkcs8",e.privateKey)})).then(void 0,(function(e){n(e)})).then((function(e){if(e){var t=o.privateKeyFromAsn1(i.fromDer(a.util.createBuffer(e)));n(null,{privateKey:t,publicKey:o.setRsaPublicKey(t.n,t.e)})}}));if(T("generateKey")&&T("exportKey")){var s=window.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:S(t),hash:{name:"SHA-256"}},true,["sign","verify"]);s.oncomplete=function(e){var t=e.target.result;var r=window.msCrypto.subtle.exportKey("pkcs8",t.privateKey);r.oncomplete=function(e){var t=e.target.result;var r=o.privateKeyFromAsn1(i.fromDer(a.util.createBuffer(t)));n(null,{privateKey:r,publicKey:o.setRsaPublicKey(r.n,r.e)})};r.onerror=function(e){n(e)}};s.onerror=function(e){n(e)};return}}var u=o.rsa.createKeyPairGenerationState(e,t,r);if(!n){o.rsa.stepKeyPairGenerationState(u,0);return u.keys}y(u,r,n)};o.setRsaPublicKey=o.rsa.setPublicKey=function(e,t){var r={n:e,e:t};r.encrypt=function(e,t,n){if(typeof t==="string")t=t.toUpperCase();else if(t===void 0)t="RSAES-PKCS1-V1_5";if(t==="RSAES-PKCS1-V1_5")t={encode:function(e,t,r){return h(e,t,2).getBytes()}};else if(t==="RSA-OAEP"||t==="RSAES-OAEP")t={encode:function(e,t){return a.pkcs1.encode_rsa_oaep(t,e,n)}};else if(["RAW","NONE","NULL",null].indexOf(t)!==-1)t={encode:function(e){return e}};else if(typeof t==="string")throw new Error('Unsupported encryption scheme: "'+t+'".');var i=t.encode(e,r,true);return o.rsa.encrypt(i,r,true)};r.verify=function(e,t,a){if(typeof a==="string")a=a.toUpperCase();else if(a===void 0)a="RSASSA-PKCS1-V1_5";if(a==="RSASSA-PKCS1-V1_5")a={verify:function(e,t){t=v(t,r,true);var a=i.fromDer(t);return e===a.value[1].value}};else if(a==="NONE"||a==="NULL"||a===null)a={verify:function(e,t){t=v(t,r,true);return e===t}};var n=o.rsa.decrypt(t,r,true,false);return a.verify(e,n,r.n.bitLength())};return r};o.setRsaPrivateKey=o.rsa.setPrivateKey=function(e,t,r,n,i,s,u,l){var f={n:e,e:t,d:r,p:n,q:i,dP:s,dQ:u,qInv:l};f.decrypt=function(e,t,r){if(typeof t==="string")t=t.toUpperCase();else if(t===void 0)t="RSAES-PKCS1-V1_5";var n=o.rsa.decrypt(e,f,false,false);if(t==="RSAES-PKCS1-V1_5")t={decode:v};else if(t==="RSA-OAEP"||t==="RSAES-OAEP")t={decode:function(e,t){return a.pkcs1.decode_rsa_oaep(t,e,r)}};else if(["RAW","NONE","NULL",null].indexOf(t)!==-1)t={decode:function(e){return e}};else throw new Error('Unsupported encryption scheme: "'+t+'".');return t.decode(n,f,false)};f.sign=function(e,t){var r=false;if(typeof t==="string")t=t.toUpperCase();if(t===void 0||t==="RSASSA-PKCS1-V1_5"){t={encode:d};r=1}else if(t==="NONE"||t==="NULL"||t===null){t={encode:function(){return e}};r=1}var a=t.encode(e,f.n.bitLength());return o.rsa.encrypt(a,f,r)};return f};o.wrapRsaPrivateKey=function(e){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,true,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,false,i.integerToDer(0).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,true,[i.create(i.Class.UNIVERSAL,i.Type.OID,false,i.oidToDer(o.oids.rsaEncryption).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,false,"")]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,false,i.toDer(e).getBytes())])};o.privateKeyFromAsn1=function(e){var t={};var r=[];if(i.validate(e,u,t,r))e=i.fromDer(a.util.createBuffer(t.privateKey));t={};r=[];if(!i.validate(e,l,t,r)){var s=new Error("Cannot read private key. "+"ASN.1 object does not contain an RSAPrivateKey.");s.errors=r;throw s}var f,c,d,p,h,v,y,g;f=a.util.createBuffer(t.privateKeyModulus).toHex();c=a.util.createBuffer(t.privateKeyPublicExponent).toHex();d=a.util.createBuffer(t.privateKeyPrivateExponent).toHex();p=a.util.createBuffer(t.privateKeyPrime1).toHex();h=a.util.createBuffer(t.privateKeyPrime2).toHex();v=a.util.createBuffer(t.privateKeyExponent1).toHex();y=a.util.createBuffer(t.privateKeyExponent2).toHex();g=a.util.createBuffer(t.privateKeyCoefficient).toHex();return o.setRsaPrivateKey(new n(f,16),new n(c,16),new n(d,16),new n(p,16),new n(h,16),new n(v,16),new n(y,16),new n(g,16))};o.privateKeyToAsn1=o.privateKeyToRSAPrivateKey=function(e){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,true,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,false,i.integerToDer(0).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,false,g(e.n)),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,false,g(e.e)),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,false,g(e.d)),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,false,g(e.p)),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,false,g(e.q)),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,false,g(e.dP)),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,false,g(e.dQ)),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,false,g(e.qInv))])};o.publicKeyFromAsn1=function(e){var t={};var r=[];if(i.validate(e,c,t,r)){var s=i.derToOid(t.publicKeyOid);if(s!==o.oids.rsaEncryption){var u=new Error("Cannot read public key. Unknown OID.");u.oid=s;throw u}e=t.rsaPublicKey}r=[];if(!i.validate(e,f,t,r)){var u=new Error("Cannot read public key. "+"ASN.1 object does not contain an RSAPublicKey.");u.errors=r;throw u}var l=a.util.createBuffer(t.publicKeyModulus).toHex();var d=a.util.createBuffer(t.publicKeyExponent).toHex();return o.setRsaPublicKey(new n(l,16),new n(d,16))};o.publicKeyToAsn1=o.publicKeyToSubjectPublicKeyInfo=function(e){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,true,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,true,[i.create(i.Class.UNIVERSAL,i.Type.OID,false,i.oidToDer(o.oids.rsaEncryption).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,false,"")]),i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,false,[o.publicKeyToRSAPublicKey(e)])])};o.publicKeyToRSAPublicKey=function(e){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,true,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,false,g(e.n)),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,false,g(e.e))])};function h(e,t,r){var n=a.util.createBuffer();var i=Math.ceil(t.n.bitLength()/8);if(e.length>i-11){var o=new Error("Message is too long for PKCS#1 v1.5 padding.");o.length=e.length;o.max=i-11;throw o}n.putByte(0);n.putByte(r);var s=i-3-e.length;var u;if(r===0||r===1){u=r===0?0:255;for(var l=0;l<s;++l)n.putByte(u)}else while(s>0){var f=0;var c=a.random.getBytes(s);for(var l=0;l<s;++l){u=c.charCodeAt(l);if(u===0)++f;else n.putByte(u)}s=f}n.putByte(0);n.putBytes(e);return n}function v(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8);var o=a.util.createBuffer(e);var s=o.getByte();var u=o.getByte();if(s!==0||r&&u!==0&&u!==1||!r&&u!=2||r&&u===0&&typeof n==="undefined")throw new Error("Encryption block is invalid.");var l=0;if(u===0){l=i-3-n;for(var f=0;f<l;++f)if(o.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(u===1){l=0;while(o.length()>1){if(o.getByte()!==255){--o.read;break}++l}}else if(u===2){l=0;while(o.length()>1){if(o.getByte()===0){--o.read;break}++l}}var c=o.getByte();if(c!==0||l!==i-3-o.length())throw new Error("Encryption block is invalid.");return o.getBytes()}function y(e,t,r){if(typeof t==="function"){r=t;t={}}t=t||{};var i={algorithm:{name:t.algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};if("prng"in t)i.prng=t.prng;s();function s(){u(e.pBits,(function(t,a){if(t)return r(t);e.p=a;if(e.q!==null)return l(t,e.q);u(e.qBits,l)}))}function u(e,t){a.prime.generateProbablePrime(e,i,t)}function l(t,a){if(t)return r(t);e.q=a;if(e.p.compareTo(e.q)<0){var i=e.p;e.p=e.q;e.q=i}if(e.p.subtract(n.ONE).gcd(e.e).compareTo(n.ONE)!==0){e.p=null;s();return}if(e.q.subtract(n.ONE).gcd(e.e).compareTo(n.ONE)!==0){e.q=null;u(e.qBits,l);return}e.p1=e.p.subtract(n.ONE);e.q1=e.q.subtract(n.ONE);e.phi=e.p1.multiply(e.q1);if(e.phi.gcd(e.e).compareTo(n.ONE)!==0){e.p=e.q=null;s();return}e.n=e.p.multiply(e.q);if(e.n.bitLength()!==e.bits){e.q=null;u(e.qBits,l);return}var f=e.e.modInverse(e.phi);e.keys={privateKey:o.rsa.setPrivateKey(e.n,e.e,f,e.p,e.q,f.mod(e.p1),f.mod(e.q1),e.q.modInverse(e.p)),publicKey:o.rsa.setPublicKey(e.n,e.e)};r(null,e.keys)}}function g(e){var t=e.toString(16);if(t[0]>="8")t="00"+t;var r=a.util.hexToBytes(t);if(r.length>1&&(r.charCodeAt(0)===0&&(r.charCodeAt(1)&128)===0||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128))return r.substr(1);return r}function m(e){if(e<=100)return 27;if(e<=150)return 18;if(e<=200)return 15;if(e<=250)return 12;if(e<=300)return 9;if(e<=350)return 8;if(e<=400)return 7;if(e<=500)return 6;if(e<=600)return 5;if(e<=800)return 4;if(e<=1250)return 3;return 2}function E(e){return typeof window!=="undefined"&&typeof window.crypto==="object"&&typeof window.crypto.subtle==="object"&&typeof window.crypto.subtle[e]==="function"}function T(e){return typeof window!=="undefined"&&typeof window.msCrypto==="object"&&typeof window.msCrypto.subtle==="object"&&typeof window.msCrypto.subtle[e]==="function"}function S(e){var t=a.util.hexToBytes(e.toString(16));var r=new Uint8Array(t.length);for(var n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}function b(e){if(e.kty!=="RSA")throw new Error('Unsupported key algorithm "'+e.kty+'"; algorithm must be "RSA".');return o.setRsaPrivateKey(I(e.n),I(e.e),I(e.d),I(e.p),I(e.q),I(e.dp),I(e.dq),I(e.qi))}function C(e){if(e.kty!=="RSA")throw new Error('Key algorithm must be "RSA".');return o.setRsaPublicKey(I(e.n),I(e.e))}function I(e){return new n(a.util.bytesToHex(a.util.decode64(e)),16)}},1598:(e,t,r)=>{var a=r(276);r(8106);r(7619);var n=e.exports=a.sha1=a.sha1||{};a.md.sha1=a.md.algorithms.sha1=n;n.create=function(){if(!o)s();var e=null;var t=a.util.createBuffer();var r=new Array(80);var n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};n.start=function(){n.messageLength=0;n.fullMessageLength=n.messageLength64=[];var r=n.messageLengthSize/4;for(var i=0;i<r;++i)n.fullMessageLength.push(0);t=a.util.createBuffer();e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520};return n};n.start();n.update=function(i,o){if(o==="utf8")i=a.util.encodeUtf8(i);var s=i.length;n.messageLength+=s;s=[s/4294967296>>>0,s>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l){n.fullMessageLength[l]+=s[1];s[1]=s[0]+(n.fullMessageLength[l]/4294967296>>>0);n.fullMessageLength[l]=n.fullMessageLength[l]>>>0;s[0]=s[1]/4294967296>>>0}t.putBytes(i);u(e,r,t);if(t.read>2048||t.length()===0)t.compact();return n};n.digest=function(){var o=a.util.createBuffer();o.putBytes(t.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize;var l=s&n.blockLength-1;o.putBytes(i.substr(0,n.blockLength-l));var f,c;var d=n.fullMessageLength[0]*8;for(var p=0;p<n.fullMessageLength.length-1;++p){f=n.fullMessageLength[p+1]*8;c=f/4294967296>>>0;d+=c;o.putInt32(d>>>0);d=f>>>0}o.putInt32(d);var h={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};u(h,r,o);var v=a.util.createBuffer();v.putInt32(h.h0);v.putInt32(h.h1);v.putInt32(h.h2);v.putInt32(h.h3);v.putInt32(h.h4);return v};return n};var i=null;var o=false;function s(){i=String.fromCharCode(128);i+=a.util.fillString(String.fromCharCode(0),64);o=true}function u(e,t,r){var a,n,i,o,s,u,l,f;var c=r.length();while(c>=64){n=e.h0;i=e.h1;o=e.h2;s=e.h3;u=e.h4;for(f=0;f<16;++f){a=r.getInt32();t[f]=a;l=s^i&(o^s);a=(n<<5|n>>>27)+l+u+1518500249+a;u=s;s=o;o=(i<<30|i>>>2)>>>0;i=n;n=a}for(;f<20;++f){a=t[f-3]^t[f-8]^t[f-14]^t[f-16];a=a<<1|a>>>31;t[f]=a;l=s^i&(o^s);a=(n<<5|n>>>27)+l+u+1518500249+a;u=s;s=o;o=(i<<30|i>>>2)>>>0;i=n;n=a}for(;f<32;++f){a=t[f-3]^t[f-8]^t[f-14]^t[f-16];a=a<<1|a>>>31;t[f]=a;l=i^o^s;a=(n<<5|n>>>27)+l+u+1859775393+a;u=s;s=o;o=(i<<30|i>>>2)>>>0;i=n;n=a}for(;f<40;++f){a=t[f-6]^t[f-16]^t[f-28]^t[f-32];a=a<<2|a>>>30;t[f]=a;l=i^o^s;a=(n<<5|n>>>27)+l+u+1859775393+a;u=s;s=o;o=(i<<30|i>>>2)>>>0;i=n;n=a}for(;f<60;++f){a=t[f-6]^t[f-16]^t[f-28]^t[f-32];a=a<<2|a>>>30;t[f]=a;l=i&o|s&(i^o);a=(n<<5|n>>>27)+l+u+2400959708+a;u=s;s=o;o=(i<<30|i>>>2)>>>0;i=n;n=a}for(;f<80;++f){a=t[f-6]^t[f-16]^t[f-28]^t[f-32];a=a<<2|a>>>30;t[f]=a;l=i^o^s;a=(n<<5|n>>>27)+l+u+3395469782+a;u=s;s=o;o=(i<<30|i>>>2)>>>0;i=n;n=a}e.h0=e.h0+n|0;e.h1=e.h1+i|0;e.h2=e.h2+o|0;e.h3=e.h3+s|0;e.h4=e.h4+u|0;c-=64}}},172:(e,t,r)=>{var a=r(276);r(8106);r(7619);var n=e.exports=a.sha256=a.sha256||{};a.md.sha256=a.md.algorithms.sha256=n;n.create=function(){if(!o)u();var e=null;var t=a.util.createBuffer();var r=new Array(64);var n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};n.start=function(){n.messageLength=0;n.fullMessageLength=n.messageLength64=[];var r=n.messageLengthSize/4;for(var i=0;i<r;++i)n.fullMessageLength.push(0);t=a.util.createBuffer();e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225};return n};n.start();n.update=function(i,o){if(o==="utf8")i=a.util.encodeUtf8(i);var s=i.length;n.messageLength+=s;s=[s/4294967296>>>0,s>>>0];for(var u=n.fullMessageLength.length-1;u>=0;--u){n.fullMessageLength[u]+=s[1];s[1]=s[0]+(n.fullMessageLength[u]/4294967296>>>0);n.fullMessageLength[u]=n.fullMessageLength[u]>>>0;s[0]=s[1]/4294967296>>>0}t.putBytes(i);l(e,r,t);if(t.read>2048||t.length()===0)t.compact();return n};n.digest=function(){var o=a.util.createBuffer();o.putBytes(t.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize;var u=s&n.blockLength-1;o.putBytes(i.substr(0,n.blockLength-u));var f,c;var d=n.fullMessageLength[0]*8;for(var p=0;p<n.fullMessageLength.length-1;++p){f=n.fullMessageLength[p+1]*8;c=f/4294967296>>>0;d+=c;o.putInt32(d>>>0);d=f>>>0}o.putInt32(d);var h={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};l(h,r,o);var v=a.util.createBuffer();v.putInt32(h.h0);v.putInt32(h.h1);v.putInt32(h.h2);v.putInt32(h.h3);v.putInt32(h.h4);v.putInt32(h.h5);v.putInt32(h.h6);v.putInt32(h.h7);return v};return n};var i=null;var o=false;var s=null;function u(){i=String.fromCharCode(128);i+=a.util.fillString(String.fromCharCode(0),64);s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];o=true}function l(e,t,r){var a,n,i,o,u,l,f,c,d,p,h,v,y,g,m;var E=r.length();while(E>=64){for(f=0;f<16;++f)t[f]=r.getInt32();for(;f<64;++f){a=t[f-2];a=(a>>>17|a<<15)^(a>>>19|a<<13)^a>>>10;n=t[f-15];n=(n>>>7|n<<25)^(n>>>18|n<<14)^n>>>3;t[f]=a+t[f-7]+n+t[f-16]|0}c=e.h0;d=e.h1;p=e.h2;h=e.h3;v=e.h4;y=e.h5;g=e.h6;m=e.h7;for(f=0;f<64;++f){o=(v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7);u=g^v&(y^g);i=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10);l=c&d|p&(c^d);a=m+o+u+s[f]+t[f];n=i+l;m=g;g=y;y=v;v=h+a>>>0;h=p;p=d;d=c;c=a+n>>>0}e.h0=e.h0+c|0;e.h1=e.h1+d|0;e.h2=e.h2+p|0;e.h3=e.h3+h|0;e.h4=e.h4+v|0;e.h5=e.h5+y|0;e.h6=e.h6+g|0;e.h7=e.h7+m|0;E-=64}}},2313:()=>{},149:()=>{},6150:()=>{},3986:()=>{},7619:(e,t,r)=>{var a=r(276);var n=r(4058);var i=e.exports=a.util=a.util||{};(function(){if(typeof process!=="undefined"&&process.nextTick&&!process.browser){i.nextTick=process.nextTick;if(typeof setImmediate==="function")i.setImmediate=setImmediate;else i.setImmediate=i.nextTick;return}if(typeof setImmediate==="function"){i.setImmediate=function(){return setImmediate.apply(void 0,arguments)};i.nextTick=function(e){return setImmediate(e)};return}i.setImmediate=function(e){setTimeout(e,0)};if(typeof window!=="undefined"&&typeof window.postMessage==="function"){var e="forge.setImmediate";var t=[];i.setImmediate=function(r){t.push(r);if(t.length===1)window.postMessage(e,"*")};function r(r){if(r.source===window&&r.data===e){r.stopPropagation();var a=t.slice();t.length=0;a.forEach((function(e){e()}))}}window.addEventListener("message",r,true)}if(typeof MutationObserver!=="undefined"){var a=Date.now();var n=true;var o=document.createElement("div");var t=[];new MutationObserver((function(){var e=t.slice();t.length=0;e.forEach((function(e){e()}))})).observe(o,{attributes:true});var s=i.setImmediate;i.setImmediate=function(e){if(Date.now()-a>15){a=Date.now();s(e)}else{t.push(e);if(t.length===1)o.setAttribute("a",n=!n)}}}i.nextTick=i.setImmediate})();i.isNodejs=typeof process!=="undefined"&&process.versions&&process.versions.node;i.isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};i.isArrayBuffer=function(e){return typeof ArrayBuffer!=="undefined"&&e instanceof ArrayBuffer};i.isArrayBufferView=function(e){return e&&i.isArrayBuffer(e.buffer)&&e.byteLength!==void 0};function o(e){if(!(e===8||e===16||e===24||e===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}i.ByteBuffer=s;function s(e){this.data="";this.read=0;if(typeof e==="string")this.data=e;else if(i.isArrayBuffer(e)||i.isArrayBufferView(e))if(typeof Buffer!=="undefined"&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch(e){for(var r=0;r<t.length;++r)this.putByte(t[r])}}else if(e instanceof s||typeof e==="object"&&typeof e.data==="string"&&typeof e.read==="number"){this.data=e.data;this.read=e.read}this._constructedStringLength=0}i.ByteStringBuffer=s;var u=4096;i.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e;if(this._constructedStringLength>u){this.data.substr(0,1);this._constructedStringLength=0}};i.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};i.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};i.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))};i.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);var r=this.data;while(t>0){if(t&1)r+=e;t>>>=1;if(t>0)e+=e}this.data=r;this._optimizeConstructedString(t);return this};i.ByteStringBuffer.prototype.putBytes=function(e){this.data+=e;this._optimizeConstructedString(e.length);return this};i.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(i.encodeUtf8(e))};i.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};i.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};i.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};i.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255))};i.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))};i.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))};i.ByteStringBuffer.prototype.putInt=function(e,t){o(t);var r="";do{t-=8;r+=String.fromCharCode(e>>t&255)}while(t>0);return this.putBytes(r)};i.ByteStringBuffer.prototype.putSignedInt=function(e,t){if(e<0)e+=2<<t-1;return this.putInt(e,t)};i.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())};i.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};i.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);this.read+=2;return e};i.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);this.read+=3;return e};i.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);this.read+=4;return e};i.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;this.read+=2;return e};i.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;this.read+=3;return e};i.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;this.read+=4;return e};i.ByteStringBuffer.prototype.getInt=function(e){o(e);var t=0;do{t=(t<<8)+this.data.charCodeAt(this.read++);e-=8}while(e>0);return t};i.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e);var r=2<<e-2;if(t>=r)t-=r<<1;return t};i.ByteStringBuffer.prototype.getBytes=function(e){var t;if(e){e=Math.min(this.length(),e);t=this.data.slice(this.read,this.read+e);this.read+=e}else if(e===0)t="";else{t=this.read===0?this.data:this.data.slice(this.read);this.clear()}return t};i.ByteStringBuffer.prototype.bytes=function(e){return typeof e==="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};i.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)};i.ByteStringBuffer.prototype.setAt=function(e,t){this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1);return this};i.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};i.ByteStringBuffer.prototype.copy=function(){var e=i.createBuffer(this.data);e.read=this.read;return e};i.ByteStringBuffer.prototype.compact=function(){if(this.read>0){this.data=this.data.slice(this.read);this.read=0}return this};i.ByteStringBuffer.prototype.clear=function(){this.data="";this.read=0;return this};i.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);this.data=this.data.substr(this.read,t);this.read=0;return this};i.ByteStringBuffer.prototype.toHex=function(){var e="";for(var t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);if(r<16)e+="0";e+=r.toString(16)}return e};i.ByteStringBuffer.prototype.toString=function(){return i.decodeUtf8(this.bytes())};function l(e,t){t=t||{};this.read=t.readOffset||0;this.growSize=t.growSize||1024;var r=i.isArrayBuffer(e);var a=i.isArrayBufferView(e);if(r||a){if(r)this.data=new DataView(e);else this.data=new DataView(e.buffer,e.byteOffset,e.byteLength);this.write="writeOffset"in t?t.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0));this.write=0;if(e!==null&&e!==void 0)this.putBytes(e);if("writeOffset"in t)this.write=t.writeOffset}i.DataBuffer=l;i.DataBuffer.prototype.length=function(){return this.write-this.read};i.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};i.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);var a=new Uint8Array(this.length()+t);a.set(r);this.data=new DataView(a.buffer);return this};i.DataBuffer.prototype.putByte=function(e){this.accommodate(1);this.data.setUint8(this.write++,e);return this};i.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this};i.DataBuffer.prototype.putBytes=function(e,t){if(i.isArrayBufferView(e)){var r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);var a=r.byteLength-r.byteOffset;this.accommodate(a);var n=new Uint8Array(this.data.buffer,this.write);n.set(r);this.write+=a;return this}if(i.isArrayBuffer(e)){var r=new Uint8Array(e);this.accommodate(r.byteLength);var n=new Uint8Array(this.data.buffer);n.set(r,this.write);this.write+=r.byteLength;return this}if(e instanceof i.DataBuffer||typeof e==="object"&&typeof e.read==="number"&&typeof e.write==="number"&&i.isArrayBufferView(e.data)){var r=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(r.byteLength);var n=new Uint8Array(e.data.byteLength,this.write);n.set(r);this.write+=r.byteLength;return this}if(e instanceof i.ByteStringBuffer){e=e.data;t="binary"}t=t||"binary";if(typeof e==="string"){var o;if(t==="hex"){this.accommodate(Math.ceil(e.length/2));o=new Uint8Array(this.data.buffer,this.write);this.write+=i.binary.hex.decode(e,o,this.write);return this}if(t==="base64"){this.accommodate(Math.ceil(e.length/4)*3);o=new Uint8Array(this.data.buffer,this.write);this.write+=i.binary.base64.decode(e,o,this.write);return this}if(t==="utf8"){e=i.encodeUtf8(e);t="binary"}if(t==="binary"||t==="raw"){this.accommodate(e.length);o=new Uint8Array(this.data.buffer,this.write);this.write+=i.binary.raw.decode(o);return this}if(t==="utf16"){this.accommodate(e.length*2);o=new Uint16Array(this.data.buffer,this.write);this.write+=i.text.utf16.encode(o);return this}throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)};i.DataBuffer.prototype.putBuffer=function(e){this.putBytes(e);e.clear();return this};i.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")};i.DataBuffer.prototype.putInt16=function(e){this.accommodate(2);this.data.setInt16(this.write,e);this.write+=2;return this};i.DataBuffer.prototype.putInt24=function(e){this.accommodate(3);this.data.setInt16(this.write,e>>8&65535);this.data.setInt8(this.write,e>>16&255);this.write+=3;return this};i.DataBuffer.prototype.putInt32=function(e){this.accommodate(4);this.data.setInt32(this.write,e);this.write+=4;return this};i.DataBuffer.prototype.putInt16Le=function(e){this.accommodate(2);this.data.setInt16(this.write,e,true);this.write+=2;return this};i.DataBuffer.prototype.putInt24Le=function(e){this.accommodate(3);this.data.setInt8(this.write,e>>16&255);this.data.setInt16(this.write,e>>8&65535,true);this.write+=3;return this};i.DataBuffer.prototype.putInt32Le=function(e){this.accommodate(4);this.data.setInt32(this.write,e,true);this.write+=4;return this};i.DataBuffer.prototype.putInt=function(e,t){o(t);this.accommodate(t/8);do{t-=8;this.data.setInt8(this.write++,e>>t&255)}while(t>0);return this};i.DataBuffer.prototype.putSignedInt=function(e,t){o(t);this.accommodate(t/8);if(e<0)e+=2<<t-1;return this.putInt(e,t)};i.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};i.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);this.read+=2;return e};i.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);this.read+=3;return e};i.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);this.read+=4;return e};i.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,true);this.read+=2;return e};i.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,true)<<8;this.read+=3;return e};i.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,true);this.read+=4;return e};i.DataBuffer.prototype.getInt=function(e){o(e);var t=0;do{t=(t<<8)+this.data.getInt8(this.read++);e-=8}while(e>0);return t};i.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e);var r=2<<e-2;if(t>=r)t-=r<<1;return t};i.DataBuffer.prototype.getBytes=function(e){var t;if(e){e=Math.min(this.length(),e);t=this.data.slice(this.read,this.read+e);this.read+=e}else if(e===0)t="";else{t=this.read===0?this.data:this.data.slice(this.read);this.clear()}return t};i.DataBuffer.prototype.bytes=function(e){return typeof e==="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};i.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)};i.DataBuffer.prototype.setAt=function(e,t){this.data.setUint8(e,t);return this};i.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};i.DataBuffer.prototype.copy=function(){return new i.DataBuffer(this)};i.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read);var t=new Uint8Array(e.byteLength);t.set(e);this.data=new DataView(t);this.write-=this.read;this.read=0}return this};i.DataBuffer.prototype.clear=function(){this.data=new DataView(new ArrayBuffer(0));this.read=this.write=0;return this};i.DataBuffer.prototype.truncate=function(e){this.write=Math.max(0,this.length()-e);this.read=Math.min(this.read,this.write);return this};i.DataBuffer.prototype.toHex=function(){var e="";for(var t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);if(r<16)e+="0";e+=r.toString(16)}return e};i.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());e=e||"utf8";if(e==="binary"||e==="raw")return i.binary.raw.encode(t);if(e==="hex")return i.binary.hex.encode(t);if(e==="base64")return i.binary.base64.encode(t);if(e==="utf8")return i.text.utf8.decode(t);if(e==="utf16")return i.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)};i.createBuffer=function(e,t){t=t||"raw";if(e!==void 0&&t==="utf8")e=i.encodeUtf8(e);return new i.ByteBuffer(e)};i.fillString=function(e,t){var r="";while(t>0){if(t&1)r+=e;t>>>=1;if(t>0)e+=e}return r};i.xorBytes=function(e,t,r){var a="";var n="";var i="";var o=0;var s=0;for(;r>0;--r,++o){n=e.charCodeAt(o)^t.charCodeAt(o);if(s>=10){a+=i;i="";s=0}i+=String.fromCharCode(n);++s}a+=i;return a};i.hexToBytes=function(e){var t="";var r=0;if(e.length&1==1){r=1;t+=String.fromCharCode(parseInt(e[0],16))}for(;r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t};i.bytesToHex=function(e){return i.createBuffer(e).toHex()};i.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var c=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];var d="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";i.encode64=function(e,t){var r="";var a="";var n,i,o;var s=0;while(s<e.length){n=e.charCodeAt(s++);i=e.charCodeAt(s++);o=e.charCodeAt(s++);r+=f.charAt(n>>2);r+=f.charAt((n&3)<<4|i>>4);if(isNaN(i))r+="==";else{r+=f.charAt((i&15)<<2|o>>6);r+=isNaN(o)?"=":f.charAt(o&63)}if(t&&r.length>t){a+=r.substr(0,t)+"\r\n";r=r.substr(t)}}a+=r;return a};i.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");var t="";var r,a,n,i;var o=0;while(o<e.length){r=c[e.charCodeAt(o++)-43];a=c[e.charCodeAt(o++)-43];n=c[e.charCodeAt(o++)-43];i=c[e.charCodeAt(o++)-43];t+=String.fromCharCode(r<<2|a>>4);if(n!==64){t+=String.fromCharCode((a&15)<<4|n>>2);if(i!==64)t+=String.fromCharCode((n&3)<<6|i)}}return t};i.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};i.decodeUtf8=function(e){return decodeURIComponent(escape(e))};i.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:n.encode,decode:n.decode}};i.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)};i.binary.raw.decode=function(e,t,r){var a=t;if(!a)a=new Uint8Array(e.length);r=r||0;var n=r;for(var i=0;i<e.length;++i)a[n++]=e.charCodeAt(i);return t?n-r:a};i.binary.hex.encode=i.bytesToHex;i.binary.hex.decode=function(e,t,r){var a=t;if(!a)a=new Uint8Array(Math.ceil(e.length/2));r=r||0;var n=0,i=r;if(e.length&1){n=1;a[i++]=parseInt(e[0],16)}for(;n<e.length;n+=2)a[i++]=parseInt(e.substr(n,2),16);return t?i-r:a};i.binary.base64.encode=function(e,t){var r="";var a="";var n,i,o;var s=0;while(s<e.byteLength){n=e[s++];i=e[s++];o=e[s++];r+=f.charAt(n>>2);r+=f.charAt((n&3)<<4|i>>4);if(isNaN(i))r+="==";else{r+=f.charAt((i&15)<<2|o>>6);r+=isNaN(o)?"=":f.charAt(o&63)}if(t&&r.length>t){a+=r.substr(0,t)+"\r\n";r=r.substr(t)}}a+=r;return a};i.binary.base64.decode=function(e,t,r){var a=t;if(!a)a=new Uint8Array(Math.ceil(e.length/4)*3);e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");r=r||0;var n,i,o,s;var u=0,l=r;while(u<e.length){n=c[e.charCodeAt(u++)-43];i=c[e.charCodeAt(u++)-43];o=c[e.charCodeAt(u++)-43];s=c[e.charCodeAt(u++)-43];a[l++]=n<<2|i>>4;if(o!==64){a[l++]=(i&15)<<4|o>>2;if(s!==64)a[l++]=(o&3)<<6|s}}return t?l-r:a.subarray(0,l)};i.binary.base58.encode=function(e,t){return i.binary.baseN.encode(e,d,t)};i.binary.base58.decode=function(e,t){return i.binary.baseN.decode(e,d,t)};i.text={utf8:{},utf16:{}};i.text.utf8.encode=function(e,t,r){e=i.encodeUtf8(e);var a=t;if(!a)a=new Uint8Array(e.length);r=r||0;var n=r;for(var o=0;o<e.length;++o)a[n++]=e.charCodeAt(o);return t?n-r:a};i.text.utf8.decode=function(e){return i.decodeUtf8(String.fromCharCode.apply(null,e))};i.text.utf16.encode=function(e,t,r){var a=t;if(!a)a=new Uint8Array(e.length*2);var n=new Uint16Array(a.buffer);r=r||0;var i=r;var o=r;for(var s=0;s<e.length;++s){n[o++]=e.charCodeAt(s);i+=2}return t?i-r:a};i.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))};i.deflate=function(e,t,r){t=i.decode64(e.deflate(i.encode64(t)).rval);if(r){var a=2;var n=t.charCodeAt(1);if(n&32)a=6;t=t.substring(a,t.length-4)}return t};i.inflate=function(e,t,r){var a=e.inflate(i.encode64(t)).rval;return a===null?null:i.decode64(a)};var p=function(e,t,r){if(!e)throw new Error("WebStorage not available.");var a;if(r===null)a=e.removeItem(t);else{r=i.encode64(JSON.stringify(r));a=e.setItem(t,r)}if(typeof a!=="undefined"&&a.rval!==true){var n=new Error(a.error.message);n.id=a.error.id;n.name=a.error.name;throw n}};var h=function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(r.rval===null){if(r.error){var a=new Error(r.error.message);a.id=r.error.id;a.name=r.error.name;throw a}r=null}else r=r.rval;if(r!==null)r=JSON.parse(i.decode64(r));return r};var v=function(e,t,r,a){var n=h(e,t);if(n===null)n={};n[r]=a;p(e,t,n)};var y=function(e,t,r){var a=h(e,t);if(a!==null)a=r in a?a[r]:null;return a};var g=function(e,t,r){var a=h(e,t);if(a!==null&&r in a){delete a[r];var n=true;for(var i in a){n=false;break}if(n)a=null;p(e,t,a)}};var m=function(e,t){p(e,t,null)};var E=function(e,t,r){var a=null;if(typeof r==="undefined")r=["web","flash"];var n;var i=false;var o=null;for(var s in r){n=r[s];try{if(n==="flash"||n==="both"){if(t[0]===null)throw new Error("Flash local storage not available.");a=e.apply(this,t);i=n==="flash"}if(n==="web"||n==="both"){t[0]=localStorage;a=e.apply(this,t);i=true}}catch(e){o=e}if(i)break}if(!i)throw o;return a};i.setItem=function(e,t,r,a,n){E(v,arguments,n)};i.getItem=function(e,t,r,a){return E(y,arguments,a)};i.removeItem=function(e,t,r,a){E(g,arguments,a)};i.clearItems=function(e,t,r){E(m,arguments,r)};i.parseUrl=function(e){var t=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;t.lastIndex=0;var r=t.exec(e);var a=r===null?null:{full:e,scheme:r[1],host:r[2],port:r[3],path:r[4]};if(a){a.fullHost=a.host;if(a.port){if(a.port!==80&&a.scheme==="http")a.fullHost+=":"+a.port;else if(a.port!==443&&a.scheme==="https")a.fullHost+=":"+a.port}else if(a.scheme==="http")a.port=80;else if(a.scheme==="https")a.port=443;a.full=a.scheme+"://"+a.fullHost}return a};var T=null;i.getQueryVariables=function(e){var t=function(e){var t={};var r=e.split("&");for(var a=0;a<r.length;a++){var n=r[a].indexOf("=");var i;var o;if(n>0){i=r[a].substring(0,n);o=r[a].substring(n+1)}else{i=r[a];o=null}if(!(i in t))t[i]=[];if(!(i in Object.prototype)&&o!==null)t[i].push(unescape(o))}return t};var r;if(typeof e==="undefined"){if(T===null)if(typeof window!=="undefined"&&window.location&&window.location.search)T=t(window.location.search.substring(1));else T={};r=T}else r=t(e);return r};i.parseFragment=function(e){var t=e;var r="";var a=e.indexOf("?");if(a>0){t=e.substring(0,a);r=e.substring(a+1)}var n=t.split("/");if(n.length>0&&n[0]==="")n.shift();var o=r===""?{}:i.getQueryVariables(r);return{pathString:t,queryString:r,path:n,query:o}};i.makeRequest=function(e){var t=i.parseFragment(e);var r={path:t.pathString,query:t.queryString,getPath:function(e){return typeof e==="undefined"?t.path:t.path[e]},getQuery:function(e,r){var a;if(typeof e==="undefined")a=t.query;else{a=t.query[e];if(a&&typeof r!=="undefined")a=a[r]}return a},getQueryLast:function(e,t){var a;var n=r.getQuery(e);if(n)a=n[n.length-1];else a=t;return a}};return r};i.makeLink=function(e,t,r){e=jQuery.isArray(e)?e.join("/"):e;var a=jQuery.param(t||{});r=r||"";return e+(a.length>0?"?"+a:"")+(r.length>0?"#"+r:"")};i.setPath=function(e,t,r){if(typeof e==="object"&&e!==null){var a=0;var n=t.length;while(a<n){var i=t[a++];if(a==n)e[i]=r;else{var o=i in e;if(!o||o&&typeof e[i]!=="object"||o&&e[i]===null)e[i]={};e=e[i]}}}};i.getPath=function(e,t,r){var a=0;var n=t.length;var i=true;while(i&&a<n&&typeof e==="object"&&e!==null){var o=t[a++];i=o in e;if(i)e=e[o]}return i?e:r};i.deletePath=function(e,t){if(typeof e==="object"&&e!==null){var r=0;var a=t.length;while(r<a){var n=t[r++];if(r==a)delete e[n];else{if(!(n in e)||typeof e[n]!=="object"||e[n]===null)break;e=e[n]}}}};i.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return false;return true};i.format=function(e){var t=/%./g;var r;var a;var n=0;var i=[];var o=0;while(r=t.exec(e)){a=e.substring(o,t.lastIndex-2);if(a.length>0)i.push(a);o=t.lastIndex;var s=r[0][1];switch(s){case"s":case"o":if(n<arguments.length)i.push(arguments[n+++1]);else i.push("<?>");break;case"%":i.push("%");break;default:i.push("<%"+s+"?>")}}i.push(e.substring(o));return i.join("")};i.formatNumber=function(e,t,r,a){var n=e,i=isNaN(t=Math.abs(t))?2:t;var o=r===void 0?",":r;var s=a===void 0?".":a,u=n<0?"-":"";var l=parseInt(n=Math.abs(+n||0).toFixed(i),10)+"";var f=l.length>3?l.length%3:0;return u+(f?l.substr(0,f)+s:"")+l.substr(f).replace(/(\d{3})(?=\d)/g,"$1"+s)+(i?o+Math.abs(n-l).toFixed(i).slice(2):"")};i.formatSize=function(e){if(e>=1073741824)e=i.formatNumber(e/1073741824,2,".","")+" GiB";else if(e>=1048576)e=i.formatNumber(e/1048576,2,".","")+" MiB";else if(e>=1024)e=i.formatNumber(e/1024,0)+" KiB";else e=i.formatNumber(e,0)+" bytes";return e};i.bytesFromIP=function(e){if(e.indexOf(".")!==-1)return i.bytesFromIPv4(e);if(e.indexOf(":")!==-1)return i.bytesFromIPv6(e);return null};i.bytesFromIPv4=function(e){e=e.split(".");if(e.length!==4)return null;var t=i.createBuffer();for(var r=0;r<e.length;++r){var a=parseInt(e[r],10);if(isNaN(a))return null;t.putByte(a)}return t.getBytes()};i.bytesFromIPv6=function(e){var t=0;e=e.split(":").filter((function(e){if(e.length===0)++t;return true}));var r=(8-e.length+t)*2;var a=i.createBuffer();for(var n=0;n<8;++n){if(!e[n]||e[n].length===0){a.fillWithByte(0,r);r=0;continue}var o=i.hexToBytes(e[n]);if(o.length<2)a.putByte(0);a.putBytes(o)}return a.getBytes()};i.bytesToIP=function(e){if(e.length===4)return i.bytesToIPv4(e);if(e.length===16)return i.bytesToIPv6(e);return null};i.bytesToIPv4=function(e){if(e.length!==4)return null;var t=[];for(var r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")};i.bytesToIPv6=function(e){if(e.length!==16)return null;var t=[];var r=[];var a=0;for(var n=0;n<e.length;n+=2){var o=i.bytesToHex(e[n]+e[n+1]);while(o[0]==="0"&&o!=="0")o=o.substr(1);if(o==="0"){var s=r[r.length-1];var u=t.length;if(!s||u!==s.end+1)r.push({start:u,end:u});else{s.end=u;if(s.end-s.start>r[a].end-r[a].start)a=r.length-1}}t.push(o)}if(r.length>0){var l=r[a];if(l.end-l.start>0){t.splice(l.start,l.end-l.start+1,"");if(l.start===0)t.unshift("");if(l.end===7)t.push("")}}return t.join(":")};i.estimateCores=function(e,t){if(typeof e==="function"){t=e;e={}}e=e||{};if("cores"in i&&!e.update)return t(null,i.cores);if(typeof navigator!=="undefined"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0){i.cores=navigator.hardwareConcurrency;return t(null,i.cores)}if(typeof Worker==="undefined"){i.cores=1;return t(null,i.cores)}if(typeof Blob==="undefined"){i.cores=2;return t(null,i.cores)}var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",(function(e){var t=Date.now();var r=t+4;while(Date.now()<r);self.postMessage({st:t,et:r})}))}.toString(),")()"],{type:"application/javascript"}));a([],5,16);function a(e,s,u){if(s===0){var l=Math.floor(e.reduce((function(e,t){return e+t}),0)/e.length);i.cores=Math.max(1,l);URL.revokeObjectURL(r);return t(null,i.cores)}n(u,(function(t,r){e.push(o(u,r));a(e,s-1,u)}))}function n(e,t){var a=[];var n=[];for(var i=0;i<e;++i){var o=new Worker(r);o.addEventListener("message",(function(r){n.push(r.data);if(n.length===e){for(var i=0;i<e;++i)a[i].terminate();t(null,n)}}));a.push(o)}for(var i=0;i<e;++i)a[i].postMessage(i)}function o(e,t){var r=[];for(var a=0;a<e;++a){var n=t[a];var i=r[a]=[];for(var o=0;o<e;++o){if(a===o)continue;var s=t[o];if(n.st>s.st&&n.st<s.et||s.st>n.st&&s.st<n.et)i.push(o)}}return r.reduce((function(e,t){return Math.max(e,t.length)}),0)}}},6011:(e,t,r)=>{var a=r(276);r(9504);r(2746);r(9095);r(8106);r(1373);r(6418);r(2385);r(1417);r(5805);r(7619);var n=a.asn1;var i=e.exports=a.pki=a.pki||{};i.publicKeyFromPem=function(e){var t=a.pem.decode(e)[0];if(t.type!=="PUBLIC KEY"&&t.type!=="RSA PUBLIC KEY"){var r=new Error("Could not convert public key from PEM; PEM header "+'type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');r.headerType=t.type;throw r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var o=n.fromDer(t.body);return i.publicKeyFromAsn1(o)}},7326:function(e,t,r){"use strict";var a=this&&this.__awaiter||function(e,t,r,a){function n(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,i){function o(e){try{u(a.next(e))}catch(e){i(e)}}function s(e){try{u(a["throw"](e))}catch(e){i(e)}}function u(e){e.done?r(e.value):n(e.value).then(o,s)}u((a=a.apply(e,t||[])).next())}))};var n=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,n,i,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(s){if(a)throw new TypeError("Generator is already executing.");while(o&&(o=0,s[0]&&(r=0)),r)try{if(a=1,n&&(i=s[0]&2?n["return"]:s[0]?n["throw"]||((i=n["return"])&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;if(n=0,i)s=[s[0]&2,i.value];switch(s[0]){case 0:case 1:i=s;break;case 4:r.label++;return{value:s[1],done:false};case 5:r.label++;n=s[1];s=[0];continue;case 7:s=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!i||s[1]>i[0]&&s[1]<i[3])){r.label=s[1];break}if(s[0]===6&&r.label<i[1]){r.label=i[1];i=s;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(s);break}if(i[2])r.ops.pop();r.trys.pop();continue}s=t.call(e,r)}catch(e){s=[6,e];n=0}finally{a=i=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:true}}};var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});var o=i(r(9472));var s=i(r(910));var u=i(r(4940));var l=i(r(5243));var f=i(r(5704));var c=i(r(8600));var d;(function(e){var t=false;var r=false;var i=(new Date).getTime()/1e3;var d=0;function p(e){t=e}e.setEnable=p;function h(){var e=f.default.getLastBindTime();var t=(new Date).getTime();if(t-e<l.default.bindTimeInterval*1e3)return false;c.default.dev("bind arrived");return true}function v(){var e=(new Date).getTime()/1e3;if(d==0){var t=new Date;t.setDate(t.getDate()+1);t.setHours(0,0,0,0);var r=t.getTime()/1e3;var a=l.default.bindDayBoundaryMin,n=l.default.bindDayBoundaryMax;var o=a+Math.floor((n-a)*Math.random());d=r+o;c.default.dev("bind get midnight",d)}if(i<d&&e>d){i=d;d=0;c.default.dev("bind cross midnight");return true}return false}function y(e){if(!t)return;if(r){c.default.dev("binding");return}r=true;setTimeout((function(){return a(this,void 0,void 0,(function(){var e,t,a;return n(this,(function(n){switch(n.label){case 0:e=v();if(e)o.default.onProfileEvent(new Map);if(!(h()||e))return[3,6];c.default.dev("bind begin");t=false;n.label=1;case 1:n.trys.push([1,3,4,5]);return[4,u.default.bind()];case 2:n.sent();f.default.setLastBindTime((new Date).getTime());s.default.invokeGtcIdListener();t=true;return[3,5];case 3:a=n.sent();c.default.error("bind error",a);t=false;return[3,5];case 4:return[7];case 5:c.default.dev("bind end");n.label=6;case 6:r=false;return[2]}}))}))}),e)}e.doBind=y})(d||(d={}));t["default"]=d},6164:function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.Event=t.Type=void 0;var n=a(r(910));var i=a(r(5704));var o=a(r(2499));var s=a(r(8600));var u=a(r(1428));var l;(function(e){e[e["Type_8"]=8]="Type_8";e[e["Type_13"]=13]="Type_13";e[e["Type_14"]=14]="Type_14"})(l=t.Type||(t.Type={}));var f=1;var c=function(){function e(e,t,r,a){this.eventId=e;this.type=t;this.time=(new Date).getTime();this.attrs=r==null||r==void 0?new Map:new Map(r);this.sessionId=u.default.md5Hex("".concat(n.default.gsAppid,"-").concat(n.default.gtcId,"-").concat(i.default.getAppStartTime()));this.ext=a;var c=this.type==l.Type_13?o.default.KEY_TYPE13_PREFIX:o.default.KEY_TYPE14_PREFIX;this.storageKey="".concat(c,"_").concat(this.time,"_").concat(f++);s.default.dev("create type=".concat(t," sessionid=").concat(this.sessionId))}e.prototype.saveDB=function(){o.default.setSync(this.storageKey,this.toJson())};e.prototype.removeDB=function(){o.default.removeSync(this.storageKey)};e.prototype.toJson=function(){var e={eventId:this.eventId,type:this.type,time:this.time,attrs:Array.from(this.attrs),sessionId:this.sessionId,ext:this.ext,storageKey:this.storageKey};return JSON.stringify(e)};e.parseJson=function(t){var r=JSON.parse(t);var a=new e(r.eventId,r.type,new Map(r.attrs),r.ext);a.time=r.time;a.sessionId=r.sessionId;a.storageKey=r.storageKey;return a};return e}();t.Event=c},9472:function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(a===void 0)a=r;var n=Object.getOwnPropertyDescriptor(t,r);if(!n||("get"in n?!t.__esModule:n.writable||n.configurable))n={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,n)}:function(e,t,r,a){if(a===void 0)a=r;e[a]=t[r]});var n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.prototype.hasOwnProperty.call(e,r))a(t,e,r);n(t,e);return t};var o=this&&this.__awaiter||function(e,t,r,a){function n(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,i){function o(e){try{u(a.next(e))}catch(e){i(e)}}function s(e){try{u(a["throw"](e))}catch(e){i(e)}}function u(e){e.done?r(e.value):n(e.value).then(o,s)}u((a=a.apply(e,t||[])).next())}))};var s=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,n,i,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(s){if(a)throw new TypeError("Generator is already executing.");while(o&&(o=0,s[0]&&(r=0)),r)try{if(a=1,n&&(i=s[0]&2?n["return"]:s[0]?n["throw"]||((i=n["return"])&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;if(n=0,i)s=[s[0]&2,i.value];switch(s[0]){case 0:case 1:i=s;break;case 4:r.label++;return{value:s[1],done:false};case 5:r.label++;n=s[1];s=[0];continue;case 7:s=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!i||s[1]>i[0]&&s[1]<i[3])){r.label=s[1];break}if(s[0]===6&&r.label<i[1]){r.label=i[1];i=s;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(s);break}if(i[2])r.ops.pop();r.trys.pop();continue}s=t.call(e,r)}catch(e){s=[6,e];n=0}finally{a=i=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:true}}};var u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});var l=u(r(7223));var f=r(6164);var c=u(r(910));var d=u(r(8600));var p=u(r(8586));var h=u(r(41));var v=u(r(5926));var y=u(r(5704));var g=i(r(7624));var m=u(r(5243));var E=i(r(1003));var T;(function(e){var t=new Map;var r=new Map;e.uploadingEvents=new Map;function a(e){if(e==null||e==void 0)return;b(e,true);e.forEach((function(e,t){r.set(t,e)}))}e.registerEventProperties=a;function n(e,t,r,a){if(a===void 0)a=true;return o(this,void 0,void 0,(function(){var n;return s(this,(function(i){if(!m.default.type13Enable)return[2];n=new f.Event(e,f.Type.Type_13,t,r);if(a){S(n);d.default.info("onEvent:".concat(e),n)}else d.default.dev("onEvent:".concat(e),n);if(m.default.blockEventsList.indexOf(e)!=-1){d.default.dev("block",e);return[2]}C(n,-1);E.default.call(E.GTJSBridgeAction.TYPE13,{eventId:e,attrs:h.default.mapToObj(n.attrs),ext:{inner_app_type:"h5"}},(function(){n.saveDB();p.default.upload(f.Type.Type_13)}));return[2]}))}))}e.onEvent=n;function i(e,r,a){if(!m.default.type13Enable)return;var n=new f.Event(e,f.Type.Type_13,r,a);S(n);t.set(e,n);d.default.info("onBeginEvent:".concat(e),n)}e.onBeginEvent=i;function u(e,r,a){return o(this,void 0,void 0,(function(){var n,i,o;return s(this,(function(s){if(!m.default.type13Enable)return[2];n=new f.Event(e,f.Type.Type_13,r,a);S(n);i=t.get(e);if(i==void 0)throw new Error("event:".concat(e," not begin yet or end already"));t.delete(e);o=n.time-i.time;n.time=i.time;if(m.default.blockEventsList.indexOf(e)!=-1){d.default.dev("block",e);return[2]}C(n,o);d.default.info("onEndEvent:".concat(e,", duration = ").concat(o),n);E.default.call(E.GTJSBridgeAction.TYPE13,{eventId:e,attrs:h.default.mapToObj(n.attrs),ext:{inner_app_type:"h5"}},(function(){n.saveDB();p.default.upload(f.Type.Type_13)}));return[2]}))}))}e.onEndEvent=u;function T(e,t,r){if(r===void 0)r=false;if(!m.default.type14Enable)return;var a=new f.Event("",f.Type.Type_14,e,t);S(a);if(!r&&m.default.blockEventsList.indexOf("profile")!=-1){d.default.dev("block onProfileEvent");return}I(a);d.default.info("onProfileEvent",e);E.default.call(E.GTJSBridgeAction.TYPE14,{attrs:h.default.mapToObj(a.attrs),ext:{inner_app_type:"h5"}},(function(){a.saveDB();p.default.upload(f.Type.Type_14)}))}e.onProfileEvent=T;function S(e){if(e.type==f.Type.Type_13)if(e.eventId==null||e.eventId==void 0||e.eventId.trim()=="")throw new Error("invalid eventId: ".concat(e.eventId));b(e.attrs,e.type==f.Type.Type_13)}function b(e,t){if(t===void 0)t=false;e.forEach((function(r,a){if(a==""||a==null||a==void 0)throw new Error("invalid attr key: ".concat(a));if(t&&a.startsWith("$"))throw new Error("invalid attr key: ".concat(a,", can't start with $"));var n=typeof r;if(r instanceof Date||n=="string"||n=="number"||n=="boolean"){if(r instanceof Date){var i=h.default.formatDate(r);e.set(a,i)}}else throw new Error("invalid attr value type: ".concat(n,", should be string|number|boolean|Date"))}))}function C(e,t){r.forEach((function(t,r){if(!e.attrs.has(r))e.attrs.set(r,t)}));e.attrs.set("$app_version",v.default.appVersion());e.attrs.set("$channelId",v.default.platform());e.attrs.set("$lib_version",l.default.SDK_VERSION);e.attrs.set("$manufacturer",v.default.brand());e.attrs.set("$model",v.default.model());e.attrs.set("$os",v.default.clientType());e.attrs.set("$os_version",v.default.osVersion());e.attrs.set("$package_name",c.default.appid);e.attrs.set("$screen_height",v.default.screenHeight());e.attrs.set("$screen_width",v.default.screenWidth());e.attrs.set("$wifi",c.default.networkType.toUpperCase()=="WIFI");e.attrs.set("$network_type",c.default.networkType);e.attrs.set("$carrier","");e.attrs.set("$firstvisittime",h.default.formatDate(new Date(c.default.installTime)));e.attrs.set("$url_path",c.default.meta.path);e.attrs.set("$url_name",c.default.meta.title);e.attrs.set("$ref_path",c.default.meta.ref_path);e.attrs.set("$ref_name",c.default.meta.ref_title);e.attrs.set("$last_ref_path",c.default.meta.last_ref_path);e.attrs.set("$app_type",g.default.type==g.MPType.H5?"h5":"mp");e.attrs.set("$scene_id",c.default.meta.current_scenestr);e.attrs.set("$user_type",c.default.uid.length>0?"1":"0");e.attrs.set("$uid",c.default.uid);e.attrs.set("$one_id",c.default.getOneID());e.attrs.set("$cid",y.default.getGTSDKCid());if(t>=0)e.attrs.set("$duration",t)}function I(e){return o(this,void 0,void 0,(function(){return s(this,(function(t){e.attrs.set("$app_version",v.default.appVersion());e.attrs.set("$channelId",v.default.platform());e.attrs.set("$lib_version",l.default.SDK_VERSION);e.attrs.set("$manufacturer",v.default.brand());e.attrs.set("$model",v.default.model());e.attrs.set("$os",v.default.clientType());e.attrs.set("$os_version",v.default.osVersion());e.attrs.set("$package_name",c.default.appid);e.attrs.set("$screen_height",v.default.screenHeight());e.attrs.set("$screen_width",v.default.screenWidth());e.attrs.set("$wifi",c.default.networkType.toUpperCase()=="WIFI");e.attrs.set("$network_type",c.default.networkType);e.attrs.set("$carrier","");e.attrs.set("$firstvisittime",h.default.formatDate(new Date(c.default.installTime)));e.attrs.set("$app_type",g.default.type==g.MPType.H5?"h5":"mp");e.attrs.set("$scene_id",c.default.meta.current_scenestr);e.attrs.set("$user_type",c.default.uid.length>0?"1":"0");e.attrs.set("$uid",c.default.uid);e.attrs.set("$one_id",c.default.getOneID());e.attrs.set("$cid",y.default.getGTSDKCid());return[2]}))}))}})(T||(T={}));t["default"]=T},1003:function(e,t,r){"use strict";var a=this&&this.__awaiter||function(e,t,r,a){function n(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,i){function o(e){try{u(a.next(e))}catch(e){i(e)}}function s(e){try{u(a["throw"](e))}catch(e){i(e)}}function u(e){e.done?r(e.value):n(e.value).then(o,s)}u((a=a.apply(e,t||[])).next())}))};var n=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,n,i,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(s){if(a)throw new TypeError("Generator is already executing.");while(o&&(o=0,s[0]&&(r=0)),r)try{if(a=1,n&&(i=s[0]&2?n["return"]:s[0]?n["throw"]||((i=n["return"])&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;if(n=0,i)s=[s[0]&2,i.value];switch(s[0]){case 0:case 1:i=s;break;case 4:r.label++;return{value:s[1],done:false};case 5:r.label++;n=s[1];s=[0];continue;case 7:s=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!i||s[1]>i[0]&&s[1]<i[3])){r.label=s[1];break}if(s[0]===6&&r.label<i[1]){r.label=i[1];i=s;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(s);break}if(i[2])r.ops.pop();r.trys.pop();continue}s=t.call(e,r)}catch(e){s=[6,e];n=0}finally{a=i=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:true}}};var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.GTJSBridgeAction=void 0;var o=i(r(8600));var s;(function(e){e["TYPE13"]="13";e["TYPE14"]="14";e["ENV"]="env"})(s=t.GTJSBridgeAction||(t.GTJSBridgeAction={}));var u=function(){function e(){}e.isFlutterWebViewEnvironment=function(){var e=window===null||window===void 0?void 0:window.flutter_inappwebview;if(e)return true;return false};e.canCallFlutter=function(){var e=window===null||window===void 0?void 0:window.flutter_inappwebview;if(e&&typeof e.callHandler==="function")return true;return false};e.detectFlutterEnvironment=function(e,t){if(e===void 0)e=500;if(t===void 0)t=50;return a(this,void 0,void 0,(function(){var r=this;return n(this,(function(a){switch(a.label){case 0:if(!this.detectFlutterEnvPromise)this.detectFlutterEnvPromise=new Promise((function(a){if(r.isFlutterWebViewEnvironment()){var n=Date.now();var i=function(){if(r.canCallFlutter()){a(true);return}if(Date.now()-n>=e){a(false);return}setTimeout(i,t)};i()}else a(false)}));return[4,this.detectFlutterEnvPromise];case 1:return[2,a.sent()]}}))}))};e.callNativeMethod=function(e,t,r){var i=this;return new Promise((function(o,s){return a(i,void 0,void 0,(function(){return n(this,(function(a){switch(a.label){case 0:return[4,this.detectFlutterEnvironment()];case 1:if(a.sent())window.flutter_inappwebview.callHandler(e,t).then((function(e){o(e)}));else{r===null||r===void 0||r();o("")}return[2]}}))}))}))};e.call=function(e,t,r){var a={action:e,params:t};var n=JSON.stringify(a);return this.callNativeMethod("getui_ido_flutter_handler",n,r).then((function(t){o.default.info("GTJSBridge.call ".concat(e,"  res: ").concat(t));return t})).catch((function(t){o.default.info("GTJSBridge.call ".concat(e,"  err: ").concat(JSON.stringify(t)));return t}))};return e}();t["default"]=u},3096:function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};var n=a(r(7223));var i=a(r(3607));var o=a(r(8600));var s=a(r(5704));var u=a(r(9472));var l=a(r(910));var f=a(r(7624));var c;(function(e){function t(t){o.default.info("init current env","production");return i.default.init(t.gsAppid).then((function(t){try{var a=f.default.getDevice().getLazyActions();if(a&&Array.isArray(a)){var n=e;a.forEach((function(e){if(typeof n[e.key]==="function")n[e.key].apply(r.g,e.args)}))}}catch(e){}return c()})).catch((function(e){o.default.error("init failed",e);throw e}))}e.init=t;function a(e){l.default.setOnGtcIdListener(e)}e.setOnGtcIdListener=a;function c(){i.default.checkInitState();if(s.default.syncGenerateGtcid&&s.default.getLastBindTime()==0)return"";return l.default.gtcId}e.gtcid=c;function d(e){try{i.default.checkInitState();new Promise((function(){try{u.default.onBeginEvent(e.id,e.attrs,e.ext)}catch(t){o.default.error("onBeginEvent:".concat(e.id," error"),t)}}))}catch(t){o.default.error("onBeginEvent:".concat(e.id," error"),t)}}e.onBeginEvent=d;function p(e){try{i.default.checkInitState();new Promise((function(){try{u.default.onEndEvent(e.id,e.attrs,e.ext)}catch(t){o.default.error("onEndEvent:".concat(e.id," error"),t)}}))}catch(t){o.default.error("onEndEvent:".concat(e.id," error"),t)}}e.onEndEvent=p;function h(e){try{i.default.checkInitState();new Promise((function(){try{u.default.onEvent(e.id,e.attrs,e.ext)}catch(t){o.default.error("onEvent:".concat(e.id," error"),t)}}))}catch(t){o.default.error("onEvent:".concat(e.id," error"),t)}}e.onEvent=h;function v(e){try{i.default.checkInitState();new Promise((function(){try{u.default.onProfileEvent(e.attrs,e.ext,true)}catch(e){o.default.error("setProfile error",e)}}))}catch(e){o.default.error("setProfile error",e)}}e.setProfile=v;function y(e){try{u.default.registerEventProperties(e)}catch(e){o.default.error("registerEventProperties error",e)}}e.registerEventProperties=y;function g(e){o.default.debugMode=e;o.default.info("setDebugEnable: ".concat(e))}e.setDebugEnable=g;function m(){return n.default.SDK_VERSION}e.getVersion=m;function E(e){i.default.checkInitState();s.default.setUserId(e);l.default.uid=e}e.setUserId=E;function T(e){if(e<30*1e3){o.default.error("invalid sessionTimeoutMillis: ".concat(e,", must more than 30 seconds"));return}s.default.sessionTimeoutMillis=e;o.default.info("setSessionTimeoutMillis: ".concat(e))}e.setSessionTimeoutMillis=T;function S(){return s.default.sessionTimeoutMillis}e.getSessionTimeoutMillis=S;function b(e){if(e<1){o.default.error("invalid minActiveMillis: ".concat(e,", must more than 0"));return}if(s.default.minActiveMillis>s.default.maxActiveMillis){o.default.error("minActiveMillis must less than maxActiveMillis");return}s.default.minActiveMillis=e;o.default.info("setMinActiveMillis: ".concat(e))}e.setMinActiveMillis=b;function C(){return s.default.minActiveMillis}e.getMinActiveMillis=C;function I(e){if(e<1){o.default.error("invalid maxActiveMillis: ".concat(e,", must more than 0"));return}if(s.default.minActiveMillis>s.default.maxActiveMillis){o.default.error("maxActiveMillis must more than minActiveMillis");return}s.default.maxActiveMillis=e;o.default.info("setMaxActiveMillis: ".concat(e))}e.setMaxActiveMillis=I;function w(){return s.default.maxActiveMillis}e.getMaxActiveMillis=w;function _(e){s.default.eventUploadInterval=Math.max(10,e);o.default.info("setEventUploadInterval: ".concat(e))}e.setEventUploadInterval=_;function B(e){s.default.eventForceUploadSize=Math.max(1,e);o.default.info("setEventForceUploadSize: ".concat(e))}e.setEventForceUploadSize=B;function A(e){s.default.profileUploadInterval=Math.max(5,e);o.default.info("setProfileUploadInterval: ".concat(e))}e.setProfileUploadInterval=A;function P(e){s.default.profileForceUploadSize=Math.max(1,e);o.default.info("setProfileForceUploadSize: ".concat(e))}e.setProfileForceUploadSize=P;function k(e){s.default.syncGenerateGtcid=e;o.default.info("setSyncGenerateGtcid: ".concat(e))}e.setSyncGenerateGtcid=k})(c||(c={}));e.exports=c},2523:function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});var n=a(r(9472));var i=a(r(910));var o=a(r(8600));var s=a(r(4172));var u=a(r(5704));var l=a(r(8943));var f=a(r(7624));var c=a(r(41));var d=a(r(8586));var p=a(r(7326));var h;(function(e){var t=0;var r;var a=function(e){o.default.info("show",e);g(e)};var h=function(e){o.default.info("hide",e);E()};var v={};function y(t){p.default.doBind(0);r={onAppLaunch:function(e,r,a){if(i.default.meta.app_launched)return;o.default.dev("sys appLaunch");i.default.meta.app_launched=true;if(e)i.default.updateScene(e);var u=new Map;if(r){i.default.meta.path=r;i.default.meta.title=f.default.getEvent().getPageTitle(r)}s.default.onNewSession();if(!t){n.default.onEvent("$foreground_start",u,"",false);n.default.onProfileEvent(new Map)}d.default.uploadHistory();if(a)c.default.deleteShareQuery(a)},onAppShow:function(t){o.default.dev("sys appShow",t);i.default.meta.mp_show_time=(new Date).getTime();if(t.scene)i.default.updateScene(t.scene);e.updateSession()},onAppHide:function(){o.default.dev("sys appHide");e.endSession()},onPageLoad:function(e){o.default.dev("sys pageLoad",e);if(f.default.getEvent().canSharereflow())if(e&&e.getuicid&&e.getuisid){var t=e.getuicid;var r=e.getuisid;var a=new Map([["$share_from_gtcid",t],["$share_id",r]]);n.default.onEvent("$sharereflow",a,"",false)}if(e)c.default.deleteShareQuery(e)},onPageShow:function(){o.default.dev("sys pageShow");i.default.meta.page_show_time=(new Date).getTime();var e=f.default.getEvent().getPagePath();var t=f.default.getEvent().getPageTitle(e);i.default.meta.path=e;i.default.meta.title=t;var r=new Map;n.default.onEvent("$pageview",r,"",false)},onPageHide:function(){o.default.dev("sys pageHide");var e=(Date.now()-i.default.meta.page_show_time)/1e3;o.default.dev("stay",e);var t=new Map([["$page_duration",e]]);n.default.onEvent("$pageleave",t,"",false);i.default.meta.ref_path=i.default.meta.path;i.default.meta.ref_title=i.default.meta.title},onPageShare:function(e){var t=e;if(!c.default.isObject(t))t={};if(!c.default.isString(t.path)||t.path==="")t.path=f.default.getEvent().getPagePath();if(c.default.isString(t.path))if(t.path.indexOf("?")===-1)t.path=t.path+"?";else if(t.path.slice(-1)!=="&")t.path=t.path+"&";var r=c.default.getUuid();r=r.replace(/-/g,"");t.path=t.path+"getuicid="+i.default.gtcId+"&&getuisid="+r;o.default.dev("sys makeShareValue",t);var a=new Map([["$share_id",r]]);n.default.onEvent("$share",a,"",false);return t},onPageShareTimeline:function(e){var t=e;if(typeof t!=="object")t={};if(typeof t==="object"&&typeof t.query==="undefined")t.query="";if(typeof t==="object"&&typeof t.query==="string"&&t.query!=="")if(t.query.slice(-1)!=="&")t.query=t.query+"&";var r=c.default.getUuid();r=r.replace(/-/g,"");t.query=t.query+"getuicid="+i.default.gtcId+"&&getuisid="+r;o.default.dev("sys pageShareTimeline",t);var a=new Map([["$share_id",r]]);n.default.onEvent("$share",a,"",false);return t}};f.default.getEvent().onStart(r)}e.start=y;function g(e){}e.onAppShow=g;function m(){new Promise((function(){try{l.default.start();var e=(new Date).getTime();var r=0;if(u.default.sessionTimeoutMillis==-1)r=f.default.getDevice().getType8Timeout()*1e3;else r=u.default.sessionTimeoutMillis;if(t!=0&&e-t>r){o.default.dev("onAppShow: interval ".concat(e-t,">").concat(r,", is a new session"));s.default.onNewSession()}else{o.default.dev("onAppShow: session update");s.default.onSessionUpdate()}}catch(e){o.default.error("onAppShow error",e)}}))}e.updateSession=m;function E(){}e.onAppHide=E;function T(){new Promise((function(){try{l.default.cancel();t=(new Date).getTime();o.default.info("onAppHide: session update");s.default.onSessionUpdate()}catch(e){o.default.error("onAppHide error",e)}}))}e.endSession=T})(h||(h={}));t["default"]=h},910:function(e,t,r){"use strict";var a=this&&this.__awaiter||function(e,t,r,a){function n(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,i){function o(e){try{u(a.next(e))}catch(e){i(e)}}function s(e){try{u(a["throw"](e))}catch(e){i(e)}}function u(e){e.done?r(e.value):n(e.value).then(o,s)}u((a=a.apply(e,t||[])).next())}))};var n=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,n,i,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(s){if(a)throw new TypeError("Generator is already executing.");while(o&&(o=0,s[0]&&(r=0)),r)try{if(a=1,n&&(i=s[0]&2?n["return"]:s[0]?n["throw"]||((i=n["return"])&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;if(n=0,i)s=[s[0]&2,i.value];switch(s[0]){case 0:case 1:i=s;break;case 4:r.label++;return{value:s[1],done:false};case 5:r.label++;n=s[1];s=[0];continue;case 7:s=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!i||s[1]>i[0]&&s[1]<i[3])){r.label=s[1];break}if(s[0]===6&&r.label<i[1]){r.label=i[1];i=s;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(s);break}if(i[2])r.ops.pop();r.trys.pop();continue}s=t.call(e,r)}catch(e){s=[6,e];n=0}finally{a=i=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:true}}};var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});var o=i(r(6063));var s=i(r(8600));var u=i(r(5926));var l=i(r(5243));var f=i(r(7624));var c=i(r(5704));var d=i(r(2499));var p;(function(e){e.appid="";e.gsAppid="";e.gtcId="";e.isFirst=0;e.installTime=0;e.networkType="";e.uid="";var t=null;var r=false;var i="";e.meta={app_launched:false,current_scene:"",current_scenestr:"",mp_show_time:0,page_show_time:0,path:"",title:"",ref_path:"",ref_title:"",url_query:"",encode_url_query:"",global_title:new Map,last_ref_path:""};function p(t){return a(this,void 0,void 0,(function(){var r;return n(this,(function(a){switch(a.label){case 0:e.gsAppid=t;s.default.info("gsAppid: ".concat(e.gsAppid));e.appid=u.default.platformId();s.default.dev("platformId: ".concat(e.appid));r=c.default.getGsAppId();if(!(r&&r.length>0&&r!=e.gsAppid))return[3,2];s.default.dev("appid changed!");return[4,c.default.deleteAllStorage()];case 1:a.sent();a.label=2;case 2:c.default.setGsAppId(e.gsAppid);e.gtcId=o.default.get();s.default.info("gtcid: ".concat(e.gtcId));l.default.fetch(12*3600*1e3);e.installTime=c.default.getInstallTime();if(e.installTime==0){e.isFirst=1;e.installTime=(new Date).getTime();c.default.setInstallTime(e.installTime)}e.uid=c.default.getUserId();u.default.getNetworkType({success:function(t){e.networkType=t.networkType}});h();return[2]}}))}))}e.init=p;function h(){if(!i)try{var e=f.default.getStorage().getSync(d.default.KEY_ONEID);if(e){var t=JSON.parse(e);i=t["oneAID"]}}catch(e){s.default.error("initOneID",e)}return i}e.getOneID=h;function v(t){e.meta.current_scene=t;e.meta.current_scenestr=f.default.typePrefix+"-"+e.meta.current_scene}e.updateScene=v;function y(e){t=e}e.setOnGtcIdListener=y;function g(){if(t&&!r){r=true;t(e.gtcId)}}e.invokeGtcIdListener=g})(p||(p={}));t["default"]=p},3607:function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(a===void 0)a=r;var n=Object.getOwnPropertyDescriptor(t,r);if(!n||("get"in n?!t.__esModule:n.writable||n.configurable))n={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,n)}:function(e,t,r,a){if(a===void 0)a=r;e[a]=t[r]});var n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.prototype.hasOwnProperty.call(e,r))a(t,e,r);n(t,e);return t};var o=this&&this.__awaiter||function(e,t,r,a){function n(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,i){function o(e){try{u(a.next(e))}catch(e){i(e)}}function s(e){try{u(a["throw"](e))}catch(e){i(e)}}function u(e){e.done?r(e.value):n(e.value).then(o,s)}u((a=a.apply(e,t||[])).next())}))};var s=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,n,i,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(s){if(a)throw new TypeError("Generator is already executing.");while(o&&(o=0,s[0]&&(r=0)),r)try{if(a=1,n&&(i=s[0]&2?n["return"]:s[0]?n["throw"]||((i=n["return"])&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;if(n=0,i)s=[s[0]&2,i.value];switch(s[0]){case 0:case 1:i=s;break;case 4:r.label++;return{value:s[1],done:false};case 5:r.label++;n=s[1];s=[0];continue;case 7:s=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!i||s[1]>i[0]&&s[1]<i[3])){r.label=s[1];break}if(s[0]===6&&r.label<i[1]){r.label=i[1];i=s;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(s);break}if(i[2])r.ops.pop();r.trys.pop();continue}s=t.call(e,r)}catch(e){s=[6,e];n=0}finally{a=i=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:true}}};var u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});var l=u(r(910));var f=u(r(8600));var c=u(r(4172));var d=u(r(5704));var p=u(r(8943));var h=u(r(2523));var v=u(r(8586));var y=i(r(1003));var g=u(r(7326));var m;(function(e){e.isInited=false;e.initPromise=null;function t(){if(!e.isInited)throw new Error("not init, please invoke init method firstly")}e.checkInitState=t;function r(e){if(e==void 0||e==null||e=="")throw new Error("invalid gsAppid: ".concat(e))}function a(t){return o(this,void 0,void 0,(function(){var a=this;return s(this,(function(n){switch(n.label){case 0:if(!e.initPromise)e.initPromise=new Promise((function(n,i){return o(a,void 0,void 0,(function(){var a,o;return s(this,(function(s){switch(s.label){case 0:s.trys.push([0,2,,3]);r(t);l.default.init(t);return[4,y.default.detectFlutterEnvironment()];case 1:a=s.sent();f.default.info("environment: ".concat(a));y.default.call(y.GTJSBridgeAction.ENV,{});c.default.setEnable(!a);g.default.setEnable(!a);v.default.setEnable(!a);p.default.setEnable(!a);h.default.start(a);n(l.default.gtcId);e.isInited=true;if(d.default.syncGenerateGtcid&&d.default.getLastBindTime()==0);else l.default.invokeGtcIdListener();return[3,3];case 2:o=s.sent();i(o);return[3,3];case 3:return[2]}}))}))}));return[4,e.initPromise];case 1:return[2,n.sent()]}}))}))}e.init=a})(m||(m={}));t["default"]=m},4940:function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(a===void 0)a=r;var n=Object.getOwnPropertyDescriptor(t,r);if(!n||("get"in n?!t.__esModule:n.writable||n.configurable))n={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,n)}:function(e,t,r,a){if(a===void 0)a=r;e[a]=t[r]});var n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.prototype.hasOwnProperty.call(e,r))a(t,e,r);n(t,e);return t};var o=this&&this.__awaiter||function(e,t,r,a){function n(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,i){function o(e){try{u(a.next(e))}catch(e){i(e)}}function s(e){try{u(a["throw"](e))}catch(e){i(e)}}function u(e){e.done?r(e.value):n(e.value).then(o,s)}u((a=a.apply(e,t||[])).next())}))};var s=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,n,i,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(s){if(a)throw new TypeError("Generator is already executing.");while(o&&(o=0,s[0]&&(r=0)),r)try{if(a=1,n&&(i=s[0]&2?n["return"]:s[0]?n["throw"]||((i=n["return"])&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;if(n=0,i)s=[s[0]&2,i.value];switch(s[0]){case 0:case 1:i=s;break;case 4:r.label++;return{value:s[1],done:false};case 5:r.label++;n=s[1];s=[0];continue;case 7:s=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!i||s[1]>i[0]&&s[1]<i[3])){r.label=s[1];break}if(s[0]===6&&r.label<i[1]){r.label=i[1];i=s;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(s);break}if(i[2])r.ops.pop();r.trys.pop();continue}s=t.call(e,r)}catch(e){s=[6,e];n=0}finally{a=i=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:true}}};var u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});var l=u(r(7223));var f=r(6164);var c=u(r(910));var d=u(r(41));var p=u(r(5704));var h=i(r(7624));var v=u(r(5926));var y=u(r(8600));var g=u(r(5715));var m=u(r(2668));var E=u(r(5243));var T;(function(e){var t={};function r(e){if(!t["busi"])t["busi"]=new g.default;if(!t["simple"])t["simple"]=new m.default;return e?t["busi"]:t["simple"]}e.getBusiCrypto=r;function a(){return o(this,void 0,void 0,(function(){var e,t;return s(this,(function(a){e=v.default.getPlatformInfo();t={action:"bind",gtcid:c.default.gtcId,appid:c.default.gsAppid,os:v.default.clientType(),pkgName:c.default.appid,channelId:v.default.platform(),isFirst:p.default.getLastBindTime()==0?1:0,extended:v.default.notificationEnable(),phoneBrand:v.default.brand(),phoneModel:v.default.model(),systemVersion:v.default.osVersion(),sdkVersion:l.default.SDK_VERSION,versionName:v.default.appVersion(),versionCode:"",devSdkVersion:v.default.sdkVersion(),appType:h.default.type==h.MPType.H5?"h5":"mp",sceneId:c.default.meta.current_scenestr,userType:c.default.uid.length>0?"1":"0",uid:c.default.uid,oneId:c.default.getOneID(),cid:p.default.getGTSDKCid(),platformVersion:e.platformVersion,miniPlatformVersion:e.miniPlatformVersion,miniVersion:e.miniVersion,envVersion:e.envVersion};y.default.dev("http bind body=",JSON.stringify(t));return[2,new Promise((function(e,a){var n="".concat(p.default.serverHost).concat(l.default.API_Bind);var i=JSON.stringify(t);var o=r(E.default.bindEncrypt);var s=o.encrypt(i,n.startsWith("https"));var u=Object.assign({"Content-Type":"application/json; charset=utf-8"},s.headers);h.default.getHttpClient().post({url:n,data:s.arraybuffer,header:u,success:function(t){try{var r=t;var i=o.decrypt(r.data,s.iv);var u=JSON.parse(i);y.default.dev("".concat(r.statusCode," ").concat(r.errMsg," ").concat(n),u);if(u.errno!=0)a(u);else e(u)}catch(e){a(e)}},fail:function(e){console.log("".concat(e.errMsg," ").concat(n));a(e)}});y.default.dev("post ".concat(n," \n ").concat(t))}))]}))}))}e.bind=a;function n(e,t){return o(this,void 0,void 0,(function(){var a,n,i,o,u,g;return s(this,(function(s){a=new Array;for(n=0,i=t;n<i.length;n++){o=i[n];u={datetime:o.time,properties:d.default.mapToObj(o.attrs),sessionId:o.sessionId,ext:o.ext==void 0||o.ext==null?"":o.ext};if(e==f.Type.Type_13)u.eventId=o.eventId;a.push(u)}g={appid:c.default.gsAppid,os:v.default.clientType(),gtcid:c.default.gtcId,data:a};y.default.dev("http type".concat(e," body="),JSON.stringify(g));return[2,new Promise((function(t,a){var n="".concat(p.default.serverHost).concat(e==f.Type.Type_14?l.default.API_Type14:l.default.API_Type13);var i=JSON.stringify(g);var o=true;if(e==f.Type.Type_14)o=E.default.type14Encrypt;else if(e==f.Type.Type_13)o=E.default.type13Encrypt;else if(e==f.Type.Type_8)o=E.default.type8Encrypt;var s=r(o);var u=s.encrypt(i,n.startsWith("https"));var c=Object.assign({"Content-Type":"application/json; charset=utf-8"},u.headers);h.default.getHttpClient().post({url:n,data:u.arraybuffer,header:c,success:function(e){try{var r=e;var i=s.decrypt(r.data,u.iv);var o=JSON.parse(i);y.default.dev("".concat(r.statusCode," ").concat(r.errMsg," ").concat(n),o);if(o.errno!=0)a(o);else t(o)}catch(e){a(e)}},fail:function(e){console.log("".concat(e.errMsg," ").concat(n));a(e)}});y.default.dev("post ".concat(n," \n ").concat(JSON.stringify(g)))}))]}))}))}e.uploadEvent=n;function i(e){var t,a,n,i,u,f,g,m,T,S,b,C,I;return o(this,void 0,void 0,(function(){var o,w,_,B,A,P;return s(this,(function(s){o=new Array;for(w=0,_=e;w<_.length;w++){B=_[w];A={systemVersion:(t=B.systemVersion)!==null&&t!==void 0?t:"",sdkVersion:(a=B.sdkVersion)!==null&&a!==void 0?a:"",channelId:(n=B.channelId)!==null&&n!==void 0?n:"",versionName:(i=B.versionName)!==null&&i!==void 0?i:"",userType:(u=B.userType)!==null&&u!==void 0?u:"",networkType:(f=B.networkType)!==null&&f!==void 0?f:"",sceneId:(g=B.sceneId)!==null&&g!==void 0?g:"",oneId:(m=B.oneId)!==null&&m!==void 0?m:"",cid:(T=B.cid)!==null&&T!==void 0?T:"",uid:(S=B.uid)!==null&&S!==void 0?S:"",sessionId:(b=B.sessionId)!==null&&b!==void 0?b:"",sessionData:(I=d.default.Base64.encode((C=B.sessionData)!==null&&C!==void 0?C:""))!==null&&I!==void 0?I:""};o.push(A)}P={action:"upload",appid:c.default.gsAppid,pkgName:c.default.appid,gtcid:c.default.gtcId,os:v.default.clientType(),manufacturer:v.default.brand(),phoneModel:v.default.model(),appType:h.default.type==h.MPType.H5?"h5":"mp",data:o};y.default.dev("http type8 body=",JSON.stringify(P));return[2,new Promise((function(e,t){var a="".concat(p.default.serverHost).concat(l.default.API_Type8);var n=JSON.stringify(P);var i=r(E.default.type8Encrypt);var o=i.encrypt(n,a.startsWith("https"));var s=Object.assign({"Content-Type":"application/json; charset=utf-8"},o.headers);h.default.getHttpClient().post({url:a,data:o.arraybuffer,header:s,success:function(r){try{var n=r;var s=i.decrypt(n.data,o.iv);var u=JSON.parse(s);y.default.dev("".concat(n.statusCode," ").concat(n.errMsg," ").concat(a),u);if(u.errno!=0)t(u);else e(u)}catch(e){t(e)}},fail:function(e){console.log("".concat(e.errMsg," ").concat(a));t(e)}});y.default.dev("post ".concat(a," \n ").concat(P))}))]}))}))}e.uploadType=i})(T||(T={}));t["default"]=T},8586:function(e,t,r){"use strict";var a=this&&this.__awaiter||function(e,t,r,a){function n(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,i){function o(e){try{u(a.next(e))}catch(e){i(e)}}function s(e){try{u(a["throw"](e))}catch(e){i(e)}}function u(e){e.done?r(e.value):n(e.value).then(o,s)}u((a=a.apply(e,t||[])).next())}))};var n=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,n,i,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(s){if(a)throw new TypeError("Generator is already executing.");while(o&&(o=0,s[0]&&(r=0)),r)try{if(a=1,n&&(i=s[0]&2?n["return"]:s[0]?n["throw"]||((i=n["return"])&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;if(n=0,i)s=[s[0]&2,i.value];switch(s[0]){case 0:case 1:i=s;break;case 4:r.label++;return{value:s[1],done:false};case 5:r.label++;n=s[1];s=[0];continue;case 7:s=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!i||s[1]>i[0]&&s[1]<i[3])){r.label=s[1];break}if(s[0]===6&&r.label<i[1]){r.label=i[1];i=s;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(s);break}if(i[2])r.ops.pop();r.trys.pop();continue}s=t.call(e,r)}catch(e){s=[6,e];n=0}finally{a=i=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:true}}};var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});var o=r(6164);var s=i(r(4940));var u=i(r(8600));var l=i(r(2499));var f=i(r(5588));var c=i(r(5704));var d=r(6164);var p=i(r(5243));var h=i(r(5926));var v=i(r(910));var y=i(r(7326));var g;(function(e){var t=false;var r=false;var i=false;var g=false;var m=false;var E=0;var T=new Map;var S=new Map;var b=new Map;function C(e){t=e}e.setEnable=C;function I(){if(!t)return;u.default.dev("upload History");h.default.getNetworkType({success:function(e){v.default.networkType=e.networkType}});B();P();N();y.default.doBind(1e3)}e.uploadHistory=I;function w(e){if(!t)return;if(e==d.Type.Type_8)B();if(e==d.Type.Type_13)P();if(e==d.Type.Type_14)N()}e.upload=w;function _(){var e=c.default.getType8UploadTime();var t=(new Date).getTime();var r=p.default.type8UploadInterval*1e3;if(t-e<r){u.default.dev("type8 upload fail, not arrive");return false}return true}function B(){return a(this,void 0,void 0,(function(){var e,a,i,o;return n(this,(function(n){switch(n.label){case 0:n.trys.push([0,3,,4]);if(!t)return[2];if(m){u.default.dev("type8 Fail too often, wait");return[2]}if(r){u.default.dev("type8 Uploading");return[2]}r=true;e=_();if(!e){r=false;return[2]}a=p.default.type8PatchUploadCount;return[4,c.default.getPatch(d.Type.Type_8,a)];case 1:T=n.sent();if(T.size==0){u.default.dev("Type8 upload end, no data");r=false;return[2]}u.default.dev("Type8 begin upload, timeArrived=".concat(e));return[4,D(d.Type.Type_8)];case 2:n.sent();i=(new Date).getTime();c.default.setType8UploadTime(i);return[3,4];case 3:o=n.sent();r=false;u.default.error("Type8 upload fail",o);return[3,4];case 4:return[2]}}))}))}function A(){var e=c.default.getType13UploadTime();var t=(new Date).getTime();var r=Math.max(p.default.type13UploadInterval*1e3,c.default.eventUploadInterval);if(t-e<r)return false;return true}function P(){return a(this,void 0,void 0,(function(){var e,r,a,o,s,l;return n(this,(function(n){switch(n.label){case 0:n.trys.push([0,4,,5]);if(!t)return[2];if(m){u.default.dev("type13 Fail too often, wait");return[2]}if(i){u.default.dev("type13 Uploading");return[2]}i=true;e=A();r=Math.max(p.default.type13ForceUploadSize,c.default.eventForceUploadSize);return[4,c.default.getPatch(d.Type.Type_13,r)];case 1:a=n.sent();if(a.size<r&&!e){u.default.dev("Type13 upload end, count=".concat(a.size,"<").concat(r," timeArrived=").concat(e));i=false;return[2]}if(a.size==0){u.default.dev("Type13 upload end, no data");i=false;return[2]}u.default.dev("Type13 begin upload, count=".concat(a.size," timeArrived=").concat(e));o=p.default.type13PatchUploadCount;return[4,c.default.getPatch(d.Type.Type_13,o)];case 2:S=n.sent();return[4,D(d.Type.Type_13)];case 3:n.sent();s=(new Date).getTime();c.default.setType13UploadTime(s);return[3,5];case 4:l=n.sent();i=false;u.default.error("Type13 upload fail",l);return[3,5];case 5:return[2]}}))}))}function k(){var e=c.default.getType14UploadTime();var t=(new Date).getTime();var r=Math.max(p.default.type14UploadInterval*1e3,c.default.profileUploadInterval);if(t-e<r)return false;return true}function N(){return a(this,void 0,void 0,(function(){var e,r,a,i,o,s;return n(this,(function(n){switch(n.label){case 0:n.trys.push([0,4,,5]);if(!t)return[2];if(m){u.default.dev("type14 Fail too often, wait");return[2]}if(g){u.default.dev("type14 Uploading");return[2]}g=true;e=k();r=Math.max(p.default.type14ForceUploadSize,c.default.profileForceUploadSize);return[4,c.default.getPatch(d.Type.Type_14,r)];case 1:a=n.sent();if(a.size<r&&!e){u.default.dev("Type14 upload end, count=".concat(a.size,"<").concat(r," timeArrived=").concat(e));g=false;return[2]}if(a.size==0){u.default.dev("Type14 upload end, no data");g=false;return[2]}u.default.dev("Type14 begin upload, count=".concat(a.size," timeArrived=").concat(e));i=p.default.type14PatchUploadCount;return[4,c.default.getPatch(d.Type.Type_14,i)];case 2:b=n.sent();return[4,D(d.Type.Type_14)];case 3:n.sent();o=(new Date).getTime();c.default.setType14UploadTime(o);return[3,5];case 4:s=n.sent();g=false;u.default.error("Type14 upload fail",s);return[3,5];case 5:return[2]}}))}))}function D(e){var t,c;return a(this,void 0,void 0,(function(){var a,p,h,v,y,m,E,C,I,w,_,A,p,k,D,y,m,U,C,O,K,M,V,x,F,H;return n(this,(function(n){switch(n.label){case 0:a=new Map;if(!(e==d.Type.Type_8))return[3,5];a=T;p=new Array;u.default.dev("uploadPatch type".concat(e," keys:").concat(Array.from(a.keys())));for(h=0,v=Array.from(a.keys());h<v.length;h++){y=v[h];m=(t=a.get(y))!==null&&t!==void 0?t:"";if(m==""){l.default.removeSync(y);continue}E=f.default.parseJson(m);u.default.info("upload type".concat(e," ").concat(E.sessionData));p.push(E)}n.label=1;case 1:n.trys.push([1,3,,4]);return[4,s.default.uploadType(p)];case 2:C=n.sent();u.default.dev("upload success, type".concat(e));for(I=0,w=p;I<w.length;I++){_=w[I];_.removeDB()}L();return[3,4];case 3:A=n.sent();R();u.default.dev("upload failed, type".concat(e," error ").concat(A));return[3,4];case 4:return[3,9];case 5:p=new Array;a=e==d.Type.Type_13?S:b;u.default.dev("uploadPatch type:".concat(e," keys:").concat(Array.from(a.keys())));for(k=0,D=Array.from(a.keys());k<D.length;k++){y=D[k];m=(c=a.get(y))!==null&&c!==void 0?c:"";if(m==""){l.default.removeSync(y);continue}U=o.Event.parseJson(m);u.default.info("upload type".concat(e," ").concat(U.eventId));p.push(U)}n.label=6;case 6:n.trys.push([6,8,,9]);return[4,s.default.uploadEvent(e,p)];case 7:C=n.sent();u.default.dev("upload success, type".concat(e));for(O=0,K=p;O<K.length;O++){M=K[O];M.removeDB()}L();return[3,9];case 8:V=n.sent();R();u.default.dev("upload failed, type".concat(e," error ").concat(V));return[3,9];case 9:a.clear();if(e==d.Type.Type_8)r=false;if(e==d.Type.Type_13)i=false;if(e==d.Type.Type_14)g=false;x=Math.random();F=Math.round(3e3+x*1e3);u.default.dev("upload next, type:".concat(e," delay=").concat(F));H=setInterval((function(){clearInterval(H);try{if(e==d.Type.Type_8)B();if(e==d.Type.Type_13)P();if(e==d.Type.Type_14)N()}catch(t){u.default.dev("upload next fail,,type:".concat(e," delay=").concat(F," err:").concat(t))}}),F);return[2]}}))}))}function L(){E=0;m=false}function R(){E+=1;if(E>=3){m=true;setTimeout((function(){U()}),60*1e3)}}function U(){u.default.dev("uploadResume");E=0;m=false;I()}})(g||(g={}));t["default"]=g},4172:function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(a===void 0)a=r;var n=Object.getOwnPropertyDescriptor(t,r);if(!n||("get"in n?!t.__esModule:n.writable||n.configurable))n={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,n)}:function(e,t,r,a){if(a===void 0)a=r;e[a]=t[r]});var n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.prototype.hasOwnProperty.call(e,r))a(t,e,r);n(t,e);return t};var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});var s=o(r(910));var u=o(r(8600));var l=o(r(8586));var f=o(r(5588));var c=o(r(5704));var d=o(r(5243));var p=i(r(7624));var h=o(r(1428));var v;(function(e){var t=true;var r;var a=0;var n=false;function i(e){n=e}e.setEnable=i;function o(){if(!n)return;if(p.default.type==p.MPType.H5)y();else v()}e.onNewSession=o;function v(){if(!n)return;var e=(new Date).getTime();c.default.setAppStartTime(e);c.default.setAppEndTime(e);if(!d.default.type8Enable)return;u.default.info("session new");var t=h.default.md5Hex("".concat(s.default.gsAppid,"-").concat(s.default.gtcId,"-").concat(e));if(s.default.isFirst==1){var a=E(e,e);a.sessionData=a.sessionStr();a.saveDB()}u.default.info("session new, sessionid=".concat(t," time=").concat(e));r=E(e,e);r.sessionData=r.sessionStr();r.saveDB()}e.onNewSessionOthers=v;function y(){if(!n)return;var e=false;var t=(new Date).getTime();var a=c.default.getAppStartTime();var i=c.default.getAppEndTime();u.default.dev("session compare, st=".concat(a," et=").concat(i," et-st=").concat(i-a," time=").concat(t," time - et=").concat(t-i));if(a==0||i==0||t<i||t-i>d.default.H5Type8Timeout*1e3)e=true;var o=h.default.md5Hex("".concat(s.default.gsAppid,"-").concat(s.default.gtcId,"-").concat(a));if(e){a=t;c.default.setAppStartTime(t);c.default.setAppEndTime(t);u.default.info("session new, sessionid=".concat(o," time=").concat(a))}else u.default.info("session update, sessionid=".concat(o," time=").concat(a));if(!d.default.type8Enable)return;if(s.default.isFirst==1){var l=E(a,t);l.sessionData=l.sessionStr();l.saveDB()}r=E(a,t);r.sessionData=r.sessionStr();r.saveDB()}e.onNewSessionH5=y;function g(){if(!d.default.type8Enable)return;var e=c.default.getAppStartTime();var t=c.default.getAppEndTime();var r=t-e;var a=c.default.minActiveMillis,n=c.default.maxActiveMillis;if(r>0&&r>=a&&r<=n){var i=E(e,t);i.saveDB()}else{u.default.info("session history,  not in [".concat(a,", ").concat(n,"]"));return}}e.makeHistory=g;function m(){if(!n)return;var e=(new Date).getTime();if(d.default.type8Enable){c.default.setAppEndTime(e);var t=r.startTime;var i=e;var s=i-t;var f=c.default.minActiveMillis,h=c.default.maxActiveMillis;if(s>0&&s>=f&&s<=h){u.default.info("session update end time");r.endTime=e;r.sessionData=r.sessionStr();r.saveDB()}else u.default.dev("session update end time failed, ".concat(s," not in [").concat(f,", ").concat(h,"]"));if(p.default.type==p.MPType.H5&&s>h)o()}if(e-a<d.default.type8UploadInterval*1e3)return;a=e;l.default.uploadHistory()}e.onSessionUpdate=m;function E(e,r){var a=new f.default(e);if(s.default.isFirst==1&&t){var n=c.default.getInstallTime();a.installTime=n}t=false;a.endTime=r;a.sessionData=a.sessionStr();return a}})(v||(v={}));t["default"]=v},8943:function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});var n=a(r(5704));var i=a(r(8600));var o=a(r(4172));var s;(function(e){var t;var r=false;function a(e){r=e}e.setEnable=a;function s(){if(!r)return;l();t=setInterval((function(){try{i.default.dev("tick");o.default.onSessionUpdate()}catch(e){i.default.error("tick error",e)}}),n.default.sessionTimerPeriod)}e.start=s;function u(){try{i.default.info("cancel timer");l();t=void 0}catch(e){i.default.error("cancel timer error",e)}}e.cancel=u;function l(){if(t){i.default.info("clear timer");clearInterval(t)}}})(s||(s={}));t["default"]=s},5588:function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});var n=r(6164);var i=a(r(2499));var o=a(r(910));var s=a(r(8600));var u=a(r(7223));var l=a(r(5926));var f=a(r(5704));var c=a(r(1428));var d=1;var p=function(){function e(e){this.installTime=0;this.type=n.Type.Type_8;this.startTime=e;this.endTime=this.startTime;this.sessionData="";this.sessionId=c.default.md5Hex("".concat(o.default.gsAppid,"-").concat(o.default.gtcId,"-").concat(e));this.storageKey="".concat(i.default.KEY_TYPE8_PREFIX,"_").concat(this.startTime,"_").concat(d++);if(e>0)s.default.dev("create type8 sessionId = ".concat(this.sessionId," st=").concat(e));this.systemVersion="";this.sdkVersion="";this.channelId="";this.versionName="";this.userType="";this.networkType="";this.sceneId="";this.uid="";this.oneId=o.default.getOneID();this.cid=f.default.getGTSDKCid()}e.prototype.sessionStr=function(){var e="".concat(this.endTime,"|").concat(this.installTime,"|").concat(this.startTime,"#").concat(this.endTime);return e};e.prototype.saveDB=function(){i.default.setSync(this.storageKey,this.toJson())};e.prototype.removeDB=function(){i.default.removeSync(this.storageKey)};e.prototype.toJson=function(){var e={sessionId:this.sessionId,storageKey:this.storageKey,sessionData:this.sessionData,startTime:this.startTime,endTime:this.endTime,installTime:this.installTime,systemVersion:l.default.osVersion(),sdkVersion:u.default.SDK_VERSION,channelId:l.default.platform(),versionName:l.default.appVersion(),userType:o.default.uid.length>0?"1":"0",networkType:o.default.networkType,sceneId:o.default.meta.current_scenestr,uid:o.default.uid,oneId:o.default.getOneID(),cid:f.default.getGTSDKCid()};return JSON.stringify(e)};e.parseJson=function(t){var r=JSON.parse(t);var a=new e(0);a.installTime=r.installTime;a.startTime=r.startTime;a.endTime=r.endTime;a.sessionData=r.sessionData;a.sessionId=r.sessionId;a.storageKey=r.storageKey;a.systemVersion=r.systemVersion;a.sdkVersion=r.sdkVersion;a.channelId=r.channelId;a.versionName=r.versionName;a.userType=r.userType;a.networkType=r.networkType;a.sceneId=r.sceneId;a.uid=r.uid;a.oneId=r.oneId;a.cid=r.cid;return a};return e}();t["default"]=p},41:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});var r;(function(e){function t(e){if(e===void 0||e===null)return false;else return toString.call(e)=="[object Object]"}e.isObject=t;function r(e){return toString.call(e)=="[object String]"}e.isString=r;function a(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=Math.random()*16|0,r=e==="x"?t:t&3|8;return r.toString(16)}))}e.getUuid=a;function n(e){if(e&&e.getuisid)delete e.getuisid;if(e&&e.getuicid)delete e.getuicid}e.deleteShareQuery=n;function i(e){var t=Object.create(null);e.forEach((function(e,r){t[r]=e}));return t}e.mapToObj=i;function o(e){if(!e)return"";var t="";var r=e.getFullYear();var a=e.getMonth()+1;var n=e.getDate();var i=e.getHours();var o=e.getMinutes();var s=e.getSeconds();t+=r+"-";if(a>=10)t+=a+"-";else t+="0"+a+"-";if(n>=10)t+=n+" ";else t+="0"+n+" ";if(i>=10)t+=i+":";else t+="0"+i+":";if(o>=10)t+=o+":";else t+="0"+o+":";if(s>=10)t+=s;else t+="0"+s;return t}e.formatDate=o;e.Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t="";var r,a,n,i,o,s,u;var l=0;e=this._utf16to8(e);while(l<e.length){r=e.charCodeAt(l++);a=e.charCodeAt(l++);n=e.charCodeAt(l++);i=r>>2;o=(r&3)<<4|a>>4;s=(a&15)<<2|n>>6;u=n&63;if(isNaN(a))s=u=64;else if(isNaN(n))u=64;t=t+this._keyStr.charAt(i)+this._keyStr.charAt(o)+this._keyStr.charAt(s)+this._keyStr.charAt(u)}return t},decode:function(e){var t="";var r,a,n;var i,o,s,u;var l=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(l<e.length){i=this._keyStr.indexOf(e.charAt(l++));o=this._keyStr.indexOf(e.charAt(l++));s=this._keyStr.indexOf(e.charAt(l++));u=this._keyStr.indexOf(e.charAt(l++));r=i<<2|o>>4;a=(o&15)<<4|s>>2;n=(s&3)<<6|u;t+=String.fromCharCode(r);if(s!=64)t+=String.fromCharCode(a);if(u!=64)t+=String.fromCharCode(n)}return this._utf8to16(t)},_utf16to8:function(e){var t,r,a,n;t="";a=e.length;for(r=0;r<a;r++){n=e.charCodeAt(r);if(n>=1&&n<=127)t+=e.charAt(r);else if(n>2047){t+=String.fromCharCode(224|n>>12&15);t+=String.fromCharCode(128|n>>6&63);t+=String.fromCharCode(128|n>>0&63)}else{t+=String.fromCharCode(192|n>>6&31);t+=String.fromCharCode(128|n>>0&63)}}return t},_utf8to16:function(e){var t,r,a,n;var i,o;t="";a=e.length;r=0;while(r<a){n=e.charCodeAt(r++);switch(n>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:t+=e.charAt(r-1);break;case 12:case 13:i=e.charCodeAt(r++);t+=String.fromCharCode((n&31)<<6|i&63);break;case 14:i=e.charCodeAt(r++);o=e.charCodeAt(r++);t+=String.fromCharCode((n&15)<<12|(i&63)<<6|(o&63)<<0);break}}return t}};function s(){document.cookie="gtido_testcookie=1";var e=document.cookie.indexOf("gtido_testcookie=")!==-1;if(e)document.cookie="gtido_testcookie=; expires=Thu, 01 Jan 1970 00:00:00 GMT";return e}e.checkCookieAccess=s;function u(e,t,r){var a="";if(r!==void 0){var n=new Date;n.setTime(n.getTime()+r*24*60*60*1e3);a="; expires=".concat(n.toUTCString())}document.cookie="".concat(e,"=").concat(t).concat(a,"; path=/")}e.setCookie=u;function l(e){var t=e+"=";var r=document.cookie.split(";");for(var a=0;a<r.length;a++){var n=r[a];while(n.charAt(0)==" ")n=n.substring(1,n.length);if(n.indexOf(t)==0){var i=n.substring(t.length,n.length);return i}}return null}e.getCookie=l;function f(e){u(e,"",-1)}e.deleteCookie=f})(r||(r={}));t["default"]=r},7624:function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.MPType=void 0;var n=a(r(8600));var i=a(r(3034));var o=a(r(9743));var s=a(r(5607));var u=a(r(3686));var l=a(r(41));var f;(function(e){e[e["Weixin"]=1]="Weixin";e[e["Alipay"]=2]="Alipay";e[e["Uni"]=3]="Uni";e[e["TT"]=4]="TT";e[e["H5"]=5]="H5"})(f=t.MPType||(t.MPType={}));var c;(function(e){var t;var r;var a;var c;var d={h5:{type:f.H5,typePrefix:"H5",deviceImpl:i.default,storageImpl:o.default,httpImpl:s.default,eventImp:u.default}};var p="";function h(){try{if(typeof uni!="undefined")switch(uni.getSystemInfoSync().uniPlatform){case"web":p="h5";break}}catch(e){console.log("init am error: ".concat(e))}if(!p)if(typeof window!="undefined")p="h5";if(p=="h5"&&!l.default.checkCookieAccess())n.default.error("无法访问cookie，请设置允许访问后才能正常使用SDK！！");if(!p)throw new Error("init am error: no api impl found");else{var i=d[p];e.type=i.type;e.typePrefix=i.typePrefix;n.default.info("platform use ".concat(p," api"));c=new i.eventImp;t=new i.deviceImpl;r=new i.storageImpl;a=new i.httpImpl}}function v(){if(!t)h();return t}e.getDevice=v;function y(){if(!c)h();return c}e.getEvent=y;function g(){if(!r)h();return r}e.getStorage=g;function m(){if(!a)h();return a}e.getHttpClient=m})(c||(c={}));t["default"]=c},5926:function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});var n=a(r(7624));var i;(function(e){function t(){return n.default.getDevice().clientType()}e.clientType=t;function r(){return n.default.getDevice().osVersion()}e.osVersion=r;function a(){return n.default.getDevice().sdkVersion()}e.sdkVersion=a;function i(){return n.default.getDevice().platform()}e.platform=i;function o(){return n.default.getDevice().appVersion()}e.appVersion=o;function s(){return n.default.getDevice().model()}e.model=s;function u(){return n.default.getDevice().brand()}e.brand=u;function l(){return n.default.getDevice().platformId()}e.platformId=l;function f(){return n.default.getDevice().language()}e.language=f;function c(){var e=n.default.getDevice().userAgent;if(e)return e();return""}e.userAgent=c;function d(){return n.default.getDevice().notificationEnable()}e.notificationEnable=d;function p(){try{var e=n.default.getDevice().screenWidth();return e?parseInt(e):null}catch(e){}return null}e.screenWidth=p;function h(){try{var e=n.default.getDevice().screenHeight();return e?parseInt(e):null}catch(e){}return null}e.screenHeight=h;function v(e){n.default.getDevice().getNetworkType(e)}e.getNetworkType=v;function y(e){n.default.getDevice().onNetworkStatusChange(e)}e.onNetworkStatusChange=y;function g(){return n.default.getDevice().getPlatformInfo()}e.getPlatformInfo=g})(i||(i={}));t["default"]=i},2499:function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});var n=a(r(7624));var i;(function(e){e.KEY_PREFIX="getui_ido_";e.KEY_GTCID=e.KEY_PREFIX+"gtcid";e.KEY_APPID=e.KEY_PREFIX+"gsappid";e.KEY_ONEID="getui_oneid";e.KEY_DYC_CONFIG=e.KEY_PREFIX+"dyc_config";e.KEY_USERID=e.KEY_PREFIX+"userid";e.KEY_LAST_BIND_TIME=e.KEY_PREFIX+"last_bind_time";e.KEY_INSTALL_TIME=e.KEY_PREFIX+"install_time";e.KEY_LAST_APP_START_TIME=e.KEY_PREFIX+"last_app_start_time";e.KEY_LAST_APP_END_TIME=e.KEY_PREFIX+"last_app_end_time";e.KEY_TYPE8_PREFIX=e.KEY_PREFIX+"type8";e.KEY_TYPE13_PREFIX=e.KEY_PREFIX+"type13";e.KEY_TYPE14_PREFIX=e.KEY_PREFIX+"type14";e.KEY_TYPE8_UPLOAD_TIME=e.KEY_PREFIX+"type8_upload_time";e.KEY_TYPE13_UPLOAD_TIME=e.KEY_PREFIX+"type13_upload_time";e.KEY_TYPE14_UPLOAD_TIME=e.KEY_PREFIX+"type14_upload_time";e.GTSDK_CID="getui_cid";function t(e){n.default.getStorage().set(e)}e.set=t;function r(e,t){n.default.getStorage().setSync(e,t)}e.setSync=r;function a(e){n.default.getStorage().get(e)}e.get=a;function i(e,t){var r=n.default.getStorage().getSync(e);return r?r:t}e.getSync=i;function o(e){n.default.getStorage().removeSync(e)}e.removeSync=o;function s(e){n.default.getStorage().getStorageInfo(e)}e.getStorageInfo=s})(i||(i={}));t["default"]=i},3034:function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});var n=a(r(5243));var i=function(){function e(){}e.prototype.getLazyActions=function(){var e=window;if(e.GSIDOLazyActions&&Array.isArray(e.GSIDOLazyActions))return e.GSIDOLazyActions;else return[]};e.prototype.getPlatformInfo=function(){return{envVersion:"",miniPlatformVersion:"",platformVersion:"",miniVersion:""}};e.prototype.clientType=function(){var e=window.navigator.userAgent.toLowerCase();var t=new Map([["android","Android"],["ios","\\biPhone.*Mobile|\\biPod|\\biPad|AppleCoreMedia"]]);for(var r=0,a=Array.from(t.keys());r<a.length;r++){var n=a[r];var i=t.get(n);var o=this.getRegExp(i);var s=o.exec(e);if(s)return n}if(e.indexOf("windows")>0||e.indexOf("win32")>0||e.indexOf("win64")>0)return"windows";if(e.indexOf("macintosh")>0||e.indexOf("mac os")>0)return"mac os";if(e.indexOf("linux")>0)return"linux";if(e.indexOf("unix")>0)return"linux";return"other"};e.prototype.osVersion=function(){var e=window.navigator.userAgent;var t=new Map([["android","Android [VER]"],["ios"," \\bi?OS\\b [VER][ ;]{1}"]]);var r=this.clientType();var a=t.get(r);if(!a)return"";var n=this.getRegExp(a);var i=n.exec(e);if(i!=null)return r+" "+i[1];var o=window.navigator.userAgent.toLowerCase();var s=o.substring(e.indexOf(";")+1).trim();if(s.indexOf(";")>0)return s.substring(0,s.indexOf(";")).trim();return s.substring(0,s.indexOf(")")).trim()};e.prototype.sdkVersion=function(){return""};e.prototype.model=function(){return""};e.prototype.brand=function(){return""};e.prototype.platform=function(){return"H5"};e.prototype.appVersion=function(){return""};e.prototype.platformId=function(){return""};e.prototype.language=function(){return window.navigator.language};e.prototype.userAgent=function(){return window.navigator.userAgent};e.prototype.notificationEnable=function(){return""};e.prototype.screenWidth=function(){return""};e.prototype.screenHeight=function(){return""};e.prototype.getNetworkType=function(e){var t;(t=e.success)===null||t===void 0||t.call(e.success,{networkType:window.navigator.onLine?"unknown":"none"})};e.prototype.onNetworkStatusChange=function(e){};e.prototype.getRegExp=function(e){var t=e;var r=t.indexOf("[VER]");if(r>=0)t=t.substring(0,r)+"([\\w._\\+]+)"+t.substring(r+5);return new RegExp(t,"i")};e.prototype.getType8Timeout=function(){return n.default.H5Type8Timeout};return e}();t["default"]=i},3686:function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});var n=a(r(910));var i=a(r(8600));var o=function(){function e(){}e.prototype.reloadPopStateFun=function(t){var r;if(!t.isTrusted)return;(r=e.callbackFun)===null||r===void 0||r.call(e)};e.prototype.load=function(t){e.callbackFun=t;window.addEventListener("popstate",this.reloadPopStateFun)};e.prototype.unLoad=function(){e.callbackFun=null;window.removeEventListener("popstate",this.reloadPopStateFun)};e.callbackFun=null;return e}();var s=function(){function e(){}e.prototype.reloadPushStateFun=function(){var t,r;var a=[];for(var n=0;n<arguments.length;n++)a[n]=arguments[n];(t=e.originHistoryPushState)===null||t===void 0||t.apply(window.history,a);(r=e.callbackFun)===null||r===void 0||r.call(e)};e.prototype.load=function(t){e.callbackFun=t;e.originHistoryPushState=window.history.pushState;window.history.pushState=this.reloadPushStateFun};e.prototype.unLoad=function(){e.callbackFun=null;window.history.pushState=e.originHistoryPushState};e.callbackFun=null;return e}();var u=function(){function e(){}e.prototype.reloadReplaceStateFun=function(){var t,r;var a=[];for(var n=0;n<arguments.length;n++)a[n]=arguments[n];(t=e.originHistoryReplaceState)===null||t===void 0||t.apply(window.history,a);(r=e.callbackFun)===null||r===void 0||r.call(e)};e.prototype.load=function(t){e.callbackFun=t;e.originHistoryReplaceState=window.history.replaceState;window.history.replaceState=this.reloadReplaceStateFun};e.prototype.unLoad=function(){e.callbackFun=null;window.history.replaceState=e.originHistoryReplaceState};e.callbackFun=null;return e}();var l=function(){function e(){this.proxys=[new o,new s,new u]}e.prototype.observer=function(e){this.proxys.forEach((function(t){t.load(e)}))};e.prototype.unObserver=function(){this.proxys.forEach((function(e){e.unLoad()}))};return e}();var f=function(){function e(){this.lastPagePath="";this.lastPageTitle="";this.refreshTitleAndTitle();this.urlChangeProxy=new l}e.prototype.refreshTitleAndTitle=function(){var e,t;this.lastPagePath=(e=window.location.href)!==null&&e!==void 0?e:"";this.lastPageTitle=(t=document.title)!==null&&t!==void 0?t:""};e.prototype.invokeCallback=function(e){var t=[];for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];i.default.dev(t);e({})};e.prototype.getPagePath=function(){return this.lastPagePath};e.prototype.getPageTitle=function(){return this.lastPageTitle};e.prototype.canSharereflow=function(){return false};e.prototype.onStart=function(e){var t=this;n.default.meta.last_ref_path=document.referrer;e=c(e);e.onAppLaunch("",t.getPagePath(),{});n.default.meta.ref_path=document.referrer;(function r(){i.default.dev("H5Event.load");t.refreshTitleAndTitle();t.invokeCallback(e.onAppShow,"H5Event.onAppShow");t.invokeCallback(e.onPageLoad,"H5Event.onPageLoad");t.invokeCallback(e.onPageShow,"H5Event.onPageShow");e.onPageView&&t.invokeCallback(e.onPageView,"H5Event.onPageView")})();document.addEventListener("visibilitychange",(function(r){i.default.dev("H5Event.visibilitychange",document.visibilityState,r);if(document.visibilityState==="visible"){t.invokeCallback(e.onAppShow,"H5Event.onAppShow");t.invokeCallback(e.onPageShow,"H5Event.onPageShow")}else{t.invokeCallback(e.onPageHide,"H5Event.onPageHide");t.invokeCallback(e.onAppHide,"H5Event.onAppHide")}}));this.urlChangeProxy.observer((function(){setTimeout((function(){t.invokeCallback(e.onPageHide,"H5Event.onPageHide-urlChangeProxy",t.getPageTitle(),t.getPagePath());t.refreshTitleAndTitle();e.onPageView&&t.invokeCallback(e.onPageView,"H5Event.onPageView-urlChangeProxy",t.getPageTitle(),t.getPagePath())}))}))};return e}();function c(e){var t=Object.assign({},e,{onPageView:function(t){i.default.dev("sys pageView");e.onPageShow(t)},onPageShow:function(e){i.default.dev("sys pageShow");n.default.meta.page_show_time=(new Date).getTime()}});return t}t["default"]=f},5607:function(e,t){"use strict";var r=this&&this.__assign||function(){r=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n))e[n]=t[n]}return e};return r.apply(this,arguments)};var a=this&&this.__awaiter||function(e,t,r,a){function n(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,i){function o(e){try{u(a.next(e))}catch(e){i(e)}}function s(e){try{u(a["throw"](e))}catch(e){i(e)}}function u(e){e.done?r(e.value):n(e.value).then(o,s)}u((a=a.apply(e,t||[])).next())}))};var n=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,n,i,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(s){if(a)throw new TypeError("Generator is already executing.");while(o&&(o=0,s[0]&&(r=0)),r)try{if(a=1,n&&(i=s[0]&2?n["return"]:s[0]?n["throw"]||((i=n["return"])&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;if(n=0,i)s=[s[0]&2,i.value];switch(s[0]){case 0:case 1:i=s;break;case 4:r.label++;return{value:s[1],done:false};case 5:r.label++;n=s[1];s=[0];continue;case 7:s=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!i||s[1]>i[0]&&s[1]<i[3])){r.label=s[1];break}if(s[0]===6&&r.label<i[1]){r.label=i[1];i=s;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(s);break}if(i[2])r.ops.pop();r.trys.pop();continue}s=t.call(e,r)}catch(e){s=[6,e];n=0}finally{a=i=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:true}}};Object.defineProperty(t,"__esModule",{value:true});var i;var o=function(){function e(){}e.getXMLHeaderObj=function(e){var t={};try{var r=e.getAllResponseHeaders();var a=r.trim().split(/[\r\n]+/);a.forEach((function(e){var r=e.split(": ");var a=r.shift();var n=r.join(": ");if(a)t[a]=n}))}catch(e){console.error("parse header",e)}return t};e.setXMLHttp=function(t){var r=new XMLHttpRequest;r.open("POST",t.url,true);r.responseType="arraybuffer";r.timeout=t.timeout?t.timeout:1e4;var a=t.header;if(typeof a==="object"&&a!==null)Object.keys(a).forEach((function(e){var t=a[e];if(t)r.setRequestHeader(e,t)}));r.onload=function(){var a,n;if(r.status>=200&&r.status<300)(a=t.success)===null||a===void 0||a.call(t,{data:r.response,statusCode:r.status,errMsg:r.statusText,header:e.getXMLHeaderObj(r)});else(n=t.fail)===null||n===void 0||n.call(t,{data:r.response,statusCode:r.status,errMsg:r.statusText,header:e.getXMLHeaderObj(r)})};r.send(t.data)};e.setFetchKeepAlive=function(e){var t=this;return fetch(e.url,{method:"POST",body:e.data,headers:r({},e.header),keepalive:true}).then((function(r){return a(t,void 0,void 0,(function(){var t,a;var i,o;return n(this,(function(n){switch(n.label){case 0:t={};r.headers.forEach((function(e,r){t[r]=e}));return[4,r.arrayBuffer()];case 1:a=n.sent();if(r.status>=200&&r.status<300)(i=e.success)===null||i===void 0||i.call(e,{data:a,statusCode:r.status,errMsg:r.statusText,header:t});else(o=e.fail)===null||o===void 0||o.call(e,{data:a,statusCode:r.status,errMsg:r.statusText,header:t});return[2]}}))}))})).catch((function(r){return a(t,void 0,void 0,(function(){var t;return n(this,(function(a){(t=e.fail)===null||t===void 0||t.call(e,{undefined:void 0,statusCode:400,errMsg:"网络不可用",header:""});throw r}))}))}))};e.tryFetchKeepAlive=function(t){i=false;return e.setFetchKeepAlive(t).then((function(){i=true})).catch((function(){i=false}))};e.prototype.post=function(t){var r="keepalive"in Request.prototype;if(r&&typeof i==="undefined")e.tryFetchKeepAlive(t).catch((function(){}));else if(r&&i)e.setFetchKeepAlive(t).catch((function(){}));else e.setXMLHttp(t)};return e}();t["default"]=o;function s(e){throw new Error("Function not implemented.")}},9743:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function e(){}e.prototype.set=function(e){var t;window.localStorage.setItem(e.key,e.data);(t=e.success)===null||t===void 0||t.call(e.success,"")};e.prototype.setSync=function(e,t){window.localStorage.setItem(e,t)};e.prototype.get=function(e){var t;var r=window.localStorage.getItem(e.key);(t=e.success)===null||t===void 0||t.call(e.success,r)};e.prototype.getSync=function(e){return window.localStorage.getItem(e)};e.prototype.removeSync=function(e){window.localStorage.removeItem(e)};e.prototype.getStorageInfo=function(e){var t;var r=Object.keys(localStorage);var a={keys:r};(t=e.success)===null||t===void 0||t.call(e,a)};return e}();t["default"]=r},7223:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});var r={publicKey:"MHwwDQYJKoZIhvcNAQEBBQADawAwaAJhAMltTBkk0HDen5gSn2gX5n4EoBlaQWc0S+d2X6BEPBWpktX8IJk14QbVRFAB2YJlM7kkq+g2jaDVXo+rEq539xJhBPId7hf1a3hhk/qOF0Z4n8pI0URBEGK/IeJr9Ktb8wIDAQAB",keyId:"fe078ec968ebae837c563bbc73c4672d",psPublicKey:"MHwwDQYJKoZIhvcNAQEBBQADawAwaAJhAMltTBkk0HDen5gSn2gX5n4EoBlaQWc0S+d2X6BEPBWpktX8IJk14QbVRFAB2YJlM7kkq+g2jaDVXo+rEq539xJhBPId7hf1a3hhk/qOF0Z4n8pI0URBEGK/IeJr9Ktb8wIDAQAB",psKeyId:"fe078ec968ebae837c563bbc73c4672d"};var a={publicKey:"MHwwDQYJKoZIhvcNAQEBBQADawAwaAJhAJp1rROuvBF7sBSnvLaesj2iFhMcY8aXyLvpnNLKs2wjL3JmEnyr++SlVa35liUlzi83tnAFkn3A9GB7pHBNzawyUkBh8WUhq5bnFIkk2RaDa6+5MpG84DEv52p7RR+aWwIDAQAB",keyId:"69d747c4b9f641baf4004be4297e9f3b",psPublicKey:"MHwwDQYJKoZIhvcNAQEBBQADawAwaAJhAJp1rROuvBF7sBSnvLaesj2iFhMcY8aXyLvpnNLKs2wjL3JmEnyr++SlVa35liUlzi83tnAFkn3A9GB7pHBNzawyUkBh8WUhq5bnFIkk2RaDa6+5MpG84DEv52p7RR+aWwIDAQAB",psKeyId:"69d747c4b9f641baf4004be4297e9f3b"};var n;(function(e){e.BIND_PATH="/iop-ps/external/bd";e.TYPE_PATH="/iop-ps/external/bt";e.EVENT_PATH="/iop-ps/external/ued";e.PROFILE_EVENT_PATH="/iop-ps/external/uud";e.API_Bind="/sdk/v2/bd";e.API_Type8="/sdk/v2/bbt";e.API_Type13="/sdk/v2/ued";e.API_Type14="/sdk/v2/uud";e.ASSEMBLE_TIME="assemble(1735204266333)";e.ENV="production";e.KEY_ENV="release";e.VERSION="".concat("1.0.7",".1");e.SDK_VERSION="GSIDO-MP-".concat(e.VERSION);e.CONFIG_SDK_VERSION=e.SDK_VERSION;e.ENV_DEVELOPMENT="development";e.ENV_TEST="test";e.ENV_PRODUCTION="production";e.IS_PRODUCTION="production"===e.ENV_PRODUCTION;e.SERVER_PUBLIC_KEY=e.IS_PRODUCTION?a.publicKey:r.publicKey;e.SERVER_PUBLIC_KEY_ID=e.IS_PRODUCTION?a.keyId:r.keyId;e.PHONE_SERVER_PUBLIC_KEY=a.psPublicKey;e.PHONE_SERVER_PUBLIC_KEY_ID=a.psKeyId})(n||(n={}));t["default"]=n},5243:function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});var n=a(r(910));var i=a(r(7624));var o=a(r(2499));var s=a(r(8784));var u=a(r(8600));var l=a(r(7223));var f;(function(e){var t;(function(e){var t;(function(e){e.BLOCK_EVENTS="sdk.ido.b.events_inner";e.MAX_COUNT="sdk.ido.event.db.size"})(t=e.Key||(e.Key={}));var r;(function(e){e.BLOCK_EVENTS="";e.MAX_COUNT=200})(r=e.Value||(e.Value={}))})(t=e.EVENT||(e.EVENT={}));var r;(function(e){var t;(function(e){e.UPLOAD_INTERVAL="sdk.ido.bind.interval";e.ENCRYPT_ENABLE="sdk.ido.bind.encrypt.enable";e.DAY_BOUNDARY="sdk.ido.bind.day.boundary"})(t=e.Key||(e.Key={}));var r;(function(e){e.UPLOAD_INTERVAL=86400;e.ENCRYPT_ENABLE=true;e.DAY_BOUNDARY="600,3600"})(r=e.Value||(e.Value={}))})(r=e.Bind||(e.Bind={}));var a;(function(e){var t;(function(e){e.ENABLE="sdk.ido.type8.enable";e.TIMEOUT="sdk.ido.type8.timeout";e.ENCRYPT_ENABLE="sdk.ido.type8.encrypt.enable";e.UPLOAD_INTERVAL="sdk.ido.type8.upload.interval";e.UPLOAD_PATCH_SIZE="sdk.ido.type8.patch.size";e.H5TIMEOUT="sdk.ido.h5type8.timeout"})(t=e.Key||(e.Key={}));var r;(function(e){e.ENABLE=true;e.TIMEOUT=30;e.ENCRYPT_ENABLE=true;e.UPLOAD_INTERVAL=10;e.UPLOAD_PATCH_SIZE=5;e.H5TIMEOUT=30*60})(r=e.Value||(e.Value={}))})(a=e.T8||(e.T8={}));var f;(function(e){var t;(function(e){e.ENABLE="sdk.ido.type11.enable";e.UPLOAD_INTERVAL="sdk.ido.type11.upload.interval";e.UPLOAD_PATCH_SIZE="sdk.ido.type11.patch.size";e.ENCRYPT_ENABLE="sdk.ido.type11.encrypt.enable"})(t=e.Key||(e.Key={}));var r;(function(e){e.ENABLE=true;e.UPLOAD_INTERVAL=10;e.UPLOAD_PATCH_SIZE=5;e.ENCRYPT_ENABLE=true})(r=e.Value||(e.Value={}))})(f=e.T11||(e.T11={}));var c;(function(e){var t;(function(e){e.ENABLE="sdk.ido.type13.enable";e.UPLOAD_INTERVAL="sdk.ido.type13.upload.interval";e.FORCE_UPLOAD_SIZE="sdk.ido.type13.forceUpload.size";e.UPLOAD_PATCH_SIZE="sdk.ido.type13.patch.size";e.ENCRYPT_ENABLE="sdk.ido.type13.encrypt.enable"})(t=e.Key||(e.Key={}));var r;(function(e){e.ENABLE=true;e.UPLOAD_INTERVAL=10;e.FORCE_UPLOAD_SIZE=30;e.UPLOAD_PATCH_SIZE=20;e.ENCRYPT_ENABLE=true})(r=e.Value||(e.Value={}))})(c=e.T13||(e.T13={}));var d;(function(e){var t;(function(e){e.ENABLE="sdk.ido.type14.enable";e.UPLOAD_INTERVAL="sdk.ido.type14.upload.interval";e.FORCE_UPLOAD_SIZE="sdk.ido.type14.forceUpload.size";e.UPLOAD_PATCH_SIZE="sdk.ido.type14.patch.size";e.ENCRYPT_ENABLE="sdk.ido.type14.encrypt.enable"})(t=e.Key||(e.Key={}));var r;(function(e){e.ENABLE=true;e.UPLOAD_INTERVAL=5;e.FORCE_UPLOAD_SIZE=5;e.UPLOAD_PATCH_SIZE=20;e.ENCRYPT_ENABLE=true})(r=e.Value||(e.Value={}))})(d=e.T14||(e.T14={}));e.type13UploadInterval=10;e.type13ForceUploadSize=20;e.type14UploadInterval=5;e.type14ForceUploadSize=5;e.type8PatchUploadCount=5;e.type13PatchUploadCount=20;e.type14PatchUploadCount=20;e.type8UploadInterval=10;e.type8Timeout=30;e.H5Type8Timeout=30*60;e.typeDBMaxCount=200;e.type8Enable=true;e.type13Enable=true;e.type14Enable=true;e.bindEncrypt=true;e.type8Encrypt=true;e.type11Encrypt=true;e.type13Encrypt=true;e.type14Encrypt=true;e.type8StrategyType=0;e.type11StrategyType=0;e.type8StrategyInfo="";e.type11StrategyInfo="";e.bindTimeInterval=24*3600;e.bindDayBoundary="600,3600";e.blockEventsStr="";e.blockEventsList=[];e.bindDayBoundaryMin=600;e.bindDayBoundaryMax=3600;function p(e){var t=null;try{var r=i.default.getStorage().getSync(o.default.KEY_DYC_CONFIG);if(r){t=JSON.parse(r);h(t["config"])}}catch(e){u.default.error("fetchConfig old error : ",e)}u.default.dev("fetchConfig old : ",t);try{if(!t||(new Date).getTime()-t["fetchTime"]>=e){var a={action:"sdkconfig",cid:n.default.gtcId,appid:n.default.gsAppid,sdk_version:l.default.SDK_VERSION,tag:t?t["tag"]:""};var f="https://h5c-ido.getui.net/api.php?format=json&p=1";var c=JSON.stringify(a);u.default.dev("fetchConfig url : "+f);u.default.dev("fetchConfig request : "+c);var d=new s.default(f);var p=d.e(c);var v=d.appendHeaders({"Content-Type":"application/json; charset=utf-8"});var y={url:f,data:p,header:v,success:function(e){try{var r=e;u.default.dev("fetchConfig http success : "+r.errMsg+"  "+r.statusCode);if(r.statusCode==200){var a=d.d(r.header,r.data);var s=JSON.parse(a);u.default.dev("fetchConfig decode success : ",s);if(s["result"]==="ok")if(!s["tag"]&&t){t["fetchTime"]=(new Date).getTime();i.default.getStorage().setSync(o.default.KEY_DYC_CONFIG,JSON.stringify(t))}else{s["fetchTime"]=(new Date).getTime();s["version"]=l.default.SDK_VERSION;s["appid"]=n.default.gsAppid;i.default.getStorage().setSync(o.default.KEY_DYC_CONFIG,JSON.stringify(s));h(s["config"])}}else u.default.error("fetchConfig decode failed : ".concat({code:r.statusCode,message:r.errMsg}))}catch(e){u.default.error("fetchConfig error : ",e)}},fail:function(e){u.default.error("fetchConfig error : ",e)}};i.default.getHttpClient().post(y)}}catch(e){u.default.error("fetchConfig error : ",e)}return t}e.fetch=p;function h(n){e.bindEncrypt=v(r.Key.ENCRYPT_ENABLE,r.Value.ENCRYPT_ENABLE,n);e.bindTimeInterval=y(r.Key.UPLOAD_INTERVAL,r.Value.UPLOAD_INTERVAL,n);e.type8Enable=v(a.Key.ENABLE,a.Value.ENABLE,n);e.type8Encrypt=v(a.Key.ENCRYPT_ENABLE,a.Value.ENCRYPT_ENABLE,n);e.type8PatchUploadCount=y(a.Key.UPLOAD_PATCH_SIZE,a.Value.UPLOAD_PATCH_SIZE,n);e.type8UploadInterval=y(a.Key.UPLOAD_INTERVAL,a.Value.UPLOAD_INTERVAL,n);e.type8Timeout=y(a.Key.TIMEOUT,a.Value.TIMEOUT,n);e.H5Type8Timeout=y(a.Key.H5TIMEOUT,a.Value.H5TIMEOUT,n);e.type11Encrypt=v(f.Key.ENCRYPT_ENABLE,f.Value.ENCRYPT_ENABLE,n);e.type13Enable=v(c.Key.ENABLE,c.Value.ENABLE,n);e.type13Encrypt=v(c.Key.ENCRYPT_ENABLE,c.Value.ENCRYPT_ENABLE,n);e.type13PatchUploadCount=y(c.Key.UPLOAD_PATCH_SIZE,c.Value.UPLOAD_PATCH_SIZE,n);e.type13ForceUploadSize=y(c.Key.FORCE_UPLOAD_SIZE,c.Value.FORCE_UPLOAD_SIZE,n);e.type13UploadInterval=y(c.Key.UPLOAD_INTERVAL,c.Value.UPLOAD_INTERVAL,n);e.type14Enable=v(d.Key.ENABLE,d.Value.ENABLE,n);e.type14Encrypt=v(d.Key.ENCRYPT_ENABLE,d.Value.ENCRYPT_ENABLE,n);e.type14PatchUploadCount=y(d.Key.UPLOAD_PATCH_SIZE,d.Value.UPLOAD_PATCH_SIZE,n);e.type14ForceUploadSize=y(d.Key.FORCE_UPLOAD_SIZE,d.Value.FORCE_UPLOAD_SIZE,n);e.type14UploadInterval=y(d.Key.UPLOAD_INTERVAL,d.Value.UPLOAD_INTERVAL,n);e.typeDBMaxCount=y(t.Key.MAX_COUNT,t.Value.MAX_COUNT,n);e.blockEventsStr=g(t.Key.BLOCK_EVENTS,t.Value.BLOCK_EVENTS,n);var i=e.blockEventsStr.split("|").filter((function(e){return e.trim()!==""}));e.blockEventsList=i;e.bindDayBoundary=g(r.Key.DAY_BOUNDARY,r.Value.DAY_BOUNDARY,n);var i=e.bindDayBoundary.split(",").filter((function(e){return e.trim()!==""}));if(i.length==2){var o=parseInt(i[0]);if(!isNaN(o))e.bindDayBoundaryMin=o;var s=parseInt(i[1]);if(!isNaN(s))e.bindDayBoundaryMax=s}try{var l={};for(var p in e)if(Object.prototype.hasOwnProperty.call(e,p)){var h=e[p];var m=typeof h;if(m==="boolean"||m==="number"||m==="string")l[p]=h}u.default.dev("dyc config:",l)}catch(e){}}function v(e,t,r){try{var a=r[e];if(a)return a=="true"}catch(e){}return t}function y(e,t,r){try{var a=r[e];if(a)return Number(a)}catch(e){}return t}function g(e,t,r){try{var a=r[e];if(a)return String(a)}catch(e){}return t}function m(){try{i.default.getStorage().setSync(o.default.KEY_DYC_CONFIG,null);u.default.dev("clear fetchConfig")}catch(e){}}e.clear=m})(f||(f={}));t["default"]=f},5704:function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(a===void 0)a=r;var n=Object.getOwnPropertyDescriptor(t,r);if(!n||("get"in n?!t.__esModule:n.writable||n.configurable))n={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,n)}:function(e,t,r,a){if(a===void 0)a=r;e[a]=t[r]});var n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.prototype.hasOwnProperty.call(e,r))a(t,e,r);n(t,e);return t};var o=this&&this.__awaiter||function(e,t,r,a){function n(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,i){function o(e){try{u(a.next(e))}catch(e){i(e)}}function s(e){try{u(a["throw"](e))}catch(e){i(e)}}function u(e){e.done?r(e.value):n(e.value).then(o,s)}u((a=a.apply(e,t||[])).next())}))};var s=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,n,i,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(s){if(a)throw new TypeError("Generator is already executing.");while(o&&(o=0,s[0]&&(r=0)),r)try{if(a=1,n&&(i=s[0]&2?n["return"]:s[0]?n["throw"]||((i=n["return"])&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;if(n=0,i)s=[s[0]&2,i.value];switch(s[0]){case 0:case 1:i=s;break;case 4:r.label++;return{value:s[1],done:false};case 5:r.label++;n=s[1];s=[0];continue;case 7:s=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!i||s[1]>i[0]&&s[1]<i[3])){r.label=s[1];break}if(s[0]===6&&r.label<i[1]){r.label=i[1];i=s;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(s);break}if(i[2])r.ops.pop();r.trys.pop();continue}s=t.call(e,r)}catch(e){s=[6,e];n=0}finally{a=i=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:true}}};var u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});var l=r(6164);var f=u(r(41));var c=i(r(7624));var d=u(r(2499));var p=u(r(8600));var h=u(r(7223));var v=u(r(5243));var y;(function(e){e.sessionTimeoutMillis=-1;e.minActiveMillis=1e3;e.maxActiveMillis=12*60*60*1e3;e.serverHost=h.default.IS_PRODUCTION?"https://h5-ido.getui.net":"http://192.168.11.253:19336";e.sessionTimerPeriod=5*1e3;e.eventUploadInterval=10*1e3;e.eventForceUploadSize=30;e.profileUploadInterval=5*1e3;e.profileForceUploadSize=5;e.syncGenerateGtcid=false;function t(){var e=d.default.getSync(d.default.KEY_APPID,"");return e}e.getGsAppId=t;function r(e){d.default.setSync(d.default.KEY_APPID,e)}e.setGsAppId=r;function a(){var e=d.default.getSync(d.default.KEY_USERID,"");return e}e.getUserId=a;function n(e){d.default.setSync(d.default.KEY_USERID,e)}e.setUserId=n;function i(){var e=d.default.getSync(d.default.KEY_LAST_BIND_TIME,0);return e}e.getLastBindTime=i;function u(e){d.default.setSync(d.default.KEY_LAST_BIND_TIME,e)}e.setLastBindTime=u;function y(){if(c.default.type==c.MPType.H5){var e=f.default.getCookie(d.default.KEY_LAST_APP_START_TIME)||"0";var t=parseInt(e,0);return t}else{var t=d.default.getSync(d.default.KEY_LAST_APP_START_TIME,0);return t}}e.getAppStartTime=y;function g(e){if(c.default.type==c.MPType.H5)f.default.setCookie(d.default.KEY_LAST_APP_START_TIME,e+"");else d.default.setSync(d.default.KEY_LAST_APP_START_TIME,e)}e.setAppStartTime=g;function m(){if(c.default.type==c.MPType.H5){var e=parseInt(f.default.getCookie(d.default.KEY_LAST_APP_END_TIME)||"0");return e}else{var e=d.default.getSync(d.default.KEY_LAST_APP_END_TIME,0);return e}}e.getAppEndTime=m;function E(e){if(c.default.type==c.MPType.H5)f.default.setCookie(d.default.KEY_LAST_APP_END_TIME,e+"");else d.default.setSync(d.default.KEY_LAST_APP_END_TIME,e)}e.setAppEndTime=E;function T(){var e=d.default.getSync(d.default.KEY_INSTALL_TIME,0);return Number(e)}e.getInstallTime=T;function S(e){d.default.setSync(d.default.KEY_INSTALL_TIME,e)}e.setInstallTime=S;var b=0;var C=0;var I=0;function w(){return b}e.getType8UploadTime=w;function _(e){b=e}e.setType8UploadTime=_;function B(){return C}e.getType13UploadTime=B;function A(e){C=e}e.setType13UploadTime=A;function P(){return I}e.getType14UploadTime=P;function k(e){I=e}e.setType14UploadTime=k;function N(){var e=d.default.getSync(d.default.KEY_GTCID,"");return e}e.getGtcid=N;function D(e){d.default.set({key:d.default.KEY_GTCID,data:e})}e.setGtcid=D;function L(){var e=d.default.getSync(d.default.GTSDK_CID,"");return e}e.getGTSDKCid=L;function R(){return o(this,void 0,void 0,(function(){return s(this,(function(e){return[2,new Promise((function(e,t){var r=new Map;var a=0;d.default.getStorageInfo({success:function(t){try{var a=t.keys;for(var n=0,i=a;n<i.length;n++){var o=i[n];if(o.startsWith(d.default.KEY_PREFIX))d.default.removeSync(o)}}catch(e){p.default.error("deleteAllStorage fail",e)}e(r)}})}))]}))}))}e.deleteAllStorage=R;function U(e,t){return o(this,void 0,void 0,(function(){return s(this,(function(r){return[2,new Promise((function(r,a){var n=new Map;d.default.getStorageInfo({success:function(a){try{var i=a.keys;i=i.filter((function(t){if(e==l.Type.Type_14&&t.startsWith(d.default.KEY_TYPE14_PREFIX)||e==l.Type.Type_13&&t.startsWith(d.default.KEY_TYPE13_PREFIX)||e==l.Type.Type_8&&t.startsWith(d.default.KEY_TYPE8_PREFIX))return true;return false}));p.default.dev("getPatch keys: ",i);var o=i.slice(0,t);for(var s=0,u=o;s<u.length;s++){var f=u[s];var c=d.default.getSync(f,void 0);if(c!=void 0&&c!="")n.set(f,c)}var h=v.default.typeDBMaxCount;var y=i.length;if(y>h){var g=i.slice(0,i.length-h);p.default.dev("getPatch delete: ".concat(g," max: ").concat(h));for(var m=0,E=g;m<E.length;m++){var f=E[m];d.default.removeSync(f)}}}catch(e){p.default.error("getPatch fail",e)}r(n)}})}))]}))}))}e.getPatch=U})(y||(y={}));t["default"]=y},5715:function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});var n=a(r(7223));var i=a(r(9547));var o=a(r(1428));var s=a(r(910));var u=function(){function e(){this.SERVER_PUBLIC_KEY="-----BEGIN PUBLIC KEY-----".concat(n.default.SERVER_PUBLIC_KEY,"-----END PUBLIC KEY-----");this.SERVER_PUBLIC_KEY_ID=n.default.SERVER_PUBLIC_KEY_ID;var e=i.default.pki.publicKeyFromPem(this.SERVER_PUBLIC_KEY);this.aesKey=i.default.random.getBytesSync(16);var t=e.encrypt(this.aesKey,"RSA-OAEP",{mdf:i.default.mgf.mgf1.create(i.default.md.sha1.create())});this.encryptedAesKey64=o.default.encode64(t)}e.prototype.encrypt=function(e,t){var r={};r["X-TP"]=t?"4":"3";r["X-KD"]=this.SERVER_PUBLIC_KEY_ID;r["X-NT"]=s.default.networkType;r["X-V"]="1.0.0.0";if(!t)r["X-TL"]="10";r["X-AK"]=this.encryptedAesKey64;var a=o.default.encode64(this.aesKey);var n=o.default.encodeUtf8(this.SERVER_PUBLIC_KEY_ID+a+e);var i=o.default.encode64(o.default.sha256(n));var u=o.default.md5(i);r["X-SG"]=i;return{arraybuffer:o.default.encrypt("AES-CFB",this.aesKey,u,e),iv:u,headers:r}};e.prototype.decrypt=function(e,t){return o.default.decrypt("AES-CFB",this.aesKey,t,e)};return e}();t["default"]=u},8784:function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});var n=a(r(7223));var i=a(r(9547));var o=a(r(1428));var s=a(r(7004));var u=function(){function e(e){this.SERVER_PUBLIC_KEY="-----BEGIN PUBLIC KEY-----".concat(n.default.PHONE_SERVER_PUBLIC_KEY,"-----END PUBLIC KEY-----");this.SERVER_PUBLIC_KEY_ID=n.default.PHONE_SERVER_PUBLIC_KEY_ID;this.header={};this.publicKey=this.SERVER_PUBLIC_KEY;this.keyId=this.SERVER_PUBLIC_KEY_ID;this.aesKey="";this.encryptedAesKey="";this.rsaPublicKey=i.default.pki.publicKeyFromPem(this.publicKey);this.updateAesKey()}e.prototype.updateAesKey=function(){this.aesKey=i.default.random.getBytesSync(16);this.encryptedAesKey=this.rsaPublicKey.encrypt(this.aesKey,"RSA-OAEP",{mdf:i.default.mgf.mgf1.create(i.default.md.sha1.create())})};e.prototype.appendHeaders=function(e){return Object.assign(e,this.header)};e.prototype.e=function(e){var t=s.default.stringToUint8Array(e);this.header.GT_C_T="1";this.header.GT_C_K=this.keyId;this.header.GT_T=Date.now().toString();var r=i.default.random.getBytesSync(16);var a=r+this.encryptedAesKey;this.header.GT_C_V=o.default.encode64(a);var n=this.header.GT_T+s.default.uint8ArrayToString(t);var u=o.default.sha1(n);this.header.GT_C_S=o.default.encode64(u);var l=o.default.md5(this.header.GT_C_S);return o.default.encryptBuf("AES-CFB",this.aesKey,l,t)};e.prototype.d=function(e,t){var r=e["GT_ERR"]||e["gt_err"];if(!r||r!=="0")if(r)throw Error("GT_ERR header is "+r);else throw Error("GT_ERR header not found");var a=e["GT_T"]||e["gt_t"];if(!a)throw Error("GT_T header not found");var n=a;var i=o.default.md5(n);var s=e["GT_C_S"]||e["gt_c_s"];if(!s)throw Error("GT_C_S header not found");var u=o.default.decode64(s);var l=o.default.decrypt("AES-CFB",this.aesKey,i,t);var f=n+l;var c=o.default.sha1(f);if(c!==u)throw Error("response body sign check failed");return l};return e}();t["default"]=u},6063:function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});var n=a(r(910));var i=a(r(41));var o=a(r(5704));var s=a(r(1428));var u;(function(e){function t(){var e=o.default.getGtcid();if(e==""){e=r();o.default.setGtcid(e)}return e}e.get=t;function r(){var e="";var t=(new Date).getTime();var r=n.default.appid;var a=i.default.getUuid();var o=s.default.md5Hex("".concat(a,"-").concat(t,"-").concat(r));var u=o.charAt(o.length-1);if(u<16)o="".concat(o,"0");o="".concat(o).concat(u.toString(16));return"gtc_".concat(o)}})(u||(u={}));t["default"]=u},2668:function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});var n=a(r(910));var i=a(r(7223));var o=a(r(1428));var s=a(r(7004));var u=function(){function e(){this.tempKey=this.getTempKey();this.keyArray=this.getKey(this.tempKey)}e.prototype.encrypt=function(e,t){var r={};r["X-TP"]="5";r["X-V"]="2.0.0.0";r["X-NT"]=n.default.networkType;r["X-SV"]=i.default.SDK_VERSION;var a=s.default.stringToUint8Array(o.default.encodeUtf8(e));r["X-CK"]=this.tempKey;var u=this.getXOR(this.keyArray,a);return{arraybuffer:u.buffer,headers:r}};e.prototype.decrypt=function(e){var t=this.getXOR(this.keyArray,new Uint8Array(e));return o.default.decodeUtf8(s.default.uint8ArrayToString(t))};e.prototype.getKey=function(e){var t=s.default.stringToUint8Array(e);if(t.length<16)return t;var r=new Uint8Array(16);r.set(t.subarray(0,8),0);r.set(t.subarray(t.length-8),r.length-8);return r};e.prototype.getTempKey=function(){return o.default.md5Hex("".concat(n.default.gsAppid,"-").concat(n.default.gtcId,"-").concat(Date.now()))};e.prototype.getXOR=function(e,t){for(var r=0;r<t.length;r++)t[r]^=e[r%e.length];return t};return e}();t["default"]=u},1428:function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});var n=a(r(9547));var i=function(){function e(){}e.md5Hex=function(e){var t=n.default.md.md5.create();t.update(e);var r=t.digest().toHex();return r};e.md5=function(e){var t=n.default.md.md5.create();t.update(e);return t.digest().data};e.sha1=function(e){var t=n.default.md.sha1.create();t.update(e);return t.digest().data};e.sha256=function(e,t){if(t===void 0)t="utf8";var r=n.default.md.sha256.create();r.update(e);return r.digest().data};e.encode64=function(e){return n.default.util.encode64(e)};e.decode64=function(e){return n.default.util.decode64(e)};e.encryptByteBuffer=function(e,t,r,a){var i=n.default.cipher.createCipher(e,t);i.start({iv:r});i.update(a);i.finish();var o=i.output;var s=new Int8Array(o.length());for(var u=0;u<o.length();u++)s[u]=o.at(u);return s.buffer};e.encrypt=function(e,t,r,a){return this.encryptByteBuffer(e,t,r,n.default.util.createBuffer(n.default.util.encodeUtf8(a)))};e.encryptBuf=function(e,t,r,a){return this.encryptByteBuffer(e,t,r,n.default.util.createBuffer(a))};e.decrypt=function(e,t,r,a){var i=n.default.cipher.createDecipher(e,t);i.start({iv:r});i.update(n.default.util.createBuffer(a));i.finish();return n.default.util.decodeUtf8(i.output.data)};e.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};e.decodeUtf8=function(e){return decodeURIComponent(escape(e))};return e}();t["default"]=i},8600:function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});var n=a(r(41));var i=function(){function e(){}e.info=function(){var e=[];for(var t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.debugMode==1||this.debugMode==9)console.info("[GsIdo][Info]",n.default.formatDate(new Date),e)};e.dev=function(){var e=[];for(var t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.debugMode==9)console.info("[GsIdo][Dev]",n.default.formatDate(new Date),e)};e.warn=function(){var e=[];for(var t=0;t<arguments.length;t++)e[t]=arguments[t];console.warn("[GsIdo][Warm]",n.default.formatDate(new Date),e)};e.error=function(){var e=[];for(var t=0;t<arguments.length;t++)e[t]=arguments[t];console.error("[GsIdo][Error]",n.default.formatDate(new Date),e)};e.debugMode=0;return e}();t["default"]=i},7004:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function e(){}e.isBlank=function(e){return!e||/^\s*$/.test(e)};e.safeGet=function(e,t){return e&&e[t]||""};e.randomString=function(e){var t="";for(var r=e;r>0;--r)t+=this.chars[Math.floor(Math.random()*this.chars.length)];return t};e.stringToUint8Array=function(e){var t=[];for(var r=0,a=e.length;r<a;++r)t.push(e.charCodeAt(r));return new Uint8Array(t)};e.stringToInt8Array=function(e){var t=[];for(var r=0,a=e.length;r<a;++r)t.push(e.charCodeAt(r));return new Int8Array(t)};e.uint8ArrayToString=function(e){var t="";for(var r=0,a=e.length;r<a;++r)t+=String.fromCharCode(e[r]);return t};e.int8ArrayToString=function(e){var t="";for(var r=0,a=e.length;r<a;++r)t+=String.fromCharCode(e[r]);return t};e.arrayBufferToString=function(e){return this.uint8ArrayToString(new Uint8Array(e))};e.equalsUint8Array=function(e,t){if(e.length!==t.length)return false;for(var r=0,a=e.length;r<a;++r)if(e[r]!==t[r])return false;return true};e.concatUint8Array=function(){var e=[];for(var t=0;t<arguments.length;t++)e[t]=arguments[t];var r=0;for(var a=0;a<e.length;a++)r+=e[a].length;var n=new Uint8Array(r);var i=0;for(var a=0;a<e.length;a++){n.set(e[a],i);i+=e[a].length}return n};e.chars="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";return e}();t["default"]=r},310:()=>{}};var t={};function r(a){var n=t[a];if(n!==void 0)return n.exports;var i=t[a]={exports:{}};e[a].call(i.exports,i,i.exports,r);return i.exports}(()=>{r.g=function(){if(typeof globalThis==="object")return globalThis;try{return this||new Function("return this")()}catch(e){if(typeof window==="object")return window}}()})();var a=r(3096);return a})()));
//# sourceMappingURL=gsido-h5-min.js.map